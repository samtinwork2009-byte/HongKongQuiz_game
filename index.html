
<!DOCTYPE html><html lang="zh-Hant"><head><meta name="x-poe-datastore-behavior" content="local_only"><meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://code.jquery.com https://unpkg.com https://d3js.org https://threejs.org https://cdn.plot.ly https://stackpath.bootstrapcdn.com https://maps.googleapis.com https://cdn.tailwindcss.com https://ajax.googleapis.com https://kit.fontawesome.com https://cdn.datatables.net https://maxcdn.bootstrapcdn.com https://code.highcharts.com https://tako-static-assets-production.s3.amazonaws.com https://www.youtube.com https://fonts.googleapis.com https://fonts.gstatic.com https://pfst.cf2.poecdn.net https://puc.poecdn.net https://i.imgur.com https://wikimedia.org https://*.icons8.com https://*.giphy.com https://picsum.photos https://images.unsplash.com; frame-src 'self' https://www.youtube.com https://trytako.com; child-src 'self'; manifest-src 'self'; worker-src 'self'; upgrade-insecure-requests; block-all-mixed-content;"><meta name="x-poe-datastore-behavior" content="local_only"><meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://code.jquery.com https://unpkg.com https://d3js.org https://threejs.org https://cdn.plot.ly https://stackpath.bootstrapcdn.com https://maps.googleapis.com https://cdn.tailwindcss.com https://ajax.googleapis.com https://kit.fontawesome.com https://cdn.datatables.net https://maxcdn.bootstrapcdn.com https://code.highcharts.com https://tako-static-assets-production.s3.amazonaws.com https://www.youtube.com https://fonts.googleapis.com https://fonts.gstatic.com https://pfst.cf2.poecdn.net https://puc.poecdn.net https://i.imgur.com https://wikimedia.org https://*.icons8.com https://*.giphy.com https://picsum.photos https://images.unsplash.com; frame-src 'self' https://www.youtube.com https://trytako.com; child-src 'self'; manifest-src 'self'; worker-src 'self'; upgrade-insecure-requests; block-all-mixed-content;"><meta name="x-poe-datastore-behavior" content="local_only"><meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://code.jquery.com https://unpkg.com https://d3js.org https://threejs.org https://cdn.plot.ly https://stackpath.bootstrapcdn.com https://maps.googleapis.com https://cdn.tailwindcss.com https://ajax.googleapis.com https://kit.fontawesome.com https://cdn.datatables.net https://maxcdn.bootstrapcdn.com https://code.highcharts.com https://tako-static-assets-production.s3.amazonaws.com https://www.youtube.com https://fonts.googleapis.com https://fonts.gstatic.com https://pfst.cf2.poecdn.net https://puc.poecdn.net https://i.imgur.com https://wikimedia.org https://*.icons8.com https://*.giphy.com https://picsum.photos https://images.unsplash.com; frame-src 'self' https://www.youtube.com https://trytako.com; child-src 'self'; manifest-src 'self'; worker-src 'self'; upgrade-insecure-requests; block-all-mixed-content;"><meta name="x-poe-datastore-behavior" content="local_only"><meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://code.jquery.com https://unpkg.com https://d3js.org https://threejs.org https://cdn.plot.ly https://stackpath.bootstrapcdn.com https://maps.googleapis.com https://cdn.tailwindcss.com https://ajax.googleapis.com https://kit.fontawesome.com https://cdn.datatables.net https://maxcdn.bootstrapcdn.com https://code.highcharts.com https://tako-static-assets-production.s3.amazonaws.com https://www.youtube.com https://fonts.googleapis.com https://fonts.gstatic.com https://pfst.cf2.poecdn.net https://puc.poecdn.net https://i.imgur.com https://wikimedia.org https://*.icons8.com https://*.giphy.com https://picsum.photos https://images.unsplash.com; frame-src 'self' https://www.youtube.com https://trytako.com; child-src 'self'; manifest-src 'self'; worker-src 'self'; upgrade-insecure-requests; block-all-mixed-content;">
    <meta name="x-poe-datastore-behavior" content="local_only">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://code.jquery.com https://unpkg.com https://d3js.org https://threejs.org https://cdn.plot.ly https://stackpath.bootstrapcdn.com https://maps.googleapis.com https://cdn.tailwindcss.com https://ajax.googleapis.com https://kit.fontawesome.com https://cdn.datatables.net https://maxcdn.bootstrapcdn.com https://code.highcharts.com https://tako-static-assets-production.s3.amazonaws.com https://www.youtube.com https://fonts.googleapis.com https://fonts.gstatic.com https://pfst.cf2.poecdn.net https://puc.poecdn.net https://i.imgur.com https://wikimedia.org https://*.icons8.com https://*.giphy.com https://picsum.photos https://images.unsplash.com; frame-src 'self' https://www.youtube.com https://trytako.com; child-src 'self'; manifest-src 'self'; worker-src 'self'; upgrade-insecure-requests; block-all-mixed-content;">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="真•香港人問答及猜謎遊戲 — 科技、生活、學習多類別互動問答平台。">
    <meta name="theme-color" content="#0a0e17">
    <title>智能手機猜謎遊戲 | TechQuiz</title>

    <style>
        :root {
            --primary: #0a0e17;
            --secondary: #131a2d;
            --accent: #00a8ff;
            --accent-light: #4cd0ff;
            --text: #e0e0e0;
            --correct: #00d26a;
            --wrong: #ff3750;
            --card-bg: rgba(19, 26, 45, 0.8);
        }

        /* 隱藏原本簡介頁內的 .gameplay-section（改為獨立頁面顯示） */
        .intro-screen .gameplay-section { display: none; }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, var(--primary) 0%, #1a1f38 100%);
            color: var(--text);
            min-height: 100vh;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        /* Reusable utility classes for extracted inline styles */
        .panel {
            margin-bottom: 25px;
            padding: 20px;
            border-radius: 12px;
            background: linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
        }

        .panel-muted {
            background: linear-gradient(135deg, rgba(100,150,255,0.06), rgba(150,200,255,0.03));
            padding: 20px;
            border-radius: 12px;
            text-align: center;
        }

        .card-overlay {
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }

        .btn-ghost {
            background: linear-gradient(135deg, rgba(100, 100, 100, 0.2), rgba(150, 150, 150, 0.12));
            border: 2px solid rgba(255, 255, 255, 0.12);
            padding: 8px 14px;
            border-radius: 8px;
            cursor: pointer;
        }

        .grid-responsive { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-bottom: 30px; }

        .visually-hidden { position: absolute; left: -999px; top: auto; width: 1px; height: 1px; overflow: hidden; }

        /* 基本 category-card 公用樣式（將大量 inline 重複屬性提取出來） */
        .category-card {
            border-radius: 16px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 10% 20%, rgba(0, 168, 255, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(76, 208, 255, 0.1) 0%, transparent 20%);
            z-index: -1;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-bottom: 1px solid rgba(0, 168, 255, 0.3);
            margin-bottom: 30px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 20px;
        }
        
            .logo-text {
            font-size: 24px;
            font-weight: 700;
            background: linear-gradient(to right, var(--accent), var(--accent-light));
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            -webkit-text-fill-color: transparent;
        }
        
        .score-board {
            background: var(--card-bg);
            padding: 10px 20px;
            border-radius: 10px;
            border: 1px solid rgba(0, 168, 255, 0.3);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .score {
            font-size: 24px;
            font-weight: bold;
            color: var(--accent-light);
        }

        .level-score {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.7);
            margin-top: 4px;
        }

        /* 进度条容器 */
        .progress-container {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 25px;
            border: 1px solid rgba(0, 168, 255, 0.3);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .progress-title {
            font-size: 16px;
            font-weight: bold;
            color: var(--accent-light);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .progress-stats {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.8);
        }

        .progress-bar-wrapper {
            width: 100%;
            height: 24px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            overflow: hidden;
            position: relative;
            border: 1px solid rgba(0, 168, 255, 0.2);
        }

        .progress-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent) 0%, var(--accent-light) 100%);
            border-radius: 12px;
            transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 10px rgba(0, 168, 255, 0.5);
        }

        .progress-bar-fill::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .progress-percentage {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 12px;
            font-weight: bold;
            color: #fff;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
            z-index: 1;
        }

        /* 连击计数器 */
        .combo-container {
            position: fixed;
            top: 50%;
            right: 20px;
            transform: translateY(-50%);
            z-index: 100;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }

        .combo-container.active {
            opacity: 1;
        }

        .combo-display {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.95) 0%, rgba(255, 165, 0, 0.95) 100%);
            border: 3px solid #ffd700;
            border-radius: 16px;
            padding: 20px 30px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(255, 215, 0, 0.4);
            animation: comboPulse 0.6s ease-out;
        }

        @keyframes comboPulse {
            0% {
                transform: scale(0.8);
                opacity: 0;
            }
            50% {
                transform: scale(1.1);
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .combo-number {
            font-size: 48px;
            font-weight: bold;
            color: #fff;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
            line-height: 1;
            margin-bottom: 5px;
        }

        .combo-text {
            font-size: 18px;
            font-weight: bold;
            color: #fff;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .combo-fire {
            display: inline-block;
            animation: fireFlicker 0.5s infinite alternate;
        }

        @keyframes fireFlicker {
            0% { transform: scale(1) rotate(-5deg); }
            100% { transform: scale(1.1) rotate(5deg); }
        }

        /* 倒计时器样式 */
        .timer-container {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 25px;
            border: 2px solid rgba(0, 168, 255, 0.4);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            position: relative;
            overflow: hidden;
        }

        .timer-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 168, 255, 0.1), transparent);
            animation: timerShimmer 2s infinite;
        }

        @keyframes timerShimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .timer-container.warning {
            border-color: rgba(255, 165, 0, 0.6);
            animation: timerWarning 1s ease-in-out infinite;
        }

        .timer-container.danger {
            border-color: rgba(255, 55, 80, 0.8);
            animation: timerDanger 0.5s ease-in-out infinite;
        }

        @keyframes timerWarning {
            0%, 100% { box-shadow: 0 4px 20px rgba(255, 165, 0, 0.3); }
            50% { box-shadow: 0 4px 30px rgba(255, 165, 0, 0.6); }
        }

        @keyframes timerDanger {
            0%, 100% { box-shadow: 0 4px 20px rgba(255, 55, 80, 0.4); }
            50% { box-shadow: 0 4px 35px rgba(255, 55, 80, 0.8); }
        }

        .timer-icon {
            font-size: 48px;
            animation: timerPulse 2s ease-in-out infinite;
        }

        @keyframes timerPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .timer-display {
            display: flex;
            align-items: center;
            gap: 8px;
            position: relative;
            z-index: 1;
        }

        .timer-label {
            font-size: 16px;
            color: rgba(255, 255, 255, 0.8);
            font-weight: 600;
        }

        .timer-value {
            font-size: 48px;
            font-weight: bold;
            color: var(--accent-light);
            min-width: 80px;
            text-align: center;
            text-shadow: 0 2px 10px rgba(0, 168, 255, 0.5);
            transition: color 0.3s ease;
        }

        .timer-container.warning .timer-value {
            color: #ffa500;
            text-shadow: 0 2px 10px rgba(255, 165, 0, 0.5);
        }

        .timer-container.danger .timer-value {
            color: #ff3750;
            text-shadow: 0 2px 10px rgba(255, 55, 80, 0.5);
            animation: timerShake 0.5s ease-in-out infinite;
        }

        @keyframes timerShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-3px); }
            75% { transform: translateX(3px); }
        }

        .timer-unit {
            font-size: 18px;
            color: rgba(255, 255, 255, 0.7);
            font-weight: 600;
        }

        .timer-progress-ring {
            position: relative;
            width: 80px;
            height: 80px;
        }

        .timer-progress-ring svg {
            transform: rotate(-90deg);
        }

        .timer-ring-bg {
            fill: none;
            stroke: rgba(255, 255, 255, 0.1);
            stroke-width: 4;
        }

        .timer-ring-fill {
            fill: none;
            stroke: var(--accent-light);
            stroke-width: 4;
            stroke-linecap: round;
            stroke-dasharray: 226.19;
            stroke-dashoffset: 0;
            transition: stroke-dashoffset 1s linear, stroke 0.3s ease;
        }

        .timer-container.warning .timer-ring-fill {
            stroke: #ffa500;
        }

        .timer-container.danger .timer-ring-fill {
            stroke: #ff3750;
        }

        /* 移动端优化 */
        @media (max-width: 768px) {
            .combo-container {
                right: 10px;
            }

            .combo-display {
                padding: 15px 20px;
            }

            .combo-number {
                font-size: 36px;
            }

            .combo-text {
                font-size: 14px;
            }

            .progress-container {
                padding: 15px;
            }

            .timer-container {
                padding: 15px;
                gap: 12px;
            }

            .timer-icon {
                font-size: 36px;
            }

            .timer-label {
                font-size: 14px;
            }

            .timer-value {
                font-size: 36px;
                min-width: 60px;
            }

            .timer-unit {
                font-size: 14px;
            }

            .timer-progress-ring {
                width: 60px;
                height: 60px;
            }

            .timer-progress-ring svg {
                width: 60px;
                height: 60px;
            }
        }
        
        .level-indicator {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .level {
            background: var(--card-bg);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            flex: 1 1 calc(20% - 10px);
            min-width: 80px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .level.active {
            border-color: var(--accent);
            box-shadow: 0 0 15px rgba(0, 168, 255, 0.5);
        }
        
        .level-number {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 5px;
            color: var(--accent-light);
        }
        
        .level-difficulty {
            font-size: 11px;
            opacity: 0.9;
            border: 1px solid rgba(59, 130, 246, 0.4);
            padding: 3px 8px;
            border-radius: 4px;
            display: inline-block;
            margin-top: 2px;
        }
        
        .page-info {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 15px 20px;
            margin-bottom: 20px;
            border: 1px solid rgba(0, 168, 255, 0.3);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .page-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--accent-light);
        }

        .page-progress {
            font-size: 14px;
            opacity: 0.9;
        }

        .questions-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .question-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(0, 168, 255, 0.2);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }

        .question-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
        }

        /* 文字輸入題目樣式 */
        .text-input-question {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 25px;
            border: 2px solid rgba(0, 168, 255, 0.3);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        .text-input-container {
            margin: 20px 0;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .text-input-field {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(0, 168, 255, 0.5);
            border-radius: 10px;
            padding: 15px;
            color: var(--text);
            font-size: 16px;
            font-family: inherit;
            outline: none;
            transition: all 0.3s ease;
            min-height: 50px;
            resize: vertical;
        }

        .text-input-field:focus {
            border-color: var(--accent-light);
            background: rgba(0, 168, 255, 0.1);
            box-shadow: 0 0 10px rgba(0, 168, 255, 0.3);
        }

        .text-input-hint {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.6);
            font-style: italic;
            margin-top: 5px;
        }

        .text-submit-btn {
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .text-submit-btn:hover:not(:disabled) {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0, 168, 255, 0.4);
        }

        .text-submit-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .question-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .question-number {
            font-size: 16px;
            font-weight: 600;
            color: var(--accent-light);
        }

        .question-category {
            background: rgba(0, 168, 255, 0.2);
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 13px;
            font-weight: 500;
        }

        .question-content {
            margin-bottom: 15px;
            font-size: 16px;
            line-height: 1.8;
            word-wrap: break-word;
            overflow-wrap: break-word;
            white-space: pre-wrap;
            min-height: 50px;
        }

        .options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-top: 15px;
        }

        .option {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 14px;
            line-height: 1.5;
            word-wrap: break-word;
            overflow-wrap: break-word;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .option:hover:not(.selected):not(.disabled) {
            background: rgba(0, 168, 255, 0.1);
            border-color: var(--accent);
        }

        .option.selected {
            background: rgba(0, 168, 255, 0.3);
            border-color: var(--accent);
        }

        .option.disabled {
            cursor: not-allowed;
            opacity: 0.6;
        }

        .option.correct {
            background: rgba(0, 210, 106, 0.2);
            border-color: var(--correct);
        }

        .option.wrong {
            background: rgba(255, 55, 80, 0.2);
            border-color: var(--wrong);
        }
        
        .controls {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        button {
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);
            border: none;
            color: white;
            padding: 12px 25px;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 168, 255, 0.3);
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 168, 255, 0.4);
        }
        
        button:disabled {
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.5);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* 挑戰加速器按鈕樣式 */
        .accelerator-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            filter: brightness(1.15);
            box-shadow: 0 6px 20px rgba(0, 168, 255, 0.5);
        }

        .accelerator-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            filter: grayscale(0.7);
        }
        
        .result-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 14, 23, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
        
        .result-modal.active {
            opacity: 1;
            pointer-events: all;
        }
        
        .modal-content {
            background: var(--secondary);
            border-radius: 15px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            border: 1px solid var(--accent);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        
        .modal-title {
            font-size: 28px;
            margin-bottom: 20px;
            color: var(--accent-light);
        }
        
        .modal-score {
            font-size: 40px;
            font-weight: bold;
            margin: 20px 0;
            color: var(--accent-light);
        }
        
        .modal-message {
            margin-bottom: 25px;
            line-height: 1.6;
        }
        
        /* 簡介頁面樣式 */
        .intro-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            animation: fadeIn 0.6s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInOut {
            0% {
                opacity: 0;
                transform: translate(-50%, -60%);
            }
            15% {
                opacity: 1;
                transform: translate(-50%, -50%);
            }
            85% {
                opacity: 1;
                transform: translate(-50%, -50%);
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -40%);
            }
        }

        .intro-content {
            max-width: 900px;
            width: 100%;
        }

        .intro-header {
            text-align: center;
            margin-bottom: 40px;
            animation: slideDown 0.8s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .intro-logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .intro-logo-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 30px;
            box-shadow: 0 8px 25px rgba(0, 168, 255, 0.4);
        }

        .intro-logo-text {
            font-size: 36px;
            font-weight: 700;
            background: linear-gradient(to right, var(--accent), var(--accent-light));
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            -webkit-text-fill-color: transparent;
        }

        .intro-title {
            font-size: 48px;
            font-weight: 800;
            margin-bottom: 10px;
            color: var(--text);
            text-shadow: 0 2px 10px rgba(0, 168, 255, 0.3);
        }

        .intro-subtitle {
            font-size: 20px;
            color: var(--accent-light);
            opacity: 0.9;
        }

        .intro-description {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(0, 168, 255, 0.2);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            animation: fadeInUp 1s ease 0.2s both;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .intro-description h2 {
            font-size: 28px;
            margin-bottom: 15px;
            color: var(--accent-light);
        }

        .intro-description > p {
            font-size: 18px;
            line-height: 1.8;
            margin-bottom: 30px;
            opacity: 0.9;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .feature-item {
            display: flex;
            gap: 15px;
            background: rgba(255, 255, 255, 0.03);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .feature-item:hover {
            background: rgba(0, 168, 255, 0.1);
            border-color: var(--accent);
            transform: translateY(-3px);
        }

        .feature-icon {
            font-size: 40px;
            line-height: 1;
        }

        .feature-text h3 {
            font-size: 18px;
            margin-bottom: 5px;
            color: var(--text);
        }

        .feature-text p {
            font-size: 14px;
            opacity: 0.8;
            line-height: 1.5;
        }

        .gameplay-section {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(0, 168, 255, 0.2);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            animation: fadeInUp 1s ease 0.4s both;
        }

        .gameplay-section h2 {
            font-size: 28px;
            margin-bottom: 25px;
            color: var(--accent-light);
        }

        .gameplay-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .step {
            display: flex;
            gap: 15px;
            align-items: flex-start;
        }

        .step-number {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 18px;
            flex-shrink: 0;
            box-shadow: 0 4px 15px rgba(0, 168, 255, 0.3);
        }

        .step-content h3 {
            font-size: 16px;
            margin-bottom: 5px;
            color: var(--text);
        }

        .step-content p {
            font-size: 14px;
            opacity: 0.8;
            line-height: 1.5;
        }

        .difficulty-info {
            background: rgba(255, 255, 255, 0.03);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .difficulty-info h3 {
            font-size: 18px;
            margin-bottom: 15px;
            color: var(--text);
        }

        .difficulty-levels {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .difficulty-badge {
            background: rgba(0, 168, 255, 0.2);
            color: var(--accent-light);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            border: 1px solid var(--accent);
        }

        .difficulty-badge.level-1 {
            background: rgba(0, 210, 106, 0.2);
            border-color: var(--correct);
            color: var(--correct);
        }

        .difficulty-badge.level-2 {
            background: rgba(0, 168, 255, 0.2);
            border-color: var(--accent);
            color: var(--accent-light);
        }

        .difficulty-badge.level-3 {
            background: rgba(255, 193, 7, 0.2);
            border-color: #ffc107;
            color: #ffc107;
        }

        .difficulty-badge.level-4 {
            background: rgba(255, 152, 0, 0.2);
            border-color: #ff9800;
            color: #ff9800;
        }

        .difficulty-badge.level-5 {
            background: rgba(255, 55, 80, 0.2);
            border-color: var(--wrong);
            color: var(--wrong);
        }

        .start-game-btn {
            width: 100%;
            padding: 18px;
            font-size: 20px;
            font-weight: bold;
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(0, 168, 255, 0.4);
            animation: pulse 2s ease infinite;
        }

        @keyframes pulse {
            0%, 100% {
                box-shadow: 0 8px 25px rgba(0, 168, 255, 0.4);
            }
            50% {
                box-shadow: 0 8px 35px rgba(0, 168, 255, 0.6);
            }
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* 類別卡片樣式 */
        .category-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
        }

        .category-card:hover > div:first-child {
            opacity: 1 !important;
        }

        .category-card.selected {
            border-width: 3px;
            box-shadow: 0 0 30px rgba(0, 168, 255, 0.5);
        }

        .category-card.selected::after {
            content: '✓';
            position: absolute;
            top: 15px;
            right: 15px;
            width: 35px;
            height: 35px;
            background: linear-gradient(135deg, var(--accent), var(--accent-light));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: bold;
            color: white;
            animation: checkmark 0.3s ease;
        }

        @keyframes checkmark {
            0% {
                transform: scale(0) rotate(-45deg);
            }
            50% {
                transform: scale(1.2) rotate(5deg);
            }
            100% {
                transform: scale(1) rotate(0deg);
            }
        }

        .start-game-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(0, 168, 255, 0.6);
        }

        .start-game-btn:active {
            transform: translateY(-1px);
        }

        /* 类别选择页面样式 */
        .category-screen {
            display: none;
            min-height: 100vh;
            padding: 20px;
        }

        .category-screen.active {
            display: block;
            animation: fadeIn 0.6s ease;
        }

        .category-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .category-header {
            text-align: center;
            margin-bottom: 50px;
            padding-top: 40px;
        }

        .category-main-title {
            font-size: 42px;
            font-weight: 800;
            margin-bottom: 15px;
            background: linear-gradient(to right, var(--accent), var(--accent-light));
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 2px 20px rgba(0, 168, 255, 0.3);
        }

        .category-subtitle {
            font-size: 20px;
            color: rgba(224, 224, 224, 0.8);
        }

        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .category-card {
            background: linear-gradient(135deg, rgba(0, 168, 255, 0.15), rgba(76, 208, 255, 0.1));
            border: 2px solid rgba(0, 168, 255, 0.3);
            border-radius: 16px;
            padding: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .category-card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(0, 168, 255, 0.1) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }

        .category-card:hover::before {
            opacity: 1;
        }

        .category-icon {
            font-size: 50px;
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
        }

        .category-card h3 {
            font-size: 24px;
            margin-bottom: 12px;
            color: var(--accent-light);
            position: relative;
            z-index: 1;
        }

        .category-card p {
            color: rgba(224, 224, 224, 0.8);
            line-height: 1.6;
            position: relative;
            z-index: 1;
        }

        .back-to-intro-btn {
            background: var(--card-bg);
            border: 1px solid rgba(0, 168, 255, 0.3);
            color: var(--accent-light);
            padding: 14px 30px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            display: block;
            margin: 0 auto;
        }

        .back-to-intro-btn:hover {
            background: rgba(0, 168, 255, 0.2);
            box-shadow: 0 0 20px rgba(0, 168, 255, 0.3);
        }

        @media (max-width : 1879px ){
            .level {
                flex: 1 1 calc(25% - 10px);
                min-width: 70px;
            }
        }

        @media (max-width: 1024px) {
            .level {
                flex: 1 1 calc(33.333% - 10px);
                min-width: 65px;
            }

            .level-number {
                font-size: 16px;
            }

            .level-difficulty {
                font-size: 10px;
                padding: 2px 6px;
            }
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .container {
                padding: 0 5px;
            }

            .intro-title {
                font-size: 28px;
            }

            .intro-subtitle {
                font-size: 16px;
            }

            .intro-logo-icon {
                width: 50px;
                height: 50px;
                font-size: 24px;
            }

            .intro-logo-text {
                font-size: 28px;
            }

            .intro-description,
            .gameplay-section {
                padding: 20px;
            }

            .intro-description h2,
            .gameplay-section h2 {
                font-size: 20px;
            }

            .intro-description > p {
                font-size: 16px;
            }

            .features {
                grid-template-columns: 1fr;
            }

            .gameplay-steps {
                grid-template-columns: 1fr;
            }

            .difficulty-levels {
                flex-direction: column;
            }

            .difficulty-badge {
                text-align: center;
            }

            .game-area {
                grid-template-columns: 1fr;
            }

            .level-indicator {
                gap: 6px;
            }

            .level {
                flex: 1 1 calc(50% - 6px);
                padding: 10px 5px;
                min-width: 60px;
            }

            .level-number {
                font-size: 13px;
                margin-bottom: 3px;
            }

            .level-difficulty {
                font-size: 9px;
                padding: 2px 5px;
            }

            .challenge-card,
            .bonus-challenge {
                padding: 20px;
            }

            .challenge-title,
            .bonus-title {
                font-size: 18px;
            }

            .options {
                grid-template-columns: 1fr;
            }

            .controls {
                flex-direction: column;
                gap: 10px;
            }

            button {
                width: 100%;
            }

            header {
                padding: 15px 0;
                margin-bottom: 20px;
            }

            .logo-text {
                font-size: 20px;
            }

            .logo-icon {
                width: 35px;
                height: 35px;
                font-size: 18px;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 8px;
            }

            .intro-title {
                font-size: 22px;
            }

            .intro-subtitle {
                font-size: 14px;
            }

            .intro-logo-icon {
                width: 40px;
                height: 40px;
                font-size: 20px;
            }

            .intro-logo-text {
                font-size: 24px;
            }

            .intro-description,
            .gameplay-section {
                padding: 15px;
            }

            .intro-description h2,
            .gameplay-section h2 {
                font-size: 18px;
            }

            .intro-description > p {
                font-size: 14px;
            }

            .level {
                flex: 1 1 calc(50% - 6px);
                padding: 8px 4px;
                min-width: 55px;
            }

            .level-number {
                font-size: 12px;
            }

            .level-difficulty {
                font-size: 8px;
                padding: 2px 4px;
            }

            .feature-icon {
                font-size: 30px;
            }

            .feature-text h3 {
                font-size: 16px;
            }

            .modal-content {
                padding: 20px;
                width: 95%;
            }

            .modal-title {
                font-size: 22px;
            }

            .modal-score {
                font-size: 28px;
            }

            .question-number {
                font-size: 14px;
            }

            .question-category {
                font-size: 11px;
            }

            .score {
                font-size: 20px;
            }

            .category-grid {
                grid-template-columns: 1fr !important;
            }

            .category-card {
                padding: 20px !important;
            }

            .category-card .category-icon {
                font-size: 40px !important;
            }

            .category-card h3 {
                font-size: 18px !important;
            }

            .category-card p {
                font-size: 14px !important;
            }

            .selected-category-info {
                padding: 15px !important;
            }

            .selected-category-info p {
                font-size: 16px !important;
            }
        }
        /* Fix: ensure "返回主頁" / back buttons stay centered and not become tall rectangles
           - make back buttons inline-flex with reasonable padding and max-width
           - center .controls content and allow wrapping so layout stays responsive
           - keep full-width behaviour only on very small screens (mobile) */
        .back-to-intro-btn,
        #backToHomeBtn,
        .math-back-btn,
        .back-to-intro-btn.math-back-btn {
            display: inline-flex !important;
            align-items: center;
            justify-content: center;
            padding: 10px 22px !important;
            border-radius: 10px !important;
            width: auto !important;
            min-width: 140px !important;
            max-width: 420px !important;
            margin-left: auto !important;
            margin-right: auto !important;
            box-sizing: border-box;
        }

        /* Center controls area and allow the toolbox panel to wrap underneath on narrow screens */
        .controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 18px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        /* Keep existing small-screen behaviour (full width buttons) */
        @media (max-width: 480px) {
            .back-to-intro-btn,
            #backToHomeBtn,
            .math-back-btn {
                width: 100% !important;
                padding: 12px 16px !important;
                min-width: 0 !important;
            }
        }
    </style>
    <script src="https://puc.poecdn.net/authenticated_preview_page/syncedState.3f7572448765332f3047.js"></script>
    <script src="https://puc.poecdn.net/authenticated_preview_page/syncedState.3f7572448765332f3047.js"></script><script src="https://puc.poecdn.net/authenticated_preview_page/syncedState.3f7572448765332f3047.js"></script><script src="https://puc.poecdn.net/authenticated_preview_page/syncedState.3f7572448765332f3047.js"></script><script src="https://puc.poecdn.net/authenticated_preview_page/syncedState.3f7572448765332f3047.js"></script></head>
<body>
    <a class="skip-link" href="#mainContent" style="position:absolute;left:-999px;top:auto;width:1px;height:1px;overflow:hidden;">跳至主要內容</a>
    <!-- 簡介頁面 -->
    <main id="mainContent" role="main">
    <div class="intro-screen" id="introScreen">
        <div class="intro-content">
            <div class="intro-header">
                <div class="intro-logo">
                    <div class="intro-logo-icon">HK</div>
                    <div class="intro-logo-text"><strong>2025真・香港人問答猜謎挑戰</strong></div>
                </div>
                <h1 class="intro-title"><strong style="color: #C1BCE3">真 • 香港人問答及猜謎遊戲</strong></h1>
              <p>&nbsp;</p>
<p class="intro-subtitle"><strong style="color: #9D91A8; font-size: 24px;">專為真•香港人而設計的問答猜謎遊戲</strong></p>
            </div>

            <div class="intro-description">
                <h2><strong>遊戲簡介</strong></h2>
                <p><strong>歡迎來到專為真正香港人打造的《真・香港人問答及香港達人挑戰遊戲》</strong></p>
              <p><strong>這是一款充滿本土特色、好玩又長知識的問答＋猜謎挑戰遊戲。</strong></p>
                <p><strong>透過平台內不同類別範疇的遊戲，能夠從錯誤中學習，從而吸收知識，恢復對學習的堅持和信心。</strong></p>
<div class="features">
            <div class="feature-item" style="display:flex; gap:12px; align-items:flex-start;">
                        <div class="feature-icon" style="font-size:28px;">📚</div>
                        <div class="feature-text">
                            <h3>簡介遊戲類別</h3>
                          <p>&nbsp;</p>
                          <p><strong>設計了不同範疇類別的問答遊戲，</strong></p>
                          <p><b>涵蓋科技、日常生活、出行、交通、學業、香港本土文化等多元主題，</b></p>
                            <p><strong>讓玩家在本地情境下學習與挑戰。</strong></p>
                        </div>
                    </div>

                    <div class="feature-item" style="display:flex; gap:12px; align-items:flex-start; margin-top:12px;">
                        <div class="feature-icon" style="font-size:28px;">🎯</div>
                        <div class="feature-text">
                            <h3>簡介遊戲玩法</h3>
                            <p>本平台的每個遊戲類   皆設計為 20 關，</p>
                          <p>每一關 5 題題目，題型包含選擇題與簡短文字題。遊戲內設有分數與金幣機制，</p>
                          <p>玩家可透過答題獲取分數與金幣。</p>
                          <p>平台同時提供遊戲工具包，</p>
                          <p>內含挑戰加速器等道具，</p>
                          <p>若玩家想節省時間直接跳過某關，</p>
                            <p>需達到該跳關所要求的金幣數目以解鎖該功能。</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="gameplay-section">
                <h2>遊戲玩法</h2>
                <div class="gameplay-intro" style="margin-bottom: 25px; padding: 20px; background: linear-gradient(135deg, rgba(100,150,255,0.1), rgba(150,200,255,0.05)); border-radius: 12px; text-align: center;">
                    <p style="line-height: 1.8; font-size: 16px; margin: 0;">
                        <strong>這個的猜謎學習遊戲<br>
                        一共有20關<br>
                        內包含了不同程度的題目<br>
                        由初級至超級狀元高手級別</strong>
                    </p>
                </div>
                <div class="gameplay-steps">
                    <div class="step">
                        <div class="step-number">•</div>
                        <div class="step-content">
                            <p><strong>每個關卡內有5道題目</strong></p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">•</div>
                        <div class="step-content">
                            <p><strong>累積分數</strong> 答對主要題目得10分，額外挑戰得15分</p>
                        </div>
                    </div>
                    <div class="step" style="background: linear-gradient(135deg, rgba(255,107,107,0.1), rgba(255,150,150,0.05)); border-left: 3px solid #ff6b6b; padding: 15px; border-radius: 8px; margin: 20px 0;">
                        <div class="step-content" style="margin-left: 0;">
                            <p style="font-style: italic; color: #ff6b6b; margin: 0; font-size: 15px;">
                                *希望玩家靠自己的思考能力，盡量避免使用網絡搜尋以及人工智能方式作答*
                            </p>
                        </div>
                    </div>
                </div>
                <div class="gameplay-requirements" style="margin-top: 30px; padding: 20px; background: linear-gradient(135deg, rgba(255,200,100,0.1), rgba(255,220,150,0.05)); border-radius: 12px;">
                    <h3 style="margin: 0 0 15px 0; color: #ff9800; font-size: 18px;">📋 條件要求：</h3>
                    <div class="step">
                        <div class="step-number">•</div>
                        <div class="step-content">
                            <p>關卡3至10 內每一關，至少答中兩條題目，如果成績未能達標，會有1次重做機會，玩家可以跳過重做要求維           原有當前關卡分數。系統會計算相關的關卡最高分數，較低分數不會納入總分內。</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">•</div>
                        <div class="step-content">
                            <p>不能夠跳過任何的題目以及關卡</p>
                        </div>
                    </div>
                </div>

                <div class="difficulty-info">
                    <h3>難度等級</h3>
                    <div class="difficulty-levels">
                        <span class="difficulty-badge level-1">關卡 1 - 入門級</span>
                        <span class="difficulty-badge level-2">關卡 2 - 初級</span>
                        <span class="difficulty-badge level-3">關卡 3 - 中級</span>
                        <span class="difficulty-badge level-4">關卡 4 - 進階級</span>
                        <span class="difficulty-badge level-5">關卡 5 - 高級</span>
                        <span class="difficulty-badge level-1">關卡 6 - 專家級</span>
                        <span class="difficulty-badge level-2">關卡 7 - 精英級</span>
                        <span class="difficulty-badge level-3">關卡 8 - 大師級</span>
                        <span class="difficulty-badge level-4">關卡 9 - 宗師級</span>
                        <span class="difficulty-badge level-5">關卡 10 - 高手級</span>
                        <span class="difficulty-badge level-1">關卡 11 - 資深級</span>
                        <span class="difficulty-badge level-2">關卡 12 - 專業級</span>
                        <span class="difficulty-badge level-3">關卡 13 - 菁英級</span>
                        <span class="difficulty-badge level-4">關卡 14 - 達人級</span>
                        <span class="difficulty-badge level-5">關卡 15 - 專精級</span>
                        <span class="difficulty-badge level-1">關卡 16 - 頂尖級</span>
                        <span class="difficulty-badge level-2">關卡 17 - 神級</span>
                        <span class="difficulty-badge level-3">關卡 18 - 傳說級</span>
                        <span class="difficulty-badge level-4">關卡 19 - 超越級</span>
                        <span class="difficulty-badge level-5">關卡 20 - 終極大師</span>
                    </div>
                </div>
            </div>

            <!-- 類別選擇區域 -->
            <div class="category-selection" style="margin-top: 30px;">
                <h2 style="text-align: center; margin-bottom: 20px; font-size: 28px; background: linear-gradient(to right, var(--accent), var(--accent-light)); background-clip: text; -webkit-background-clip: text; color: transparent; -webkit-text-fill-color: transparent;"><b>選擇遊戲類別</b></h2>
                <div class="category-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-bottom: 30px;">
            <!-- ...existing code... -->
            <!-- 遊戲玩法說明頁面 -->
            <div class="gameplay-screen" id="gameplayScreen" style="display: none;">
                <div class="intro-content">
                    <div class="gameplay-header" style="text-align: center; margin-bottom: 30px;">
                        <h2 style="font-size: 34px; color: var(--accent-light); margin-bottom: 15px;">遊戲玩法說明</h2>
                        <p style="color: rgba(224,224,224,0.9); font-size: 18px;">您所選的類別： <span id="selectedCategoryNameGameplay" style="font-weight:700; color: var(--accent-light);"></span></p>
                    </div>

                    <div class="gameplay-section">
                        <h2>遊戲玩法</h2>
                        <div class="gameplay-intro" style="margin-bottom: 25px; padding: 20px; background: linear-gradient(135deg, rgba(100,150,255,0.1), rgba(150,200,255,0.05)); border-radius: 12px; text-align: center;">
                            <p style="line-height: 1.8; font-size: 16px; margin: 0;">
                                <strong>這個的猜謎學習遊戲<br>
                                一共有20關<br>
                                內包含了不同程度的題目<br>
                                由初級至超級狀元高手級別</strong>
                            </p>
                        </div>
                        <div class="gameplay-steps">
                            <div class="step">
                                <div class="step-number">•</div>
                                <div class="step-content">
                                    <p><strong>每個關卡內有5道題目</strong></p>
                                </div>
                            </div>
                            <div class="step">
                                <div class="step-number">•</div>
                                <div class="step-content">
                                    <p><strong>累積分數</strong> 答對主要題目得10分，額外挑戰得15分</p>
                                </div>
                            </div>
                            <div class="step" style="background: linear-gradient(135deg, rgba(255,107,107,0.1), rgba(255,150,150,0.05)); border-left: 3px solid #ff6b6b; padding: 15px; border-radius: 8px; margin: 20px 0;">
                                <div class="step-content" style="margin-left: 0;">
                                    <p style="font-style: italic; color: #ff6b6b; margin: 0; font-size: 15px;">
                                        *希望玩家靠自己的思考能力，盡量避免使用網絡搜尋以及人工智能方式作答*
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="gameplay-requirements" style="margin-top: 30px; padding: 20px; background: linear-gradient(135deg, rgba(255,200,100,0.1), rgba(255,220,150,0.05)); border-radius: 12px;">
                            <h3 style="margin: 0 0 15px 0; color: #ff9800; font-size: 18px;">📋 條件要求：</h3>
                            <div class="step">
                                <div class="step-number">•</div>
                                <div class="step-content">
                                    <p>關卡3至10 內每一關，至少答中兩條題目，如果成績未能達標，會有1次重做機會，玩家可以跳過重做要求維持原有當前關卡分數。系統會計算相關的關卡最高分數，較低分數不會納入總分內。</p>
                                </div>
                            </div>
                            <div class="step">
                                <div class="step-number">•</div>
                                <div class="step-content">
                                    <p>不能夠跳過任何的題目以及關卡</p>
                                </div>
                            </div>
                        </div>

                        <div class="difficulty-info">
                            <h3>難度等級</h3>
                            <div class="difficulty-levels">
                                <span class="difficulty-badge level-1">關卡 1 - 入門級</span>
                                <span class="difficulty-badge level-2">關卡 2 - 初級</span>
                                <span class="difficulty-badge level-3">關卡 3 - 中級</span>
                                <span class="difficulty-badge level-4">關卡 4 - 進階級</span>
                                <span class="difficulty-badge level-5">關卡 5 - 高級</span>
                                <span class="difficulty-badge level-1">關    6 - 專家級</span>
                                <span class="difficulty-badge level-2">關卡 7 - 精英級</span>
                                <span class="difficulty-badge level-3">關卡 8 - 大師級</span>
                                <span class="difficulty-badge level-4">關卡 9 - 宗師級</span>
                                <span class="difficulty-badge level-5">關卡 10 - 高手級</span>
                                <span class="difficulty-badge level-1">關卡 11 - 資深級</span>
                                <span class="difficulty-badge level-2">關卡 12 - 專業級</span>
                                <span class="difficulty-badge level-3">關卡 13 - 菁英級</span>
                                <span class="difficulty-badge level-4">關卡 14 - 達人級</span>
                                <span class="difficulty-badge level-5">關卡 15 - 專精級</span>
                                <span class="difficulty-badge level-1">關卡 16 - 頂尖級</span>
                                <span class="difficulty-badge level-2">關卡 17 - 神級</span>
                                <span class="difficulty-badge level-3">關卡 18 - 傳說級</span>
                                <span class="difficulty-badge level-4">關卡 19 - 超越級</span>
                                <span class="difficulty-badge level-5">關卡 20 - 終極大師</span>
                            </div>
                        </div>
                    </div>

                    <div style="margin-top: 30px; text-align: center; display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                        <button class="start-game-btn" id="backFromGameplayBtn" style="background: linear-gradient(135deg, rgba(100, 100, 100, 0.3), rgba(150, 150, 150, 0.2)); border: 2px solid rgba(255, 255, 255, 0.3);">返回上一步</button>
                        <button class="start-game-btn" id="startGameFromGameplayBtn">開始遊戲</button>
                    </div>
                </div>
            </div>
            <!-- ...existing code... -->

                    <!-- 手機猜謎遊戲 -->
                    <div class="category-card" data-category="phone" style="background: linear-gradient(135deg, rgba(0, 168, 255, 0.15), rgba(76, 208, 255, 0.1)); border: 2px solid rgba(0, 168, 255, 0.3); border-radius: 16px; padding: 25px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(0, 168, 255, 0.1) 0%, transparent 70%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none;"></div>
                        <div class="category-icon" style="font-size: 48px; margin-bottom: 15px; position: relative; z-index: 1;">📱</div>
                        <h3 style="font-size: 22px; margin-bottom: 10px; color: var(--accent-light); position: relative; z-index: 1;">手機猜謎遊戲</h3>
                        <p style="color: rgba(224, 224, 224, 0.8); line-height: 1.6; position: relative; z-index: 1;">測試你對智能手機品牌、型號和規格的了解</p>
                    </div>

                    <!-- AI人工智能遊戲 -->
                    <div class="category-card" data-category="ai" style="background: linear-gradient(135deg, rgba(138, 43, 226, 0.15), rgba(186, 85, 211, 0.1)); border: 2px solid rgba(138, 43, 226, 0.3); border-radius: 16px; padding: 25px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(138, 43, 226, 0.1) 0%, transparent 70%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none;"></div>
                        <div class="category-icon" style="font-size: 48px; margin-bottom: 15px; position: relative; z-index: 1;">🤖</div>
                        <h3 style="font-size: 22px; margin-bottom: 10px; color: #ba55d3; position: relative; z-index: 1;">AI人工智能</h3>
                        <p style="color: rgba(224, 224, 224, 0.8); line-height: 1.6; position: relative; z-index: 1;">探索人工智能、機器學習和深度學習的知識</p>
                    </div>

                    <!-- 網頁開發遊戲 -->
                    <div class="category-card" data-category="web" style="background: linear-gradient(135deg, rgba(255, 87, 34, 0.15), rgba(255, 152, 0, 0.1)); border: 2px solid rgba(255, 87, 34, 0.3); border-radius: 16px; padding: 25px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(255, 87, 34, 0.1) 0%, transparent 70%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none;"></div>
                        <div class="category-icon" style="font-size: 48px; margin-bottom: 15px; position: relative; z-index: 1;">🌐</div>
                        <h3 style="font-size: 22px; margin-bottom: 10px; color: #ff9800; position: relative; z-index: 1;">網頁開發</h3>
                        <p style="color: rgba(224, 224, 224, 0.8); line-height: 1.6; position: relative; z-index: 1;">挑戰HTML、CSS、JavaScript等前端開發技能</p>
                    </div>

                    <!-- 編程遊戲 -->
                    <div class="category-card" data-category="programming" style="background: linear-gradient(135deg, rgba(0, 230, 118, 0.15), rgba(76, 209, 55, 0.1)); border: 2px solid rgba(0, 230, 118, 0.3); border-radius: 16px; padding: 25px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(0, 230, 118, 0.1) 0%, transparent 70%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none;"></div>
                        <div class="category-icon" style="font-size: 48px; margin-bottom: 15px; position: relative; z-index: 1;">💻</div>
                        <h3 style="font-size: 22px; margin-bottom: 10px; color: #4cd137; position: relative; z-index: 1;">編程開發</h3>
                        <p style="color: rgba(224, 224, 224, 0.8); line-height: 1.6; position: relative; z-index: 1;">測試Python、Java、C++等編程語言知識</p>
                    </div>

                    <!-- 新增：遊戲軟件開發 -->
                    <div class="category-card" data-category="game-dev" style="background: linear-gradient(135deg, rgba(255, 99, 71, 0.12), rgba(255, 160, 122, 0.06)); border: 2px solid rgba(255,99,71,0.25); border-radius: 16px; padding: 25px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(255,99,71,0.06) 0%, transparent 70%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none;"></div>
                        <div class="category-icon" style="font-size: 48px; margin-bottom: 15px; position: relative; z-index: 1;">🎮</div>
                        <h3 style="font-size: 22px; margin-bottom: 10px; color: #ff8c69; position: relative; z-index: 1;">遊戲軟件開發</h3>
                        <p style="color: rgba(224, 224, 224, 0.8); line-height: 1.6; position: relative; z-index: 1;">遊戲引擎、伺服器、資料結構、網絡與UX/UI 等實務知識</p>
                    </div>

                    <!-- 網絡雲端保安遊戲 -->
                    <div class="category-card" data-category="security" style="background: linear-gradient(135deg, rgba(231, 76, 60, 0.15), rgba(192, 57, 43, 0.1)); border: 2px solid rgba(231, 76, 60, 0.3); border-radius: 16px; padding: 25px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(231, 76, 60, 0.1) 0%, transparent 70%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none;"></div>
                        <div class="category-icon" style="font-size: 48px; margin-bottom: 15px; position: relative; z-index: 1;">🔒</div>
                        <h3 style="font-size: 22px; margin-bottom: 10px; color: #e74c3c; position: relative; z-index: 1;">網絡雲端保安</h3>
                      <p style="color: rgba(224, 224, 224, 0.8); line-height: 1.6; position: relative; z-index: 1;">學習網絡安全、雲端技術</p>
                        <p style="color: rgba(224, 224, 224, 0.8); line-height: 1.6; position: relative; z-index: 1;">和資訊保安</p>
                    </div>

                    <!-- 數據庫遊戲 -->
                    <div class="category-card" data-category="database" style="background: linear-gradient(135deg, rgba(52, 152, 219, 0.15), rgba(41, 128, 185, 0.1)); border: 2px solid rgba(52, 152, 219, 0.3); border-radius: 16px; padding: 25px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(52, 152, 219, 0.1) 0%, transparent 70%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none;"></div>
                        <div class="category-icon" style="font-size: 48px; margin-bottom: 15px; position: relative; z-index: 1;">🗄️</div>
                        <h3 style="font-size: 22px; margin-bottom: 10px; color: #3498db; position: relative; z-index: 1;">數據庫管理</h3>
                      <p style="color: rgba(224, 224, 224, 0.8); line-height: 1.6; position: relative; z-index: 1;">掌握SQL , Oracle Database ,</p>
                        <p style="color: rgba(224, 224, 224, 0.8); line-height: 1.6; position: relative; z-index: 1;">&nbsp;NoSQL和數據庫設計知識</p>
                    </div>

                    <!-- 電腦配置軟件硬件遊戲 -->
                    <!-- 多媒體製作應用 -->
                    <div class="category-card" data-category="multimedia" style="background: linear-gradient(135deg, rgba(255, 140, 186, 0.12), rgba(255, 200, 150, 0.06)); border: 2px solid rgba(255,140,186,0.25); border-radius: 16px; padding: 25px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(255,140,186,0.06) 0%, transparent 70%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none;"></div>
                        <div class="category-icon" style="font-size: 48px; margin-bottom: 15px; position: relative; z-index: 1;">🎬</div>
                        <h3 style="font-size: 22px; margin-bottom: 10px; color: #ffb6c1; position: relative; z-index: 1;">多媒體製作應用</h3>
                        <p style="color: rgba(224, 224, 224, 0.8); line-height: 1.6; position: relative; z-index: 1;">圖像設計、影音製作、動畫特效、直播與後製剪輯等多媒體技能挑戰</p>
                    </div>
                    <div class="category-card" data-category="computer-config" style="background: linear-gradient(135deg, rgba(255, 193, 7, 0.15), rgba(255, 152, 0, 0.1)); border: 2px solid rgba(255, 193, 7, 0.3); border-radius: 16px; padding: 25px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(255, 193, 7, 0.1) 0%, transparent 70%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none;"></div>
                        <div class="category-icon" style="font-size: 48px; margin-bottom: 15px; position: relative; z-index: 1;">🖥️</div>
                        <h3 style="font-size: 22px; margin-bottom: 10px; color: #ffc107; position: relative; z-index: 1;">電腦配置軟件硬件</h3>
                        <p style="color: rgba(224, 224, 224, 0.8); line-height: 1.6; position: relative; z-index: 1;">挑戰作業系統、BIOS、砌機、網絡設備及線材知識</p>
                    </div>

                    <!-- 零售管理系統 -->
                    <div class="category-card" data-category="retail-system" style="background: linear-gradient(135deg, rgba(34, 197, 94, 0.15), rgba(22, 163, 74, 0.1)); border: 2px solid rgba(34, 197, 94, 0.3); border-radius: 16px; padding: 25px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(34, 197, 94, 0.1) 0%, transparent 70%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none;"></div>
                        <div class="category-icon" style="font-size: 48px; margin-bottom: 15px; position: relative; z-index: 1;">🛒</div>
                        <h3 style="font-size: 22px; margin-bottom: 10px; color: #22c55e; position: relative; z-index: 1;">零售管理系統</h3>
                        <p style="color: rgba(224, 224, 224, 0.8); line-height: 1.6; position: relative; z-index: 1;">探索POS系統、庫存管理、銷售分析等零售科技知識</p>
                    </div>

                    <!-- 新增：商業及市場 類別 -->
                    <div class="category-card" data-category="business-marketing" style="background: linear-gradient(135deg, rgba(52, 211, 153, 0.12), rgba(16, 185, 129, 0.06)); border: 2px solid rgba(34,197,94,0.18); border-radius: 16px; padding: 25px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(52,211,153,0.06) 0%, transparent 70%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none;"></div>
                        <div class="category-icon" style="font-size: 48px; margin-bottom: 15px; position: relative; z-index: 1;">💼</div>
                        <h3 style="font-size: 22px; margin-bottom: 10px; color: #10b981; position: relative; z-index: 1;">商業及市場</h3>
                        <p style="color: rgba(224, 224, 224, 0.8); line-height: 1.6; position: relative; z-index: 1;">金融、財務、行銷與市場推廣的理論與實務（銀行、保險、FinTech、保險科技、財富管理專區）</p>
                    </div>

                    <!-- 內聯網及內部管理系統 -->
                    <div class="category-card" data-category="intranet-system" style="background: linear-gradient(135deg, rgba(147, 51, 234, 0.15), rgba(126, 34, 206, 0.1)); border: 2px solid rgba(147, 51, 234, 0.3); border-radius: 16px; padding: 25px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(147, 51, 234, 0.1) 0%, transparent 70%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none;"></div>
                        <div class="category-icon" style="font-size: 48px; margin-bottom: 15px; position: relative; z-index: 1;">🏢</div>
                        <h3 style="font-size: 22px; margin-bottom: 10px; color: #9333ea; position: relative; z-index: 1;">內聯網及內部管理系統</h3>
                        <p style="color: rgba(224, 224, 224, 0.8); line-height: 1.6; position: relative; z-index: 1;">了解企業內部網絡、協作平台、ERP、CRM等系統知識</p>
                    </div>

                    <!-- 自學私家車香港駕駛 -->
                    <div class="category-card" data-category="hk-driving" style="background: linear-gradient(135deg, rgba(236, 72, 153, 0.15), rgba(219, 39, 119, 0.1)); border: 2px solid rgba(236, 72, 153, 0.3); border-radius: 16px; padding: 25px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(236, 72, 153, 0.1) 0%, transparent 70%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none;"></div>
                        <div class="category-icon" style="font-size: 48px; margin-bottom: 15px; position: relative; z-index: 1;">🚗</div>
                        <h3 style="font-size: 22px; margin-bottom: 10px; color: #ec4899; position: relative; z-index: 1;">自學私家車香港駕駛</h3>
                        <p style="color: rgba(224, 224, 224, 0.8); line-height: 1.6; position: relative; z-index: 1;">測試香港駕駛理論、交通規則、路面標誌及駕駛技巧知識</p>
                    </div>

                    <!-- 靈探或探險認知 -->
                    <div class="category-card" data-category="paranormal" style="background: linear-gradient(135deg, rgba(75, 0, 130, 0.15), rgba(138, 43, 226, 0.1)); border: 2px solid rgba(75, 0, 130, 0.3); border-radius: 16px; padding: 25px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(75, 0, 130, 0.1) 0%, transparent 70%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none;"></div>
                        <div class="category-icon" style="font-size: 48px; margin-bottom: 15px; position: relative; z-index: 1;">👻</div>
                        <h3 style="font-size: 22px; margin-bottom: 10px; color: #9370db; position: relative; z-index: 1;">靈探或探險認知</h3>
                        <p style="color: rgba(224, 224, 224, 0.8); line-height: 1.6; position: relative; z-index: 1;">探索靈異現象、超自然調查、都市傳說、恐怖旅遊地點及靈媒通靈知識</p>
                    </div>

                    <div class="category-card" data-category="hk-18-districts" style="background: linear-gradient(135deg, rgba(220, 38, 38, 0.15), rgba(239, 68, 68, 0.1)); border: 2px solid rgba(220, 38, 38, 0.3); border-radius: 16px; padding: 25px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(220, 38, 38, 0.1) 0%, transparent 70%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none;"></div>
                        <div class="category-icon" style="font-size: 48px; margin-bottom: 15px; position: relative; z-index: 1;">🏙️</div>
                        <h3 style="font-size: 22px; margin-bottom: 10px; color: #ef4444; position: relative; z-index: 1;">真•香港人對18區的認知</h3>
                        <p style="color: rgba(224, 224, 224, 0.8); line-height: 1.6; position: relative; z-index: 1;">測試你對香港18區的認識，包括地理位置、區域特色、著名地標及本地文化</p>
                    </div>

                    <!-- 醫療界精英挑戰 -->
                    <div class="category-card" data-category="medical-elite" style="background: linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(96, 165, 250, 0.1)); border: 2px solid rgba(59, 130, 246, 0.3); border-radius: 16px; padding: 25px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(59, 130, 246, 0.1) 0%, transparent 70%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none;"></div>
                        <div class="category-icon" style="font-size: 48px; margin-bottom: 15px; position: relative; z-index: 1;">⚕️</div>
                        <h3 style="font-size: 22px; margin-bottom: 10px; color: #60a5fa; position: relative; z-index: 1;">醫療界精英挑戰</h3>
                        <p style="color: rgba(224, 224, 224, 0.8); line-height: 1.6; position: relative; z-index: 1;">測試你的醫學知識、臨床診斷、藥理學、解剖生理、醫療程序及專業醫療技能</p>
                    </div>

                    <!-- 香港九巴龍運巴士認知 -->
                    <div class="category-card" data-category="hk-bus" style="background: linear-gradient(135deg, rgba(168, 85, 247, 0.15), rgba(147, 51, 234, 0.1)); border: 2px solid rgba(168, 85, 247, 0.3); border-radius: 16px; padding: 25px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(168, 85, 247, 0.1) 0%, transparent 70%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none;"></div>
                        <div class="category-icon" style="font-size: 48px; margin-bottom: 15px; position: relative; z-index: 1;">🚌</div>
                        <h3 style="font-size: 22px; margin-bottom: 10px; color: #a855f7; position: relative; z-index: 1;">九巴龍運巴士認知</h3>
                        <p style="color: rgba(224, 224, 224, 0.8); line-height: 1.6; position: relative; z-index: 1;">測試你對九巴、龍運巴士路線、轉車站、車費、到站APP的認識</p>
                    </div>

                    <!-- 港鐵各路線認知 -->
                    <div class="category-card" data-category="hk-mtr" style="background: linear-gradient(135deg, rgba(6, 182, 212, 0.15), rgba(34, 197, 94, 0.1)); border: 2px solid rgba(6, 182, 212, 0.3); border-radius: 16px; padding: 25px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(6, 182, 212, 0.1) 0%, transparent 70%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none;"></div>
                        <div class="category-icon" style="font-size: 48px; margin-bottom: 15px; position: relative; z-index: 1;">🚆</div>
                        <h3 style="font-size: 22px; margin-bottom: 10px; color: #06b6d4; position: relative; z-index: 1;">港鐵各路線認知</h3>
                        <p style="color: rgba(224, 224, 224, 0.8); line-height: 1.6; position: relative; z-index: 1;">港鐵所有路線、可轉乘路線、車站位置、特色設施及轉乘資訊</p>
                    </div>

                    <!-- 輕鐵路線認知 -->
                    <div class="category-card" data-category="hk-lrt" style="background: linear-gradient(135deg, rgba(249, 115, 22, 0.15), rgba(234, 179, 8, 0.1)); border: 2px solid rgba(249, 115, 22, 0.3); border-radius: 16px; padding: 25px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(249, 115, 22, 0.1) 0%, transparent 70%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none;"></div>
                        <div class="category-icon" style="font-size: 48px; margin-bottom: 15px; position: relative; z-index: 1;">🚊</div>
                        <h3 style="font-size: 22px; margin-bottom: 10px; color: #f97316; position: relative; z-index: 1;">輕鐵路線認知</h3>
                        <p style="color: rgba(224, 224, 224, 0.8); line-height: 1.6; position: relative; z-index: 1;">屯門、元朗、天水圍輕鐵所有路線、收費、特色及車站資訊</p>
                    </div>

                    <!-- 港鐵九巴整合轉乘（已合併到「香港九巴以及港鐵各路線的認知」分類，原兩個分類已移除） -->

                    <!-- 香港九巴以及港鐵各路線的認知 -->
                    <div class="category-card" data-category="hk-transport" style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.15), rgba(5, 150, 105, 0.1)); border: 2px solid rgba(16, 185, 129, 0.3); border-radius: 16px; padding: 25px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(16, 185, 129, 0.1) 0%, transparent 70%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none;"></div>
                        <div class="category-icon" style="font-size: 48px; margin-bottom: 15px; position: relative; z-index: 1;">🚇</div>
                        <h3 style="font-size: 22px; margin-bottom: 10px; color: #10b981; position: relative; z-index: 1;">香港九巴以及港鐵各路線的認知</h3>
                        <p style="color: rgba(224, 224, 224, 0.8); line-height: 1.6; position: relative; z-index: 1;">測試你對香港公共交通系統的認識，包括九巴巴士路線、港鐵線路、車站位置及轉乘資訊</p>
                    </div>
                    <div class="category-card" data-category="gen-z-slang" style="background: linear-gradient(135deg, rgba(255, 20, 147, 0.15), rgba(255, 105, 180, 0.1)); border: 2px solid rgba(255, 20, 147, 0.3); border-radius: 16px; padding: 25px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(255, 20, 147, 0.1) 0%, transparent 70%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none;"></div>
                        <div class="category-icon" style="font-size: 48px; margin-bottom: 15px; position: relative; z-index: 1;">💬</div>
                        <h3 style="font-size: 22px; margin-bottom: 10px; color: #ff1493; position: relative; z-index: 1;">Z世代 網絡潮語</h3>
                        <p style="color: rgba(224, 224, 224, 0.8); line-height: 1.6; position: relative; z-index: 1;">測試你對Z世代流行語、網絡用語、表情包、迷因及社交媒體術語的認知</p>
                    </div>

                    <!-- 進修學習英語 -->
                    <div class="category-card" data-category="english-learning" style="background: linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(96, 165, 250, 0.1)); border: 2px solid rgba(59, 130, 246, 0.3); border-radius: 16px; padding: 25px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(59, 130, 246, 0.1) 0%, transparent 70%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none;"></div>
                        <div class="category-icon" style="font-size: 48px; margin-bottom: 15px; position: relative; z-index: 1;">📚</div>
                        <h3 style="font-size: 22px; margin-bottom: 10px; color: #60a5fa; position: relative; z-index: 1;">進修學習英語</h3>
                        <p style="color: rgba(224, 224, 224, 0.8); line-height: 1.6; position: relative; z-index: 1;">提升英語能力，包括詞彙、語法、閱讀理解、寫作技巧及日常會話</p>
                    </div>
                    
                    <!-- 倉頡速成訓練及教學 類   按鈕 -->
                    <div class="category-card" data-category="cangjie" style="background: linear-gradient(135deg, rgba(123, 63, 0, 0.12), rgba(210, 180, 140, 0.06)); border: 2px solid rgba(160, 82, 45, 0.25); border-radius: 16px; padding: 25px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(160, 82, 45, 0.06) 0%, transparent 70%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none;"></div>
                        <div class="category-icon" style="font-size: 48px; margin-bottom: 15px; position: relative; z-index: 1;">倉</div>
                        <h3 style="font-size: 22px; margin-bottom: 10px; color: #a0522d; position: relative; z-index: 1;">倉頡速成訓練及教學</h3>
                        <p style="color: rgba(224, 224, 224, 0.8); line-height: 1.6; position: relative; z-index: 1;">從零基礎到大神級別的倉頡拆字、部首碼、常見錯字、注音倉頡雙模切換與拆字教學練習</p>
                    </div>

                    <!-- 虛擬及未來動漫或偶像角色認知 -->
                    <div class="category-card" data-category="virtual-idols" style="background: linear-gradient(135deg, rgba(138, 218, 255, 0.15), rgba(0, 191, 255, 0.1)); border: 2px solid rgba(0, 191, 255, 0.3); border-radius: 16px; padding: 25px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(0, 191, 255, 0.1) 0%, transparent 70%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none;"></div>
                        <div class="category-icon" style="font-size: 48px; margin-bottom: 15px; position: relative; z-index: 1;">🎤</div>
                        <h3 style="font-size: 22px; margin-bottom: 10px; color: #00bfff; position: relative; z-index: 1;">虛擬及未來動漫或偶像角色認知</h3>
                        <p style="color: rgba(224, 224, 224, 0.8); line-height: 1.6; position: relative; z-index: 1;">測試你對虛擬偶像、VTuber、動漫角色、虛擬歌手及次文化的認識</p>
                    </div>

                    <!-- 新增：香港樂壇認知 類別 -->
                    <div class="category-card" data-category="hk-music" style="background: linear-gradient(135deg, rgba(249, 115, 22, 0.12), rgba(245, 158, 11, 0.06)); border: 2px solid rgba(249,115,22,0.18); border-radius: 16px; padding: 25px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(249,115,22,0.06) 0%, transparent 70%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none;"></div>
                        <div class="category-icon" style="font-size: 48px; margin-bottom: 15px; position: relative; z-index: 1;">🎵</div>
                        <h3 style="font-size: 22px; margin-bottom: 10px; color: #f97316; position: relative; z-index: 1;">香港樂壇認知</h3>
                        <p style="color: rgba(224, 224, 224, 0.8); line-height: 1.6; position: relative; z-index: 1;">涵蓋50s~90s~2000s至2025年新星：歌手、作曲、填詞、監製、頒獎典禮、爭議與文化脈絡</p>
                    </div>

                    <!-- 新增：學霸數學知識王 -->
                    <div class="category-card" data-category="math-king" style="background: linear-gradient(135deg, rgba(46, 204, 113, 0.12), rgba(26, 188, 156, 0.06)); border: 2px solid rgba(46, 204, 113, 0.18); border-radius: 16px; padding: 25px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(46,204,113,0.06) 0%, transparent 70%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none;"></div>
                        <div class="category-icon" style="font-size: 48px; margin-bottom: 15px; position: relative; z-index: 1;">🧮</div>
                        <h3 style="font-size: 22px; margin-bottom: 10px; color: #2ecc71; position: relative; z-index: 1;">學霸數學知識王</h3>
                        <p style="color: rgba(224, 224, 224, 0.8); line-height: 1.6; position: relative; z-index: 1;">覆蓋中一至中三的數學主題，按年級選擇題目範疇</p>
                    </div>

                    <!-- 新增：遠足郊遊及露營/宿營 -->
                    <div class="category-card" data-category="hiking-camping" style="background: linear-gradient(135deg, rgba(34, 139, 34, 0.15), rgba(60, 179, 113, 0.1)); border: 2px solid rgba(34, 139, 34, 0.3); border-radius: 16px; padding: 25px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(34,139,34,0.06) 0%, transparent 70%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none;"></div>
                        <div class="category-icon" style="font-size: 48px; margin-bottom: 15px; position: relative; z-index: 1;">🏕️</div>
                        <h3 style="font-size: 22px; margin-bottom: 10px; color: #3cb371; position: relative; z-index: 1;">遠足郊遊及露營/宿營</h3>
                        <p style="color: rgba(224, 224, 224, 0.8); line-height: 1.6; position: relative; z-index: 1;">探索戶外活動、露營路線及野外求生知識</p>
                    </div>

                    <!-- 新增：日本深度探究之旅 -->
                    <div class="category-card" data-category="japan-deep-dive" style="background: linear-gradient(135deg, rgba(220, 38, 38, 0.15), rgba(248, 113, 113, 0.1)); border: 2px solid rgba(220, 38, 38, 0.3); border-radius: 16px; padding: 25px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(220, 38, 38, 0.1) 0%, transparent 70%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none;"></div>
                        <div class="category-icon" style="font-size: 48px; margin-bottom: 15px; position: relative; z-index: 1;">🗾</div>
                        <h3 style="font-size: 22px; margin-bottom: 10px; color: #dc2626; position: relative; z-index: 1;">日本深度探究之旅</h3>
                        <p style="color: rgba(224, 224, 224, 0.8); line-height: 1.6; position: relative; z-index: 1;">探索日本文化、歷史、地理、美食、旅遊景點及日本生活常識</p>
                    </div>

                    <!-- 新增：認識多啦A夢達人挑戰賽 -->
                    <div class="category-card" data-category="doraemon" style="background: linear-gradient(135deg, rgba(33, 150, 243, 0.15), rgba(100, 181, 246, 0.1)); border: 2px solid rgba(33, 150, 243, 0.3); border-radius: 16px; padding: 25px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(33, 150, 243, 0.1) 0%, transparent 70%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none;"></div>
                        <div class="category-icon" style="font-size: 48px; margin-bottom: 15px; position: relative; z-index: 1;">🔵</div>
                        <h3 style="font-size: 22px; margin-bottom: 10px; color: #2196f3; position: relative; z-index: 1;">認識多啦A夢達人挑戰賽</h3>
                        <p style="color: rgba(224, 224, 224, 0.8); line-height: 1.6; position: relative; z-index: 1;">測試你對多啦A夢角色、道具、故事情節及經典場景的深度認知</p>
                    </div>

                </div>

                <div class="selected-category-info" style="background: var(--card-bg); border: 2px solid var(--accent); border-radius: 12px; padding: 20px; margin-bottom: 20px; display: none; animation: slideIn 0.3s ease;">
                    <p style="text-align: center; font-size: 18px; margin: 0;">
                        <span style="color: var(--accent-light); font-weight: bold;">已選擇：</span>
                        <span id="selectedCategoryName" style="color: var(--text); font-weight: bold;"></span>
                    </p>
                    <div style="margin-top:12px; text-align:left;">
                        <h3 style="margin:6px 0 4px 0; color:var(--accent-light);">第1：科技類別</h3>
                        <p style="margin:0 0 8px 0; color:var(--text);">(包含: 手機猜謎, AI, 網頁開發, 編程, 遊戲開發, 網絡保安, 數據庫,    媒體, 電腦配置, 零售管理, 內聯網等)</p>

                        <h3 style="margin:12px 0 4px 0; color:var(--accent-light);">第2：生活日常</h3>
                        <p style="margin:0 0 8px 0; color:var(--text);">(包含: 自學私家車, 靈探, 真•香港 18 區, 九巴/港鐵/輕鐵, 網絡潮語, 虛擬動漫等)</p>

                        <h3 style="margin:12px 0 4px 0; color:var(--accent-light);">第3：學習類別</h3>
                        <p style="margin:0 0 8px 0; color:var(--text);">(包含: 進修學習英語, 倉頡速成訓練及教學)</p>
                    </div>
                </div>
            </div>

            <!-- 版權信息 -->
            <div class="copyright-section" style="margin-top: 40px; padding: 30px 20px; text-align: center; border-top: 2px solid rgba(0, 168, 255, 0.3); background: linear-gradient(135deg, rgba(0, 168, 255, 0.05), rgba(76, 208, 255, 0.03));">
                <p style="margin: 8px 0; font-size: 15px; color: rgba(224, 224, 224, 0.9); font-weight: 500;">© 2025 Create By【 Sam. T 】</p>
                <p style="margin: 8px 0; font-size: 14px; color: rgba(224, 224, 224, 0.8);">Copyright    2025 Sam. T. All rights reserved.</p>
                <p style="margin: 8px 0; font-size: 14px; color: rgba(224, 224, 224, 0.8);">版權所有© 2025 Sam. T</p>
                <p style="margin: 8px 0; font-size: 13px; color: rgba(224, 224, 224, 0.7);">此平台已受版權所有</p>
            </div>

            <button class="start-game-btn" id="startIntroBtn">下一步 - 查看玩法</button>
        </div>
    </div>

    <!-- 學霸數學知識王 分類頁面 -->
    <div class="category-screen" id="mathKingScreen" style="display: none; padding: 30px;">
        <div class="category-container">
            <div class="category-header">
                <h1 class="category-main-title">學霸數學知識王</h1>
                <p class="category-subtitle">請選擇適合的年級範疇，查看該年級包含的主題</p>
            </div>

            <div style="max-width:1000px; margin:0 auto; background: var(--card-bg); padding:20px; border-radius:12px; border:1px solid rgba(0,168,255,0.12);">
                <nav style="display:flex; gap:12px; justify-content:center; margin-bottom:18px; flex-wrap:wrap;">
                    <a href="#math-m1" style="color:var(--accent-light); font-weight:700; text-decoration:none;">中一</a>
                    <a href="#math-m2" style="color:var(--accent-light); font-weight:700; text-decoration:none;">中二</a>
                    <a href="#math-m3" style="color:var(--accent-light); font-weight:700; text-decoration:none;">中三</a>
                </nav>

                <section id="math-m1" style="margin-bottom:18px;">
                    <h2 style="color:var(--accent-light);">中一 主題</h2>
                    <ul style="margin-top:8px; line-height:1.8;">
                        <li>1. 有向   </li>
                        <li>2. 代數式和方程式</li>
                        <li>3. 指數及進制</li>
                        <li>4. 多項式</li>
                        <li>5. 百分法</li>
                        <li>6. 近似值與估算</li>
                        <li>7. 幾何簡介</li>
                        <li>8. 對稱及變換</li>
                        <li>9. 全等及相似</li>
                        <li>10. 量度方面的估計</li>
                        <li>11. 面積及體積</li>
                        <li>12. 坐標簡介</li>
                        <li>13. 統計簡介</li>
                    </ul>
                </section>

                <section id="math-m2" style="margin-bottom:18px;">
                    <h2 style="color:var(--accent-light);">中二 主題</h2>
                    <ul style="margin-top:8px; line-height:1.8;">
                        <li>1. 近似與誤差</li>
                        <li>2. 恆等   </li>
                        <li>3. 因式分解</li>
                        <li>4. 公式</li>
                        <li>5. 聯立二元一次方程</li>
                        <li>6. 率及比</li>
                        <li>7. 百分法</li>
                        <li>8. 幾何定理</li>
                        <li>9. 畢氏定理</li>
                        <li>10. 三角比</li>
                        <li>11. 面積和體積</li>
                        <li>12. 統計</li>
                    </ul>
                </section>

                <section id="math-m3" style="margin-bottom:8px;">
                    <h2 style="color:var(--accent-light);">中三 主題</h2>
                    <ul style="margin-top:8px; line-height:1.8;">
                        <li>1. 不等式</li>
                        <li>2. 指數</li>
                        <li>3. 百份法</li>
                        <li>4. 有理數及無理數</li>
                        <li>5. 演繹幾何</li>
                        <li>6. 四邊形</li>
                        <li>7. 面積與體積</li>
                        <li>8. 坐標幾何</li>
                        <li>9. 三角學</li>
                        <li>10. 三角比的應用</li>
                        <li>11. 概率</li>
                        <li>12. 統計 : 集中趨勢的量度</li>
                        <li>13. 三角形的心</li>
                    </ul>
                </section>

                <div style="text-align:center; margin-top:12px;">
                    <button class="back-to-intro-btn math-back-btn" style="margin-right:12px;">返回類別列表</button>
                    <button id="mathStartBtn" class="start-game-btn">開始學霸數學遊戲</button>
                </div>
            </div>
        </div>
    </div>
    <!-- 类别选择页面 -->
    <div class="category-screen" id="categoryScreen">
        <div class="category-container">
            <div class="category-header">
                <h1 class="category-main-title">選擇遊戲類別</h1>
                <p class="category-subtitle">請選擇您想挑戰的科技知識範疇</p>
            </div>

             <div class="category-grid">
                 <!-- 智能手機猜謎 -->
                 <div class="category-card" data-category="smartphone">
                     <div class="category-icon">📱</div>
                     <h3>智能手機猜謎</h3>
                     <p>測試你對各品牌手機規格、型號和技術的了解程度</p>
                 </div>
    
                <!-- 多媒體製作應用 -->
                <div class="category-card" data-category="multimedia">
                    <div class="category-icon">🎬</div>
                    <h3>多媒體製作應用</h3>
                    <p>圖像設計、影音製作、動畫、直播與後製剪輯等多媒體技能</p>
                </div>

                <!-- 電腦配置軟件硬件 -->
                <div class="category-card" data-category="computer">
                    <div class="category-icon">💻</div>
                    <h3>電腦配置軟件硬件</h3>
                    <p>挑戰電腦硬件、軟件、配置和技術知識</p>
                </div>

                <!-- 人工智能 -->
                <div class="category-card" data-category="ai">
                    <div class="category-icon">🤖</div>
                    <h3>人工智能</h3>
                    <p>探索機器學習、深度學習和AI技術的奧秘</p>
                </div>

                <!-- 網頁開發 -->
                <div class="category-card" data-category="webdev">
                    <div class="category-icon">🌐</div>
                    <h3>網頁開發</h3>
                    <p>測試HTML、CSS、JavaScript等前端開發技能</p>
                </div>
                <!-- 新增：學霸數學知識王（分類頁） -->
                <div class="category-card" data-category="math-king">
                    <div class="category-icon">🧮</div>
                    <h3>學霸數學知識王</h3>
                    <p>按中一/中二/   三   三等類選擇數學題目範疇</p>
                </div>
                <!-- 新增：中國歷史學霸王 類別 -->
                <div class="category-card" data-category="chinese-history" style="background: linear-gradient(135deg, rgba(255, 223, 186, 0.12), rgba(255, 205, 178, 0.06)); border: 2px solid rgba(255,159,67,0.18); border-radius: 16px; padding: 25px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;">
                    <div class="category-icon">📜</div>
                    <h3>中國歷史學霸王</h3>
                    <p>涵蓋從上古至近現代重要史事與主題，點擊查看各單元題目範疇</p>
                </div>
                <!-- 新增：遠足郊遊及露營/宿營 -->
                <div class="category-card" data-category="hiking-camping" style="background: linear-gradient(135deg, rgba(76, 175, 80, 0.12), rgba(139, 195, 74, 0.06)); border: 2px solid rgba(76,175,80,0.18); border-radius: 16px; padding: 25px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;">
                    <div class="category-icon">🏕️</div>
                    <h3>遠足郊遊及露營/宿營</h3>
                    <p>學習遠足、行山、露營安全知識及突發應變措施</p>
                </div>
            </div>

            <button class="back-to-intro-btn" id="backToIntroBtn">返回主頁</button>
        </div>
    </div>

    <!-- 遊戲主畫面 -->
    <div class="game-screen" id="gameScreen" style="display: none;">
        <div class="container">
            <header>
                <div class="logo">
                    <div class="logo-icon">HK</div>
                    <div class="logo-text">Hong Kong Quiz Game</div>
                </div>
                <div class="score-board">
                    <div>分數: <span class="score" id="score">0</span></div>
                    <div class="level-score">本關卡: <span id="levelScore">&nbsp;</span> 55分</div>
                    <div style="color: #ffd700; font-weight: bold; margin-top: 5px;">金幣: $<span id="coinsDisplay">0</span>$</div>
                </div>
            </header>

            <!-- 进度条 -->
            <div class="progress-container">
                <div class="progress-header">
                    <div class="progress-title">
                        <span>🎯</span>
                        <span>遊戲進度</span>
                    </div>
                    <div class="progress-stats">
                        已完成 <span id="answeredCount">0</span> / <span id="totalCount">5</span> 題
                    </div>
                </div>
                <div class="progress-bar-wrapper">
                    <div class="progress-bar-fill" id="progressBarFill" style="width: 0%"></div>
                    <div class="progress-percentage" id="progressPercentage">0%</div>
                </div>
            </div>

            <!-- 倒计时器 -->
            <div class="timer-container" id="timerContainer">
                <div class="timer-icon">⏱️</div>
                <div class="timer-display">
                    <div class="timer-label">剩餘時間</div>
                    <div class="timer-value" id="timerValue">25</div>
                    <div class="timer-unit">秒</div>
                </div>
                <div class="timer-progress-ring">
                    <svg width="80" height="80">
                        <circle cx="40" cy="40" r="36" class="timer-ring-bg"></circle>
                        <circle cx="40" cy="40" r="36" class="timer-ring-fill" id="timerRingFill"></circle>
                    </svg>
                </div>
            </div>

        <div class="level-indicator">
            <div class="level active" data-level="1">
                <div class="level-number">關卡 1</div>
                <div class="level-difficulty">入門級</div>
            </div>
            <div class="level" data-level="2">
                <div class="level-number">關卡 2</div>
                <div class="level-difficulty">初級</div>
            </div>
            <div class="level" data-level="3">
                <div class="level-number">關卡 3</div>
                <div class="level-difficulty">中級</div>
            </div>
            <div class="level" data-level="4">
                <div class="level-number">關卡 4</div>
                <div class="level-difficulty">進階級</div>
            </div>
            <div class="level" data-level="5">
                <div class="level-number">關卡 5</div>
                <div class="level-difficulty">高級</div>
            </div>
            <div class="level" data-level="6">
                <div class="level-number">關卡 6</div>
                <div class="level-difficulty">專家級</div>
            </div>
            <div class="level" data-level="7">
                <div class="level-number">關卡 7</div>
                <div class="level-difficulty">精英級</div>
            </div>
            <div class="level" data-level="8">
                <div class="level-number">關卡 8</div>
                <div class="level-difficulty">大師級</div>
            </div>
            <div class="level" data-level="9">
                <div class="level-number">關卡 9</div>
                <div class="level-difficulty">宗師級</div>
            </div>
            <div class="level" data-level="10">
                <div class="level-number">關卡 10</div>
                <div class="level-difficulty">高手級</div>
            </div>
            <div class="level" data-level="11">
                <div class="level-number">關卡 11</div>
                <div class="level-difficulty">資深級</div>
            </div>
            <div class="level" data-level="12">
                <div class="level-number">關卡 12</div>
                <div class="level-difficulty">專業級</div>
            </div>
            <div class="level" data-level="13">
                <div class="level-number">關卡 13</div>
                <div class="level-difficulty">菁英級</div>
            </div>
            <div class="level" data-level="14">
                <div class="level-number">關卡 14</div>
                <div class="level-difficulty">達人級</div>
            </div>
            <div class="level" data-level="15">
                <div class="level-number">關卡 15</div>
                <div class="level-difficulty">專精級</div>
            </div>
            <div class="level" data-level="16">
                <div class="level-number">關卡 16</div>
                <div class="level-difficulty">頂尖級</div>
            </div>
            <div class="level" data-level="17">
                <div class="level-number">關卡 17</div>
                <div class="level-difficulty">神級</div>
            </div>
            <div class="level" data-level="18">
                <div class="level-number">關卡 18</div>
                <div class="level-difficulty">傳說級</div>
            </div>
            <div class="level" data-level="19">
                <div class="level-number">關卡 19</div>
                <div class="level-difficulty">超越級</div>
            </div>
            <div class="level" data-level="20">
                <div class="level-number">關卡 20</div>
                <div class="level-difficulty">終極大師</div>
            </div>
        </div>
        
        <div class="game-area">
            <div class="challenge-card" id="challenge1">
                <div class="challenge-header">
                    <div class="challenge-title">規格猜型號</div>
                    <div class="challenge-points">+10 分</div>
                </div>
                <div class="challenge-content" id="content1">
                    <!-- 題目內容將由JavaScript動態生成 -->
                </div>
                <div class="options" id="options1">
                    <!-- 選項將由JavaScript動態生成 -->
                </div>
            </div>
            
            <div class="challenge-card" id="challenge2">
                <div class="challenge-header">
                    <div class="challenge-title">型號猜規格</div>
                    <div class="challenge-points">+10 分</div>
                </div>
                <div class="challenge-content" id="content2">
                    <!-- 題目內容將由JavaScript動態生成 -->
                </div>
                <div class="options" id="options2">
                    <!-- 選項將由JavaScript動態生成 -->
                </div>
            </div>
            
            <div class="challenge-card" id="challenge3">
                <div class="challenge-header">
                    <div class="challenge-title">年份與價格</div>
                    <div class="challenge-points">+10 分</div>
                </div>
                <div class="challenge-content" id="content3">
                    <!-- 題目內容將由JavaScript動態生成 -->
                </div>
                <div class="options" id="options3">
                    <!-- 選項將由JavaScript動態生成 -->
                </div>
            </div>
            
            <div class="challenge-card" id="challenge4">
                <div class="challenge-header">
                    <div class="challenge-title">作業系統版本</div>
                    <div class="challenge-points">+10 分</div>
                </div>
                <div class="challenge-content" id="content4">
                    <!-- 題目內容將由JavaScript動態生成 -->
                </div>
                <div class="options" id="options4">
                    <!-- 選項將由JavaScript動態生成 -->
                </div>
            </div>
        </div>
        
        <div class="bonus-challenge" id="bonusChallenge">
            <div class="bonus-header">
                <div class="bonus-title">額外挑戰</div>
                <div class="bonus-points">+15 分</div>
            </div>
            <div class="challenge-content" id="bonusContent">
                <!--    目內容將由JavaScript動態生成 -->
            </div>
            <div class="options" id="bonusOptions">
                <!-- 選項將由JavaScript動態生成 -->
            </div>
        </div>
        
            <div class="controls">
                <button id="backToHomeBtn">返回到主頁</button>

                <!-- 遊戲平台工具包 -->
                <div style="margin: 15px 0; padding: 15px; background: linear-gradient(135deg, rgba(138, 43, 226, 0.15), rgba(75, 0, 130, 0.1)); border: 2px solid rgba(138, 43, 226, 0.5); border-radius: 12px;">
                    <div style="font-size: 18px; font-weight: bold; color: #da70d6; margin-bottom: 12px; text-align: center;">
                        🎮 遊戲平台工具包
                    </div>

                    <!-- 挑戰加速器 -->
                    <div style="margin-bottom: 15px; padding: 12px; background: rgba(0, 168, 255, 0.1); border: 2px solid rgba(0, 168, 255, 0.4); border-radius: 8px;">
                        <div style="font-size: 16px; font-weight: bold; color: #4cd0ff; margin-bottom: 8px; text-align: center;">
                            ⚡ 挑戰加速器
                        </div>
                        <div style="font-size: 12px; color: #b0b0b0; line-height: 1.5; margin-bottom: 10px; text-align: center;">
                            購買加速器跳過關卡，節省時間直達高難度挑戰！<br>
                            <span style="color: #ff8c00; font-weight: bold;">注意：跳過的關卡不計分，不增加金幣</span>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr; gap: 8px; margin-bottom: 10px;">
                            <button id="accelerator1Btn" class="accelerator-btn" data-cost="300" data-skip="2" style="background: linear-gradient(135deg, #4cd0ff 0%, #00a8ff 100%); color: #fff; font-weight: bold; padding: 8px 12px; border: none; border-radius: 6px; cursor: pointer; font-size: 13px; transition: all 0.3s;">
                                ⭐ 輕度加速 - 300金幣 (跳2關)
                            </button>
                            <button id="accelerator2Btn" class="accelerator-btn" data-cost="550" data-skip="3" style="background: linear-gradient(135deg, #ffa500 0%, #ff8c00 100%); color: #fff; font-weight: bold; padding: 8px 12px; border: none; border-radius: 6px; cursor: pointer; font-size: 13px; transition: all 0.3s;">
                                🚀 標準加速 - 550金幣 (跳3關)
                            </button>
                            <button id="accelerator3Btn" class="accelerator-btn" data-cost="1000" data-skip="5" style="background: linear-gradient(135deg, #ff3750 0%, #ff1744 100%); color: #fff; font-weight: bold; padding: 8px 12px; border: none; border-radius: 6px; cursor: pointer; font-size: 13px; transition: all 0.3s;">
                                ⚡ 極速加速 - 1000金幣 (跳5關)
                            </button>
                        </div>
                        <div style="font-size: 11px; color: #808080; line-height: 1.4; text-align: center;">
                            💰 賺取所需題數參考：<br>
                            輕度(300💰)≈30題基礎 | 標準(550💰)≈55題基礎 | 極速(1000💰)≈100題基礎
                        </div>
                    </div>

                    
                
            </div>
        

        <div class="result-modal" id="resultModal">
            <div class="modal-content">
                <div class="modal-title" id="modalTitle">關卡完成!</div>
                <div class="modal-message" id="modalMessage">你成功完成了這個關卡!</div>
                <div class="modal-score" id="modalScore">+50 分</div>
                <div id="retryButtonContainer" style="display: none; margin-top: 15px;">
                    <button id="retryLevelBtn" style="background: linear-gradient(135deg, #ff8c00 0%, #ffa500 100%); margin-bottom: 10px;">重做本關 (一次機會)</button>
                </div>
                <div style="display:flex; gap:10px; margin-top:12px; justify-content:center; flex-wrap:wrap;">
                    <button id="shareScoreBtn" style="background: linear-gradient(135deg, #00a8ff 0%, #4cd0ff 100%); color: #fff; font-weight: bold; padding: 10px 18px; border: none; border-radius: 8px; cursor: pointer;">📸 分享成績</button>
                    <button id="nextLevelBtn" disabled="" style="background: linear-gradient(135deg, #28a745 0%, #3ad76b 100%); color: #fff; font-weight: bold; padding: 10px 18px; border: none; border-radius: 8px;">前往下一關</button>
                    <button id="closeModalBtn">繼續</button>
                </div>
            </div>
        </div>

        <!-- 连击计数器 -->
        <div class="combo-container" id="comboContainer">
            <div class="combo-display">
                <div class="combo-number" id="comboNumber">0</div>
                <div class="combo-text">
                    <span class="combo-fire">🔥</span>
                    COMBO
                    <span class="combo-fire">🔥</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 手機資料庫 - 包含各種品牌、世代、價位和級別的手機
        const phoneDatabase = [
            // === Apple iPhone 系列 ===
            // 最新旗艦 (2023-2024)
            {
                brand: "Apple",
                model: "iPhone 15 Pro Max",
                specs: {
                    display: "6.7吋 Super Retina XDR",
                    chip: "A17 Pro",
                    storage: "256GB/512GB/1TB",
                    camera: "48MP主鏡頭 + 12MP超廣角 + 12MP望遠",
                    battery: "4422mAh"
                },
                releaseYear: 2023,
                price: 10299,
                os: "iOS 17"
            },
            {
                brand: "Apple",
                model: "iPhone 15 Pro",
                specs: {
                    display: "6.1吋 Super Retina XDR",
                    chip: "A17 Pro",
                    storage: "128GB/256GB/512GB/1TB",
                    camera: "48MP主鏡頭 + 12MP超廣角 + 12MP望遠",
                    battery: "3274mAh"
                },
                releaseYear: 2023,
                price: 8599,
                os: "iOS 17"
            },
            {
                brand: "Apple",
                model: "iPhone 15",
                specs: {
                    display: "6.1吋 Super Retina XDR",
                    chip: "A16 Bionic",
                    storage: "128GB/256GB/512GB",
                    camera: "48MP主鏡頭 + 12MP超廣角",
                    battery: "3349mAh"
                },
                releaseYear: 2023,
                price: 6499,
                os: "iOS 17"
            },
            // 較舊款 (2022)
            {
                brand: "Apple",
                model: "iPhone 14 Pro Max",
                specs: {
                    display: "6.7吋 Super Retina XDR",
                    chip: "A16 Bionic",
                    storage: "128GB/256GB/512GB/1TB",
                    camera: "48MP主鏡頭 + 12MP超廣角 + 12MP望遠",
                    battery: "4323mAh"
                },
                releaseYear: 2022,
                price: 9899,
                os: "iOS 16"
            },
            {
                brand: "Apple",
                model: "iPhone 14",
                specs: {
                    display: "6.1吋 Super Retina XDR",
                    chip: "A15 Bionic",
                    storage: "128GB/256GB/512GB",
                    camera: "12MP主鏡頭 + 12MP超廣角",
                    battery: "3279mAh"
                },
                releaseYear: 2022,
                price: 6899,
                os: "iOS 16"
            },
            {
                brand: "Apple",
                model: "iPhone SE (2022)",
                specs: {
                    display: "4.7吋 Retina HD",
                    chip: "A15 Bionic",
                    storage: "64GB/128GB/256GB",
                    camera: "12MP主鏡頭",
                    battery: "2018mAh"
                },
                releaseYear: 2022,
                price: 3499,
                os: "iOS 15"
            },
            // 舊款 (2021)
            {
                brand: "Apple",
                model: "iPhone 13 Pro Max",
                specs: {
                    display: "6.7吋 Super Retina XDR",
                    chip: "A15 Bionic",
                    storage: "128GB/256GB/512GB/1TB",
                    camera: "12MP主鏡頭 + 12MP超廣角 + 12MP望遠",
                    battery: "4352mAh"
                },
                releaseYear: 2021,
                price: 9499,
                os: "iOS 15"
            },
            {
                brand: "Apple",
                model: "iPhone 13 Pro",
                specs: {
                    display: "6.1吋 Super Retina XDR",
                    chip: "A15 Bionic",
                    storage: "128GB/256GB/512GB/1TB",
                    camera: "12MP主鏡頭 + 12MP超廣角 + 12MP望遠",
                    battery: "3095mAh"
                },
                releaseYear: 2021,
                price: 8499,
                os: "iOS 15"
            },
            {
                brand: "Apple",
                model: "iPhone 13",
                specs: {
                    display: "6.1吋 Super Retina XDR",
                    chip: "A15 Bionic",
                    storage: "128GB/256GB/512GB",
                    camera: "12MP主鏡頭 + 12MP超廣角",
                    battery: "3240mAh"
                },
                releaseYear: 2021,
                price: 6299,
                os: "iOS 15"
            },
            {
                brand: "Apple",
                model: "iPhone 13 mini",
                specs: {
                    display: "5.4吋 Super Retina XDR",
                    chip: "A15 Bionic",
                    storage: "128GB/256GB/512GB",
                    camera: "12MP主鏡頭 + 12MP超廣角",
                    battery: "2406mAh"
                },
                releaseYear: 2021,
                price: 5499,
                os: "iOS 15"
            },
            // 更舊款 (2020)
            {
                brand: "Apple",
                model: "iPhone 12 Pro Max",
                specs: {
                    display: "6.7吋 Super Retina XDR",
                    chip: "A14 Bionic",
                    storage: "128GB/256GB/512GB",
                    camera: "12MP主鏡頭 + 12MP超廣角 + 12MP望遠",
                    battery: "3687mAh"
                },
                releaseYear: 2020,
                price: 9499,
                os: "iOS 14"
            },
            {
                brand: "Apple",
                model: "iPhone 12",
                specs: {
                    display: "6.1吋 Super Retina XDR",
                    chip: "A14 Bionic",
                    storage: "64GB/128GB/256GB",
                    camera: "12MP主鏡頭 + 12MP超廣角",
                    battery: "2815mAh"
                },
                releaseYear: 2020,
                price: 6799,
                os: "iOS 14"
            },
            // 超級舊款 (2019-2017)
            {
                brand: "Apple",
                model: "iPhone 11 Pro Max",
                specs: {
                    display: "6.5吋 Super Retina XDR",
                    chip: "A13 Bionic",
                    storage: "64GB/256GB/512GB",
                    camera: "12MP主鏡頭 + 12MP超廣角 + 12MP望遠",
                    battery: "3969mAh"
                },
                releaseYear: 2019,
                price: 9499,
                os: "iOS 13"
            },
            {
                brand: "Apple",
                model: "iPhone 11",
                specs: {
                    display: "6.1吋 Liquid Retina",
                    chip: "A13 Bionic",
                    storage: "64GB/128GB/256GB",
                    camera: "12MP主鏡頭 + 12MP超廣角",
                    battery: "3110mAh"
                },
                releaseYear: 2019,
                price: 5999,
                os: "iOS 13"
            },
            {
                brand: "Apple",
                model: "iPhone XS Max",
                specs: {
                    display: "6.5吋 Super Retina OLED",
                    chip: "A12 Bionic",
                    storage: "64GB/256GB/512GB",
                    camera: "12MP主鏡頭 + 12MP望遠",
                    battery: "3174mAh"
                },
                releaseYear: 2018,
                price: 9599,
                os: "iOS 12"
            },
            {
                brand: "Apple",
                model: "iPhone XR",
                specs: {
                    display: "6.1吋 Liquid Retina",
                    chip: "A12 Bionic",
                    storage: "64GB/128GB/256GB",
                    camera: "12MP主鏡頭",
                    battery: "2942mAh"
                },
                releaseYear: 2018,
                price: 6499,
                os: "iOS 12"
            },
            {
                brand: "Apple",
                model: "iPhone X",
                specs: {
                    display: "5.8吋 Super Retina OLED",
                    chip: "A11 Bionic",
                    storage: "64GB/256GB",
                    camera: "12MP主鏡頭 + 12MP望遠",
                    battery: "2716mAh"
                },
                releaseYear: 2017,
                price: 8588,
                os: "iOS 11"
            },
            {
                brand: "Apple",
                model: "iPhone 8 Plus",
                specs: {
                    display: "5.5吋 Retina HD",
                    chip: "A11 Bionic",
                    storage: "64GB/256GB",
                    camera: "12MP主鏡頭 + 12MP望遠",
                    battery: "2691mAh"
                },
                releaseYear: 2017,
                price: 7188,
                os: "iOS 11"
            },

            // === Samsung Galaxy 系列 ===
            // 最新旗艦 (2024)
            {
                brand: "Samsung",
                model: "Galaxy S24 Ultra",
                specs: {
                    display: "6.8吋 Dynamic AMOLED 2X",
                    chip: "Snapdragon 8 Gen 3",
                    storage: "256GB/512GB/1TB",
                    camera: "200MP主鏡頭 + 50MP望遠 + 12MP超廣角 + 10MP望遠",
                    battery: "5000mAh"
                },
                releaseYear: 2024,
                price: 9998,
                os: "Android 14 (One UI 6.1)"
            },
            {
                brand: "Samsung",
                model: "Galaxy S24+",
                specs: {
                    display: "6.7吋 Dynamic AMOLED 2X",
                    chip: "Snapdragon 8 Gen 3",
                    storage: "256GB/512GB",
                    camera: "50MP主鏡頭 + 12MP超廣角 + 10MP望遠",
                    battery: "4900mAh"
                },
                releaseYear: 2024,
                price: 7998,
                os: "Android 14 (One UI 6.1)"
            },
            {
                brand: "Samsung",
                model: "Galaxy S24",
                specs: {
                    display: "6.2吋 Dynamic AMOLED 2X",
                    chip: "Snapdragon 8 Gen 3",
                    storage: "128GB/256GB/512GB",
                    camera: "50MP主鏡頭 + 12MP超廣角 + 10MP望遠",
                    battery: "4000mAh"
                },
                releaseYear: 2024,
                price: 6298,
                os: "Android 14 (One UI 6.1)"
            },
            {
                brand: "Samsung",
                model: "Galaxy Z Fold6",
                specs: {
                    display: "7.6吋主螢幕 + 6.3吋封面螢幕",
                    chip: "Snapdragon 8 Gen 3",
                    storage: "256GB/512GB/1TB",
                    camera: "50MP主鏡頭 + 12MP超廣角 + 10MP望遠",
                    battery: "4400mAh"
                },
                releaseYear: 2024,
                price: 14998,
                os: "Android 14 (One UI 6.1.1)"
            },
            {
                brand: "Samsung",
                model: "Galaxy Z Flip6",
                specs: {
                    display: "6.7吋主螢幕 + 3.4吋封面螢幕",
                    chip: "Snapdragon 8 Gen 3",
                    storage: "256GB/512GB",
                    camera: "50MP主鏡頭 + 12MP超廣角",
                    battery: "4000mAh"
                },
                releaseYear: 2024,
                price: 8498,
                os: "Android 14 (One UI 6.1.1)"
            },
            // 較舊款 (2023)
            {
                brand: "Samsung",
                model: "Galaxy S23 Ultra",
                specs: {
                    display: "6.8吋 Dynamic AMOLED 2X",
                    chip: "Snapdragon 8 Gen 2",
                    storage: "256GB/512GB/1TB",
                    camera: "200MP主鏡頭 + 12MP超廣角 + 10MP望遠 + 10MP潛望式望遠",
                    battery: "5000mAh"
                },
                releaseYear: 2023,
                price: 9998,
                os: "Android 13 (One UI 5.1)"
            },
            {
                brand: "Samsung",
                model: "Galaxy S23",
                specs: {
                    display: "6.1吋 Dynamic AMOLED 2X",
                    chip: "Snapdragon 8 Gen 2",
                    storage: "128GB/256GB/512GB",
                    camera: "50MP主鏡頭 + 12MP超廣角 + 10MP望遠",
                    battery: "3900mAh"
                },
                releaseYear: 2023,
                price: 6298,
                os: "Android 13 (One UI 5.1)"
            },
            {
                brand: "Samsung",
                model: "Galaxy Z Fold5",
                specs: {
                    display: "7.6吋主螢幕 + 6.2吋外螢幕",
                    chip: "Snapdragon 8 Gen 2",
                    storage: "256GB/512GB/1TB",
                    camera: "50MP主鏡頭 + 12MP超廣角 + 10MP望遠",
                    battery: "4400mAh"
                },
                releaseYear: 2023,
                price: 13998,
                os: "Android 13 (One UI 5.1.1)"
            },
            {
                brand: "Samsung",
                model: "Galaxy Z Flip5",
                specs: {
                    display: "6.7吋主螢幕 + 3.4吋封面螢幕",
                    chip: "Snapdragon 8 Gen 2",
                    storage: "256GB/512GB",
                    camera: "12MP主鏡頭 + 12MP超廣角",
                    battery: "3700mAh"
                },
                releaseYear: 2023,
                price: 7998,
                os: "Android 13 (One UI 5.1.1)"
            },
            {
                brand: "Samsung",
                model: "Galaxy A54 5G",
                specs: {
                    display: "6.4吋 Super AMOLED",
                    chip: "Exynos 1380",
                    storage: "128GB/256GB",
                    camera: "50MP主鏡頭 + 12MP超廣角 + 5MP微距",
                    battery: "5000mAh"
                },
                releaseYear: 2023,
                price: 3498,
                os: "Android 13 (One UI 5.1)"
            },
            // 舊款 (2022)
            {
                brand: "Samsung",
                model: "Galaxy S22 Ultra",
                specs: {
                    display: "6.8吋 Dynamic AMOLED 2X",
                    chip: "Snapdragon 8 Gen 1",
                    storage: "128GB/256GB/512GB/1TB",
                    camera: "108MP主鏡頭 + 12MP超廣角 + 10MP望遠 + 10MP潛望式望遠",
                    battery: "5000mAh"
                },
                releaseYear: 2022,
                price: 9698,
                os: "Android 12 (One UI 4.1)"
            },
            {
                brand: "Samsung",
                model: "Galaxy A53 5G",
                specs: {
                    display: "6.5吋 Super AMOLED",
                    chip: "Exynos 1280",
                    storage: "128GB/256GB",
                    camera: "64MP主鏡頭 + 12MP超廣角 + 5MP微    + 5MP景深",
                    battery: "5000mAh"
                },
                releaseYear: 2022,
                price: 3298,
                os: "Android 12 (One UI 4.1)"
            },
            // 更舊款 (2021-2020)
            {
                brand: "Samsung",
                model: "Galaxy S21 Ultra",
                specs: {
                    display: "6.8吋 Dynamic AMOLED 2X",
                    chip: "Exynos 2100",
                    storage: "128GB/256GB/512GB",
                    camera: "108MP主鏡頭 + 12MP超廣角 + 10MP望遠 + 10MP潛望式望遠",
                    battery: "5000mAh"
                },
                releaseYear: 2021,
                price: 9298,
                os: "Android 11 (One UI 3.1)"
            },
            {
                brand: "Samsung",
                model: "Galaxy Note20 Ultra",
                specs: {
                    display: "6.9吋 Dynamic AMOLED 2X",
                    chip: "Exynos 990",
                    storage: "256GB/512GB",
                    camera: "108MP主鏡頭 + 12MP超廣角 + 12MP望遠",
                    battery: "4500mAh"
                },
                releaseYear: 2020,
                price: 9298,
                os: "Android 10 (One UI 2.5)"
            },
            {
                brand: "Samsung",
                model: "Galaxy S20 Ultra",
                specs: {
                    display: "6.9吋 Dynamic AMOLED 2X",
                    chip: "Exynos 990",
                    storage: "128GB/256GB/512GB",
                    camera: "108MP主鏡頭 + 12MP超廣角 + 48MP望遠 + ToF",
                    battery: "5000mAh"
                },
                releaseYear: 2020,
                price: 9298,
                os: "Android 10 (One UI 2)"
            },

            // === Xiaomi 小米系列 ===
            // 最新旗艦 (2024)
            {
                brand: "Xiaomi",
                model: "14 Ultra",
                specs: {
                    display: "6.73吋 AMOLED",
                    chip: "Snapdragon 8 Gen 3",
                    storage: "256GB/512GB/1TB",
                    camera: "50MP   鏡頭 + 50MP超廣角 + 50MP望遠 + 50MP潛望式望遠",
                    battery: "5300mAh"
                },
                releaseYear: 2024,
                price: 8999,
                os: "Android 14 (HyperOS)"
            },
            {
                brand: "Xiaomi",
                model: "14 Pro",
                specs: {
                    display: "6.73吋 AMOLED",
                    chip: "Snapdragon 8 Gen 3",
                    storage: "256GB/512GB/1TB",
                    camera: "50MP主鏡頭 + 50MP超廣角 + 50MP望遠",
                    battery: "4880mAh"
                },
                releaseYear: 2024,
                price: 5999,
                os: "Android 14 (HyperOS)"
            },
            {
                brand: "Xiaomi",
                model: "14",
                specs: {
                    display: "6.36吋 AMOLED",
                    chip: "Snapdragon 8 Gen 3",
                    storage: "256GB/512GB",
                    camera: "50MP主鏡頭 + 50MP超廣角 + 50MP望遠",
                    battery: "4610mAh"
                },
                releaseYear: 2024,
                price: 4499,
                os: "Android 14 (HyperOS)"
            },
            // 較舊款 (2023)
            {
                brand: "Xiaomi",
                model: "13 Ultra",
                specs: {
                    display: "6.73吋 AMOLED",
                    chip: "Snapdragon 8 Gen 2",
                    storage: "256GB/512GB/1TB",
                    camera: "50MP主鏡頭 + 50MP超廣角 + 50MP望遠 + 50MP潛望式望遠",
                    battery: "5000mAh"
                },
                releaseYear: 2023,
                price: 7999,
                os: "Android 13 (MIUI 14)"
            },
            {
                brand: "Xiaomi",
                model: "13 Pro",
                specs: {
                    display: "6.73吋 AMOLED",
                    chip: "Snapdragon 8 Gen 2",
                    storage: "256GB/512GB",
                    camera: "50MP主鏡頭 + 50MP超廣角 + 50MP望遠",
                    battery: "4820mAh"
                },
                releaseYear: 2023,
                price: 5999,
                os: "Android 13 (MIUI 14)"
            },
            {
                brand: "Xiaomi",
                model: "13",
                specs: {
                    display: "6.36吋 AMOLED",
                    chip: "Snapdragon 8 Gen 2",
                    storage: "128GB/256GB/512GB",
                    camera: "50MP主鏡頭 + 12MP超廣角 + 10MP望遠",
                    battery: "4500mAh"
                },
                releaseYear: 2023,
                price: 4299,
                os: "Android 13 (MIUI 14)"
            },
            // 舊款 (2022)
            {
                brand: "Xiaomi",
                model: "12T Pro",
                specs: {
                    display: "6.67吋 AMOLED",
                    chip: "Snapdragon 8+ Gen 1",
                    storage: "256GB/512GB",
                    camera: "200MP主鏡頭 + 8MP超廣角 + 2MP微距",
                    battery: "5000mAh"
                },
                releaseYear: 2022,
                price: 4999,
                os: "Android 12 (MIUI 13)"
            },
            {
                brand: "Xiaomi",
                model: "12 Pro",
                specs: {
                    display: "6.73吋 AMOLED",
                    chip: "Snapdragon 8 Gen 1",
                    storage: "128GB/256GB/512GB",
                    camera: "50MP主鏡頭 + 50MP超廣角 + 50MP望遠",
                    battery: "4600mAh"
                },
                releaseYear: 2022,
                price: 5999,
                os: "Android 12 (MIUI 13)"
            },
            {
                brand: "Xiaomi",
                model: "12",
                specs: {
                    display: "6.28吋 AMOLED",
                    chip: "Snapdragon 8 Gen 1",
                    storage: "128GB/256GB",
                    camera: "50MP主鏡頭 + 13MP超廣角 + 5MP微距",
                    battery: "4500mAh"
                },
                releaseYear: 2022,
                price: 4299,
                os: "Android 12 (MIUI 13)"
            },
            // 更舊款 (2021-2020)
            {
                brand: "Xiaomi",
                model: "Mi 11 Ultra",
                specs: {
                    display: "6.81吋 AMOLED",
                    chip: "Snapdragon 888",
                    storage: "256GB/512GB",
                    camera: "50MP主鏡頭 + 48MP超廣角 + 48MP望遠",
                    battery: "5000mAh"
                },
                releaseYear: 2021,
                price: 6999,
                os: "Android 11 (MIUI 12.5)"
            },
            {
                brand: "Xiaomi",
                model: "Mi 10 Pro",
                specs: {
                    display: "6.67吋 AMOLED",
                    chip: "Snapdragon 865",
                    storage: "256GB/512GB",
                    camera: "108MP主鏡頭 + 8MP超廣角 + 12MP望遠 + 20MP人像",
                    battery: "4500mAh"
                },
                releaseYear: 2020,
                price: 5499,
                os: "Android 10 (MIUI 11)"
            },

            // === Redmi 紅米系列 ===
            // 最新中階 (2024)
            {
                brand: "Redmi",
                model: "Note 13 Pro+",
                specs: {
                    display: "6.67吋 AMOLED",
                    chip: "MediaTek Dimensity 7200",
                    storage: "256GB/512GB",
                    camera: "200MP主鏡頭 + 8MP超廣角 + 2MP微距",
                    battery: "5000mAh"
                },
                releaseYear: 2024,
                price: 2499,
                os: "Android 13 (HyperOS)"
            },
            {
                brand: "Redmi",
                model: "Note 13 Pro",
                specs: {
                    display: "6.67吋 AMOLED",
                    chip: "Snapdragon 7s Gen 2",
                    storage: "128GB/256GB",
                    camera: "200MP主鏡頭 + 8MP超廣角 + 2MP微距",
                    battery: "5100mAh"
                },
                releaseYear: 2024,
                price: 1999,
                os: "Android 13 (HyperOS)"
            },
            {
                brand: "Redmi",
                model: "Note 13",
                specs: {
                    display: "6.67吋 AMOLED",
                    chip: "Snapdragon 685",
                    storage: "128GB/256GB",
                    camera: "108MP主鏡頭 + 8MP超廣角 + 2MP微距",
                    battery: "5000mAh"
                },
                releaseYear: 2024,
                price: 1499,
                os: "Android 13 (MIUI 14)"
            },
            // 入門級
            {
                brand: "Redmi",
                model: "12",
                specs: {
                    display: "6.79吋 LCD",
                    chip: "MediaTek Helio G88",
                    storage: "128GB/256GB",
                    camera: "50MP主鏡頭 + 8MP超廣角 + 2MP微距",
                    battery: "5000mAh"
                },
                releaseYear: 2023,
                price: 1099,
                os: "Android 13 (MIUI 14)"
            },
            {
                brand: "Redmi",
                model: "A2+",
                specs: {
                    display: "6.52吋 LCD",
                    chip: "MediaTek Helio G36",
                    storage: "64GB/128GB",
                    camera: "8MP主鏡    + VGA景深",
                    battery: "5000mAh"
                },
                releaseYear: 2023,
                price: 699,
                os: "Android 13 Go"
            },

            // === Poco 系列 ===
            {
                brand: "Poco",
                model: "F6 Pro",
                specs: {
                    display: "6.67吋 AMOLED",
                    chip: "Snapdragon 8 Gen 2",
                    storage: "256GB/512GB",
                    camera: "50MP主鏡頭 + 8MP超廣角 + 2MP微距",
                    battery: "5000mAh"
                },
                releaseYear: 2024,
                price: 3299,
                os: "Android 14 (HyperOS)"
            },
            {
                brand: "Poco",
                model: "F5 Pro",
                specs: {
                    display: "6.67吋 AMOLED",
                    chip: "Snapdragon 8+ Gen 1",
                    storage: "256GB/512GB",
                    camera: "64MP主鏡頭 + 8MP超廣角 + 2MP微距",
                    battery: "5160mAh"
                },
                releaseYear: 2023,
                price: 3299,
                os: "Android 13 (MIUI 14)"
            },
            {
                brand: "Poco",
                model: "X6 Pro",
                specs: {
                    display: "6.67吋 AMOLED",
                    chip: "MediaTek Dimensity 8300 Ultra",
                    storage: "256GB/512GB",
                    camera: "64MP主鏡頭 + 8MP超廣角 + 2MP微距",
                    battery: "5000mAh"
                },
                releaseYear: 2024,
                price: 2299,
                os: "Android 14 (HyperOS)"
            },
            {
                brand: "Poco",
                model: "M6 Pro",
                specs: {
                    display: "6.67吋 AMOLED",
                    chip: "MediaTek Helio G99 Ultra",
                    storage: "128GB/256GB",
                    camera: "64MP主鏡頭 + 8MP超廣角 + 2MP微距",
                    battery: "5000mAh"
                },
                releaseYear: 2024,
                price: 1499,
                os: "Android 13 (HyperOS)"
            },

            // === Huawei 華為系列 ===
            {
                brand: "Huawei",
                model: "Mate 60 Pro+",
                specs: {
                    display: "6.82吋 OLED",
                    chip: "Kirin 9000S",
                    storage: "512GB/1TB",
                    camera: "48MP主鏡頭 + 40MP超廣角 + 48MP望遠",
                    battery: "5000mAh"
                },
                releaseYear: 2023,
                price: 9999,
                os: "HarmonyOS 4.0"
            },
            {
                brand: "Huawei",
                model: "Mate 60 Pro",
                specs: {
                    display: "6.82吋 OLED",
                    chip: "Kirin 9000S",
                    storage: "256GB/512GB/1TB",
                    camera: "50MP主鏡頭 + 12MP超廣角 + 48MP望遠",
                    battery: "5000mAh"
                },
                releaseYear: 2023,
                price: 7999,
                os: "HarmonyOS 4.0"
            },
            {
                brand: "Huawei",
                model: "Pura 70 Ultra",
                specs: {
                    display: "6.8吋 OLED",
                    chip: "Kirin 9010",
                    storage: "512GB/1TB",
                    camera: "50MP主鏡頭 + 40MP超廣角 + 50MP望遠",
                    battery: "5200mAh"
                },
                releaseYear: 2024,
                price: 8999,
                os: "HarmonyOS 4.2"
            },
            {
                brand: "Huawei",
                model: "P60 Pro",
                specs: {
                    display: "6.67吋 OLED",
                    chip: "Snapdragon 8+ Gen 1 4G",
                    storage: "256GB/512GB",
                    camera: "48MP主鏡頭 + 13MP超廣角 + 48MP望遠",
                    battery: "4815mAh"
                },
                releaseYear: 2023,
                price: 6988,
                os: "HarmonyOS 3.1"
            },
            {
                brand: "Huawei",
                model: "Mate 50 Pro",
                specs: {
                    display: "6.74吋 OLED",
                    chip: "Snapdragon 8+ Gen 1 4G",
                    storage: "256GB/512GB",
                    camera: "50MP主鏡頭 + 13MP超廣角 + 64MP望遠",
                    battery: "4700mAh"
                },
                releaseYear: 2022,
                price: 6799,
                os: "HarmonyOS 3.0"
            },
            {
                brand: "Huawei",
                model: "P40 Pro",
                specs: {
                    display: "6.58吋 OLED",
                    chip: "Kirin 990 5G",
                    storage: "256GB/512GB",
                    camera: "50MP主鏡頭 + 40MP超廣角 + 12MP望遠 + ToF",
                    battery: "4200mAh"
                },
                releaseYear: 2020,
                price: 6488,
                os: "Android 10 (EMUI 10.1)"
            },

            // === Honor 榮耀系列 ===
            {
                brand: "Honor",
                model: "Magic6 Pro",
                specs: {
                    display: "6.8吋 OLED",
                    chip: "Snapdragon 8 Gen 3",
                    storage: "256GB/512GB/1TB",
                    camera: "50MP主鏡頭 + 50MP超廣角 + 180MP望遠",
                    battery: "5600mAh"
                },
                releaseYear: 2024,
                price: 6999,
                os: "Android 14 (MagicOS 8.0)"
            },
            {
                brand: "Honor",
                model: "Magic5 Pro",
                specs: {
                    display: "6.81吋 OLED",
                    chip: "Snapdragon 8 Gen 2",
                    storage: "256GB/512GB",
                    camera: "50MP主鏡頭 + 50MP超廣角 + 50MP望遠",
                    battery: "5100mAh"
                },
                releaseYear: 2023,
                price: 5999,
                os: "Android 13 (MagicOS 7.1)"
            },
            {
                brand: "Honor",
                model: "90 Pro",
                specs: {
                    display: "6.78吋 AMOLED",
                    chip: "Snapdragon 8+ Gen 1",
                    storage: "256GB/512GB",
                    camera: "200MP主鏡頭 + 12MP超廣角 + 2MP景深",
                    battery: "5000mAh"
                },
                releaseYear: 2023,
                price: 3799,
                os: "Android 13 (MagicOS 7.1)"
            },
            {
                brand: "Honor",
                model: "X9b",
                specs: {
                    display: "6.78吋 AMOLED",
                    chip: "Snapdragon 6 Gen 1",
                    storage: "256GB",
                    camera: "108MP主鏡頭 + 5MP超廣角 + 2MP微距",
                    battery: "5800mAh"
                },
                releaseYear: 2024,
                price: 1999,
                os: "Android 13 (MagicOS 7.2)"
            },

            // === Oppo 系列 ===
            {
                brand: "OPPO",
                model: "Find X7 Ultra",
                specs: {
                    display: "6.82吋 AMOLED",
                    chip: "Snapdragon 8 Gen 3",
                    storage: "256GB/512GB/1TB",
                    camera: "50MP主鏡頭 + 50MP超廣角 + 50MP望遠 + 50MP潛望式望遠",
                    battery: "5000mAh"
                },
                releaseYear: 2024,
                price: 7999,
                os: "Android 14 (ColorOS 14)"
            },
            {
                brand: "OPPO",
                model: "Find X6 Pro",
                specs: {
                    display: "6.82吋 AMOLED",
                    chip: "Snapdragon 8 Gen 2",
                    storage: "256GB/512GB",
                    camera: "50MP主鏡頭 + 50MP超廣角 + 50MP望遠",
                    battery: "5000mAh"
                },
                releaseYear: 2023,
                price: 6999,
                os: "Android 13 (ColorOS 13.1)"
            },
            {
                brand: "OPPO",
                model: "Reno11 Pro",
                specs: {
                    display: "6.7吋 AMOLED",
                    chip: "MediaTek Dimensity 8200",
                    storage: "256GB/512GB",
                    camera: "50MP主鏡頭 + 8MP超廣角 + 32MP望遠",
                    battery: "4600mAh"
                },
                releaseYear: 2024,
                price: 3699,
                os: "Android 14 (ColorOS 14)"
            },
            {
                brand: "OPPO",
                model: "A98 5G",
                specs: {
                    display: "6.72吋 LCD",
                    chip: "Snapdragon 695 5G",
                    storage: "256GB",
                    camera: "64MP主鏡頭 + 2MP微距 + 2MP景深",
                    battery: "5000mAh"
                },
                releaseYear: 2023,
                price: 1999,
                os: "Android 13 (ColorOS 13.1)"
            },
            {
                brand: "OPPO",
                model: "Find X3 Pro",
                specs: {
                    display: "6.7吋 AMOLED",
                    chip: "Snapdragon 888",
                    storage: "256GB/512GB",
                    camera: "50MP主鏡頭 + 50MP超廣角 + 13MP望遠 + 3MP微距",
                    battery: "4500mAh"
                },
                releaseYear: 2021,
                price: 6999,
                os: "Android 11 (ColorOS 11.2)"
            },

            // === Vivo 系列 ===
            {
                brand: "Vivo",
                model: "X100 Pro",
                specs: {
                    display: "6.78吋 AMOLED",
                    chip: "MediaTek Dimensity 9300",
                    storage: "256GB/512GB/1TB",
                    camera: "50MP主鏡頭 + 50MP超廣角 + 50MP望遠",
                    battery: "5400mAh"
                },
                releaseYear: 2024,
                price: 6999,
                os: "Android 14 (OriginOS 4)"
            },
            {
                brand: "Vivo",
                model: "X100",
                specs: {
                    display: "6.78吋 AMOLED",
                    chip: "MediaTek Dimensity 9300",
                    storage: "256GB/512GB",
                    camera: "50MP主鏡頭 + 50MP超廣角 + 64MP望遠",
                    battery: "5000mAh"
                },
                releaseYear: 2024,
                price: 4999,
                os: "Android 14 (OriginOS 4)"
            },
            {
                brand: "Vivo",
                model: "X90 Pro+",
                specs: {
                    display: "6.78吋 AMOLED",
                    chip: "Snapdragon 8 Gen 2",
                    storage: "256GB/512GB",
                    camera: "50MP主鏡頭 + 48MP超廣角 + 50MP望遠 + 64MP潛望式望遠",
                    battery: "4700mAh"
                },
                releaseYear: 2023,
                price: 6999,
                os: "Android 13 (OriginOS 3)"
            },
            {
                brand: "Vivo",
                model: "V29 Pro",
                specs: {
                    display: "6.78吋 AMOLED",
                    chip: "MediaTek Dimensity 8200",
                    storage: "256GB/512GB",
                    camera: "50MP主鏡頭 + 8MP超廣角 + 12MP望遠",
                    battery: "4600mAh"
                },
                releaseYear: 2023,
                price: 3299,
                os: "Android 13 (Funtouch OS 13)"
            },
            {
                brand: "Vivo",
                model: "Y36",
                specs: {
                    display: "6.64吋 LCD",
                    chip: "Snapdragon 680",
                    storage: "128GB/256GB",
                    camera: "50MP主鏡頭 + 2MP景深",
                    battery: "5000mAh"
                },
                releaseYear: 2023,
                price: 1399,
                os: "Android 13 (Funtouch OS 13)"
            },

            // === Sony 系列 ===
            {
                brand: "Sony",
                model: "Xperia 1 VI",
                specs: {
                    display: "6.5吋 4K HDR OLED",
                    chip: "Snapdragon 8 Gen 3",
                    storage: "256GB/512GB",
                    camera: "48MP主鏡頭 + 12MP超廣角 + 12MP望遠",
                    battery: "5000mAh"
                },
                releaseYear: 2024,
                price: 9999,
                os: "Android 14"
            },
            {
                brand: "Sony",
                model: "Xperia 1 V",
                specs: {
                    display: "6.5吋 4K OLED",
                    chip: "Snapdragon 8 Gen 2",
                    storage: "256GB/512GB",
                    camera: "48MP主鏡頭 + 12MP超廣角 + 12MP望遠",
                    battery: "5000mAh"
                },
                releaseYear: 2023,
                price: 8999,
                os: "Android 13"
            },
            {
                brand: "Sony",
                model: "Xperia 5 V",
                specs: {
                    display: "6.1吋 Full HD+ OLED",
                    chip: "Snapdragon 8 Gen 2",
                    storage: "128GB/256GB",
                    camera: "48MP主鏡頭 + 12MP超廣角 + 12MP望遠",
                    battery: "5000mAh"
                },
                releaseYear: 2023,
                price: 6999,
                os: "Android 13"
            },
            {
                brand: "Sony",
                model: "Xperia 10 V",
                specs: {
                    display: "6.1吋 Full HD+ OLED",
                    chip: "Snapdragon 695 5G",
                    storage: "128GB",
                    camera: "48MP主鏡    + 8MP超廣角 + 8MP望遠",
                    battery: "5000mAh"
                },
                releaseYear: 2023,
                price: 3299,
                os: "Android 13"
            },
            {
                brand: "Sony",
                model: "Xperia 1 III",
                specs: {
                    display: "6.5吋 4K HDR OLED",
                    chip: "Snapdragon 888",
                    storage: "256GB/512GB",
                    camera: "12MP主鏡頭 + 12MP超廣角 + 12MP望遠",
                    battery: "4500mAh"
                },
                releaseYear: 2021,
                price: 9499,
                os: "Android 11"
            },

            // === Nokia 系列 ===
            {
                brand: "Nokia",
                model: "XR21",
                specs: {
                    display: "6.49吋 LCD",
                    chip: "Snapdragon 695 5G",
                    storage: "128GB/256GB",
                    camera: "64MP主鏡頭 + 8MP超廣角",
                    battery: "4800mAh"
                },
                releaseYear: 2023,
                price: 3599,
                os: "Android 12"
            },
            {
                brand: "Nokia",
                model: "G60 5G",
                specs: {
                    display: "6.58吋 LCD",
                    chip: "Snapdragon 695 5G",
                    storage: "128GB",
                    camera: "50MP主鏡頭 + 5MP超廣角 + 2MP景深",
                    battery: "4500mAh"
                },
                releaseYear: 2022,
                price: 2399,
                os: "Android 12"
            },
            {
                brand: "Nokia",
                model: "X30 5G",
                specs: {
                    display: "6.43吋 AMOLED",
                    chip: "Snapdragon 695 5G",
                    storage: "128GB/256GB",
                    camera: "50MP主鏡頭 + 13MP超廣角",
                    battery: "4200mAh"
                },
                releaseYear: 2022,
                price: 3499,
                os: "Android 12"
            },
            {
                brand: "Nokia",
                model: "G21",
                specs: {
                    display: "6.5吋 LCD",
                    chip: "UNISOC T606",
                    storage: "64GB/128GB",
                    camera: "50MP主鏡頭 + 2MP微距 + 2MP景深",
                    battery: "5050mAh"
                },
                releaseYear: 2022,
                price: 1199,
                os: "Android 11"
            },
            {
                brand: "Nokia",
                model: "8.3 5G",
                specs: {
                    display: "6.81吋 LCD",
                    chip: "Snapdragon 765G",
                    storage: "128GB/256GB",
                    camera: "64MP主鏡頭 + 12MP超廣角 + 2MP微    + 2MP景深",
                    battery: "4500mAh"
                },
                releaseYear: 2020,
                price: 4999,
                os: "Android 10"
            },

            // === Google Pixel 系列 ===
            {
                brand: "Google",
                model: "Pixel 8 Pro",
                specs: {
                    display: "6.7吋 OLED",
                    chip: "Google Tensor G3",
                    storage: "128GB/256GB/512GB",
                    camera: "50MP主鏡頭 + 48MP超廣角 + 48MP望遠",
                    battery: "5050mAh"
                },
                releaseYear: 2023,
                price: 8599,
                os: "Android 14"
            },
            {
                brand: "Google",
                model: "Pixel 8",
                specs: {
                    display: "6.2吋 OLED",
                    chip: "Google Tensor G3",
                    storage: "128GB/256GB",
                    camera: "50MP主鏡頭 + 12MP超廣角",
                    battery: "4575mAh"
                },
                releaseYear: 2023,
                price: 5999,
                os: "Android 14"
            },
            {
                brand: "Google",
                model: "Pixel 7 Pro",
                specs: {
                    display: "6.7吋 OLED",
                    chip: "Google Tensor G2",
                    storage: "128GB/256GB/512GB",
                    camera: "50MP主鏡頭 + 12MP超廣角 + 48MP望遠",
                    battery: "5000mAh"
                },
                releaseYear: 2022,
                price: 7299,
                os: "Android 13"
            },
            {
                brand: "Google",
                model: "Pixel 7a",
                specs: {
                    display: "6.1吋 OLED",
                    chip: "Google Tensor G2",
                    storage: "128GB",
                    camera: "64MP主鏡頭 + 13MP超廣角",
                    battery: "4385mAh"
                },
                releaseYear: 2023,
                price: 3499,
                os: "Android 13"
            },
            {
                brand: "Google",
                model: "Pixel 6 Pro",
                specs: {
                    display: "6.7吋 OLED",
                    chip: "Google Tensor",
                    storage: "128GB/256GB/512GB",
                    camera: "50MP主鏡頭 + 12MP超廣角 + 48MP望遠",
                    battery: "5003mAh"
                },
                releaseYear: 2021,
                price: 7599,
                os: "Android 12"
            },

            // === OnePlus 一加   列 ===
            {
                brand: "OnePlus",
                model: "12",
                specs: {
                    display: "6.82吋 AMOLED",
                    chip: "Snapdragon 8 Gen 3",
                    storage: "256GB/512GB",
                    camera: "50MP主鏡頭 + 48MP超廣角 + 64MP望遠",
                    battery: "5400mAh"
                },
                releaseYear: 2024,
                price: 5999,
                os: "Android 14 (OxygenOS 14)"
            },
            {
                brand: "OnePlus",
                model: "11",
                specs: {
                    display: "6.7吋 AMOLED",
                    chip: "Snapdragon 8 Gen 2",
                    storage: "128GB/256GB/512GB",
                    camera: "50MP主鏡頭 + 48MP超廣角 + 32MP望遠",
                    battery: "5000mAh"
                },
                releaseYear: 2023,
                price: 4999,
                os: "Android 13 (OxygenOS 13)"
            },
            {
                brand: "OnePlus",
                model: "Nord 3",
                specs: {
                    display: "6.74吋 AMOLED",
                    chip: "MediaTek Dimensity 9000",
                    storage: "128GB/256GB",
                    camera: "50MP主鏡頭 + 8MP超廣角 + 2MP微距",
                    battery: "5000mAh"
                },
                releaseYear: 2023,
                price: 2999,
                os: "Android 13 (OxygenOS 13.1)"
            },
            {
                brand: "OnePlus",
                model: "10 Pro",
                specs: {
                    display: "6.7吋 AMOLED",
                    chip: "Snapdragon 8 Gen 1",
                    storage: "128GB/256GB/512GB",
                    camera: "48MP主鏡頭 + 50MP超廣角 + 8MP望遠",
                    battery: "5000mAh"
                },
                releaseYear: 2022,
                price: 5499,
                os: "Android 12 (OxygenOS 12.1)"
            },
            {
                brand: "OnePlus",
                model: "9 Pro",
                specs: {
                    display: "6.7吋 AMOLED",
                    chip: "Snapdragon 888",
                    storage: "128GB/256GB",
                    camera: "48MP主鏡頭 + 50MP超廣角 + 8MP   遠 + 2MP黑白",
                    battery: "4500mAh"
                },
                releaseYear: 2021,
                price: 5999,
                os: "Android 11 (OxygenOS 11)"
            },

            // === Realme 系列 ===
            {
                brand: "Realme",
                model: "GT 5 Pro",
                specs: {
                    display: "6.78吋 AMOLED",
                    chip: "Snapdragon 8 Gen 3",
                    storage: "256GB/512GB/1TB",
                    camera: "50MP主鏡頭 + 50MP望遠 + 8MP超廣角",
                    battery: "5400mAh"
                },
                releaseYear: 2024,
                price: 4499,
                os: "Android 14 (Realme UI 5.0)"
            },
            {
                brand: "Realme",
                model: "GT 3",
                specs: {
                    display: "6.74吋 AMOLED",
                    chip: "Snapdragon 8+ Gen 1",
                    storage: "128GB/256GB",
                    camera: "50MP主鏡頭 + 8MP超廣角 + 2MP微距",
                    battery: "4600mAh"
                },
                releaseYear: 2023,
                price: 3499,
                os: "Android 13 (Realme UI 4.0)"
            },
            {
                brand: "Realme",
                model: "11 Pro+",
                specs: {
                    display: "6.7吋 AMOLED",
                    chip: "MediaTek Dimensity 7050",
                    storage: "256GB/512GB",
                    camera: "200MP主鏡頭 + 8MP超廣角 + 2MP微距",
                    battery: "5000mAh"
                },
                releaseYear: 2023,
                price: 2499,
                os: "Android 13 (Realme UI 4.0)"
            },
            {
                brand: "Realme",
                model: "C55",
                specs: {
                    display: "6.72吋 LCD",
                    chip: "MediaTek Helio G88",
                    storage: "128GB/256GB",
                    camera: "64MP主鏡頭 + 2MP景深",
                    battery: "5000mAh"
                },
                releaseYear: 2023,
                price: 1299,
                os: "Android 13 (Realme UI 4.0)"
            },

            // === Motorola 系列 ===
            {
                brand: "Motorola",
                model: "Edge 50 Pro",
                specs: {
                    display: "6.7吋 OLED",
                    chip: "Snapdragon 7 Gen 3",
                    storage: "256GB/512GB",
                    camera: "50MP主鏡頭 + 13MP超廣角 + 10MP望遠",
                    battery: "4500mAh"
                },
                releaseYear: 2024,
                price: 4299,
                os: "Android 14"
            },
            {
                brand: "Motorola",
                model: "Edge 40 Pro",
                specs: {
                    display: "6.67吋 OLED",
                    chip: "Snapdragon 8 Gen 2",
                    storage: "256GB/512GB",
                    camera: "50MP主鏡頭 + 50MP超廣角 + 12MP望遠",
                    battery: "4600mAh"
                },
                releaseYear: 2023,
                price: 5299,
                os: "Android 13"
            },
            {
                brand: "Motorola",
                model: "Razr 40 Ultra",
                specs: {
                    display: "6.9吋主螢幕 + 3.6吋封面螢幕",
                    chip: "Snapdragon 8+ Gen 1",
                    storage: "256GB/512GB",
                    camera: "12MP主鏡頭 + 13MP超廣角",
                    battery: "3800mAh"
                },
                releaseYear: 2023,
                price: 6999,
                os: "Android 13"
            },
            {
                brand: "Motorola",
                model: "G84 5G",
                specs: {
                    display: "6.5吋 OLED",
                    chip: "Snapdragon 695 5G",
                    storage: "256GB",
                    camera: "50MP主鏡頭 + 8MP超廣角",
                    battery: "5000mAh"
                },
                releaseYear: 2023,
                price: 2199,
                os: "Android 13"
            },

            // === Asus 系列 ===
            {
                brand: "Asus",
                model: "ROG Phone 8 Pro",
                specs: {
                    display: "6.78吋 AMOLED",
                    chip: "Snapdragon 8 Gen 3",
                    storage: "512GB/1TB",
                    camera: "50MP主鏡頭 + 13MP超廣角 + 32MP望遠",
                    battery: "5500mAh"
                },
                releaseYear: 2024,
                price: 8999,
                os: "Android 14 (ROG UI)"
            },
            {
                brand: "Asus",
                model: "ROG Phone 7 Ultimate",
                specs: {
                    display: "6.78吋 AMOLED",
                    chip: "Snapdragon 8 Gen 2",
                    storage: "512GB/1TB",
                    camera: "50MP主鏡頭 + 13MP超廣角 + 5MP微距",
                    battery: "6000mAh"
                },
                releaseYear: 2023,
                price: 7999,
                os: "Android 13 (ROG UI)"
            },
            {
                brand: "Asus",
                model: "Zenfone 10",
                specs: {
                    display: "5.9吋 AMOLED",
                    chip: "Snapdragon 8 Gen 2",
                    storage: "128GB/256GB/512GB",
                    camera: "50MP主鏡頭 + 13MP超廣角",
                    battery: "4300mAh"
                },
                releaseYear: 2023,
                price: 4999,
                os: "Android 13 (ZenUI 10)"
            },

            // === Nothing 系列 ===
            {
                brand: "Nothing",
                model: "Phone (2)",
                specs: {
                    display: "6.7吋 OLED",
                    chip: "Snapdragon 8+ Gen 1",
                    storage: "128GB/256GB/512GB",
                    camera: "50MP主鏡頭 + 50MP超廣角",
                    battery: "4700mAh"
                },
                releaseYear: 2023,
                price: 4299,
                os: "Android 13 (Nothing OS 2.0)"
            },
            {
                brand: "Nothing",
                model: "Phone (2a)",
                specs: {
                    display: "6.7吋 AMOLED",
                    chip: "MediaTek Dimensity 7200 Pro",
                    storage: "128GB/256GB",
                    camera: "50MP主鏡頭 + 50MP超廣角",
                    battery: "5000mAh"
                },
                releaseYear: 2024,
                price: 2599,
                os: "Android 14 (Nothing OS 2.5)"
            },
            {
                brand: "Nothing",
                model: "Phone (1)",
                specs: {
                    display: "6.55吋 OLED",
                    chip: "Snapdragon 778G+",
                    storage: "128GB/256GB",
                    camera: "50MP主鏡頭 + 50MP超廣角",
                    battery: "4500mAh"
                },
                releaseYear: 2022,
                price: 3599,
                os: "Android 12 (Nothing OS 1.0)"
            },

            // === 容易混淆的手機型號 (為第10-20關設計) ===
            // 這些手機具有相似的規格或命名，容易造成混淆

            // Realme    列 - 數   容易混淆
            {
                brand: "Realme",
                model: "Realme GT Neo 3",
                specs: {
                    display: "6.7吋 AMOLED",
                    chip: "MediaTek Dimensity 8100",
                    storage: "128GB/256GB",
                    camera: "50MP主鏡頭 + 8MP超廣角 + 2MP微距",
                    battery: "5000mAh"
                },
                releaseYear: 2022,
                price: 2999,
                os: "Android 12 (Realme UI 3.0)"
            },
            {
                brand: "Realme",
                model: "Realme GT Neo 5",
                specs: {
                    display: "6.74吋 AMOLED",
                    chip: "Snapdragon 8+ Gen 1",
                    storage: "128GB/256GB/512GB",
                    camera: "50MP主鏡頭 + 8MP超廣角 + 2MP微距",
                    battery: "5000mAh"
                },
                releaseYear: 2023,
                price: 3299,
                os: "Android 13 (Realme UI 4.0)"
            },
            {
                brand: "Realme",
                model: "Realme GT 2 Pro",
                specs: {
                    display: "6.7吋 AMOLED",
                    chip: "Snapdragon 8 Gen 1",
                    storage: "128GB/256GB/512GB",
                    camera: "50MP主鏡頭 + 50MP超廣角 + 2MP微距",
                    battery: "5000mAh"
                },
                releaseYear: 2022,
                price: 3999,
                os: "Android 12 (Realme UI 3.0)"
            },
            {
                brand: "Realme",
                model: "Realme GT 3",
                specs: {
                    display: "6.74吋 AMOLED",
                    chip: "Snapdragon 8+ Gen 1",
                    storage: "128GB/256GB/512GB",
                    camera: "50MP主鏡頭 + 8MP超廣角 + 2MP微距",
                    battery: "4600mAh"
                },
                releaseYear: 2023,
                price: 3699,
                os: "Android 13 (Realme UI 4.0)"
            },

            // OPPO Reno 系列 - 版本號容易混淆
            {
                brand: "OPPO",
                model: "OPPO Reno 10 Pro+",
                specs: {
                    display: "6.74吋 AMOLED",
                    chip: "Snapdragon 8+ Gen 1",
                    storage: "256GB/512GB",
                    camera: "50MP主鏡頭 + 64MP潛望式望遠 + 8MP超廣角",
                    battery: "4700mAh"
                },
                releaseYear: 2023,
                price: 4499,
                os: "Android 13 (ColorOS 13.1)"
            },
            {
                brand: "OPPO",
                model: "OPPO Reno 10 Pro",
                specs: {
                    display: "6.7吋 AMOLED",
                    chip: "Snapdragon 778G",
                    storage: "256GB/512GB",
                    camera: "50MP主鏡頭 + 32MP望遠 + 8MP超廣角",
                    battery: "4600mAh"
                },
                releaseYear: 2023,
                price: 3299,
                os: "Android 13 (ColorOS 13.1)"
            },
            {
                brand: "OPPO",
                model: "OPPO Reno 11 Pro",
                specs: {
                    display: "6.7吋 AMOLED",
                    chip: "MediaTek Dimensity 8200",
                    storage: "256GB/512GB",
                    camera: "50MP主鏡頭 + 32MP望遠 + 8MP超廣角",
                    battery: "4600mAh"
                },
                releaseYear: 2024,
                price: 3499,
                os: "Android 14 (ColorOS 14)"
            },
            {
                brand: "OPPO",
                model: "OPPO Reno 11",
                specs: {
                    display: "6.7吋 AMOLED",
                    chip: "MediaTek Dimensity 7050",
                    storage: "128GB/256GB",
                    camera: "50MP主鏡頭 + 32MP望遠 + 8MP超廣角",
                    battery: "5000mAh"
                },
                releaseYear: 2024,
                price: 2699,
                os: "Android 14 (ColorOS 14)"
            },

            // vivo X 系列 - Pro/Pro+ 容易混淆
            {
                brand: "vivo",
                model: "vivo X90 Pro+",
                specs: {
                    display: "6.78吋 AMOLED",
                    chip: "Snapdragon 8 Gen 2",
                    storage: "256GB/512GB",
                    camera: "50MP主鏡頭 + 64MP潛望式望遠 + 50MP超廣角 + 48MP望遠",
                    battery: "4700mAh"
                },
                releaseYear: 2023,
                price: 6999,
                os: "Android 13 (OriginOS 3)"
            },
            {
                brand: "vivo",
                model: "vivo X90 Pro",
                specs: {
                    display: "6.78吋 AMOLED",
                    chip: "MediaTek Dimensity 9200",
                    storage: "256GB/512GB",
                    camera: "50MP主鏡頭 + 50MP人像 + 12MP超廣角",
                    battery: "4870mAh"
                },
                releaseYear: 2023,
                price: 4999,
                os: "Android 13 (OriginOS 3)"
            },
            {
                brand: "vivo",
                model: "vivo X100 Pro",
                specs: {
                    display: "6.78吋 AMOLED",
                    chip: "MediaTek Dimensity 9300",
                    storage: "256GB/512GB/1TB",
                    camera: "50MP主鏡頭 + 50MP潛望式望遠 + 50MP   廣角",
                    battery: "5400mAh"
                },
                releaseYear: 2024,
                price: 5299,
                os: "Android 14 (OriginOS 4)"
            },
            {
                brand: "vivo",
                model: "vivo X100",
                specs: {
                    display: "6.78吋 AMOLED",
                    chip: "MediaTek Dimensity 9300",
                    storage: "256GB/512GB",
                    camera: "50MP主鏡頭 + 64MP潛望式望遠 + 50MP超廣角",
                    battery: "5000mAh"
                },
                releaseYear: 2024,
                price: 4299,
                os: "Android 14 (OriginOS 4)"
            },

            // OnePlus 系列 - 數字容易混淆
            {
                brand: "OnePlus",
                model: "OnePlus 11",
                specs: {
                    display: "6.7吋 AMOLED",
                    chip: "Snapdragon 8 Gen 2",
                    storage: "128GB/256GB/512GB",
                    camera: "50MP主鏡頭 + 48MP超廣角 + 32MP望遠",
                    battery: "5000mAh"
                },
                releaseYear: 2023,
                price: 4299,
                os: "Android 13 (OxygenOS 13)"
            },
            {
                brand: "OnePlus",
                model: "OnePlus 11R",
                specs: {
                    display: "6.74吋 AMOLED",
                    chip: "Snapdragon 8+ Gen 1",
                    storage: "128GB/256GB",
                    camera: "50MP主鏡頭 + 8MP超廣角 + 2MP微距",
                    battery: "5000mAh"
                },
                releaseYear: 2023,
                price: 2999,
                os: "Android 13 (OxygenOS 13)"
            },
            {
                brand: "OnePlus",
                model: "OnePlus 12",
                specs: {
                    display: "6.82吋 AMOLED",
                    chip: "Snapdragon 8 Gen 3",
                    storage: "256GB/512GB/1TB",
                    camera: "50MP主鏡頭 + 64MP潛望式望遠 + 48MP超廣角",
                    battery: "5400mAh"
                },
                releaseYear: 2024,
                price: 4799,
                os: "Android 14 (OxygenOS 14)"
            },
            {
                brand: "OnePlus",
                model: "OnePlus 12R",
                specs: {
                    display: "6.78吋 AMOLED",
                    chip: "Snapdragon 8 Gen 2",
                    storage: "128GB/256GB",
                    camera: "50MP主鏡頭 + 8MP超廣角 + 2MP微距",
                    battery: "5500mAh"
                },
                releaseYear: 2024,
                price: 3299,
                os: "Android 14 (OxygenOS 14)"
            },

            // Motorola Edge 系列 - 容易混淆
            {
                brand: "Motorola",
                model: "Motorola Edge 40 Pro",
                specs: {
                    display: "6.67吋 OLED",
                    chip: "Snapdragon 8 Gen 2",
                    storage: "256GB/512GB",
                    camera: "50MP主鏡頭 + 50MP超廣角 + 12MP望遠",
                    battery: "4600mAh"
                },
                releaseYear: 2023,
                price: 4299,
                os: "Android 13"
            },
            {
                brand: "Motorola",
                model: "Motorola Edge 40",
                specs: {
                    display: "6.55吋 OLED",
                    chip: "MediaTek Dimensity 8020",
                    storage: "128GB/256GB",
                    camera: "50MP主鏡頭 + 13MP超廣角",
                    battery: "4400mAh"
                },
                releaseYear: 2023,
                price: 2999,
                os: "Android 13"
            },
            {
                brand: "Motorola",
                model: "Motorola Edge 50 Pro",
                specs: {
                    display: "6.7吋 OLED",
                    chip: "Snapdragon 7 Gen 3",
                    storage: "256GB/512GB",
                    camera: "50MP主鏡頭 + 13MP超廣角 + 10MP望遠",
                    battery: "4500mAh"
                },
                releaseYear: 2024,
                price: 3499,
                os: "Android 14"
            },

            // Honor 系列 - Magic 系列容易混淆
            {
                brand: "Honor",
                model: "Honor Magic 5 Pro",
                specs: {
                    display: "6.81吋 OLED",
                    chip: "Snapdragon 8 Gen 2",
                    storage: "256GB/512GB",
                    camera: "50MP主鏡頭 + 50MP潛望式望遠 + 50MP超廣角",
                    battery: "5100mAh"
                },
                releaseYear: 2023,
                price: 5499,
                os: "Android 13 (MagicOS 7.1)"
            },
            {
                brand: "Honor",
                model: "Honor Magic 6 Pro",
                specs: {
                    display: "6.8吋 OLED",
                    chip: "Snapdragon 8 Gen 3",
                    storage: "256GB/512GB/1TB",
                    camera: "50MP主鏡頭 + 180MP潛望式望遠 + 50MP超廣角",
                    battery: "5600mAh"
                },
                releaseYear: 2024,
                price: 5999,
                os: "Android 14 (MagicOS 8.0)"
            },
            {
                brand: "Honor",
                model: "Honor 90 Pro",
                specs: {
                    display: "6.78吋 AMOLED",
                    chip: "Snapdragon 8+ Gen 1",
                    storage: "256GB/512GB",
                    camera: "200MP主鏡頭 + 12MP超廣角 + 2MP微距",
                    battery: "5000mAh"
                },
                releaseYear: 2023,
                price: 3799,
                os: "Android 13 (MagicOS 7.1)"
            },
            {
                brand: "Honor",
                model: "Honor 100 Pro",
                specs: {
                    display: "6.78吋 AMOLED",
                    chip: "Snapdragon 8 Gen 2",
                    storage: "256GB/512GB",
                    camera: "50MP主鏡頭 + 32MP望遠 + 12MP超廣角",
                    battery: "5000mAh"
                },
                releaseYear: 2024,
                price: 3999,
                os: "Android 14 (MagicOS 8.0)"
            },

            // Redmi K 系列 - K 字容易混淆
            {
                brand: "Redmi",
                model: "Redmi K60 Pro",
                specs: {
                    display: "6.67吋 AMOLED",
                    chip: "Snapdragon 8 Gen 2",
                    storage: "128GB/256GB/512GB",
                    camera: "50MP主鏡頭 + 8MP超廣角 + 2MP微距",
                    battery: "5000mAh"
                },
                releaseYear: 2023,
                price: 2999,
                os: "Android 13 (MIUI 14)"
            },
            {
                brand: "Redmi",
                model: "Redmi K60",
                specs: {
                    display: "6.67吋 AMOLED",
                    chip: "Snapdragon 8+ Gen 1",
                    storage: "128GB/256GB/512GB",
                    camera: "64MP主鏡頭 + 8MP超廣角 + 2MP微距",
                    battery: "5500mAh"
                },
                releaseYear: 2023,
                price: 2199,
                os: "Android 13 (MIUI 14)"
            },
            {
                brand: "Redmi",
                model: "Redmi K70 Pro",
                specs: {
                    display: "6.67吋 AMOLED",
                    chip: "Snapdragon 8 Gen 3",
                    storage: "256GB/512GB/1TB",
                    camera: "50MP主鏡頭 + 12MP超廣角 + 50MP望遠",
                    battery: "5000mAh"
                },
                releaseYear: 2024,
                price: 3299,
                os: "Android 14 (HyperOS)"
            },
            {
                brand: "Redmi",
                model: "Redmi K70",
                specs: {
                    display: "6.67吋 AMOLED",
                    chip: "Snapdragon 8 Gen 2",
                    storage: "128GB/256GB/512GB",
                    camera: "50MP主鏡頭 + 8MP超廣角 + 2MP微距",
                    battery: "5000mAh"
                },
                releaseYear: 2024,
                price: 2499,
                os: "Android 14 (HyperOS)"
            },

            // IQOO 系列 - 數字容易混淆
            {
                brand: "iQOO",
                model: "iQOO 11 Pro",
                specs: {
                    display: "6.78吋 AMOLED",
                    chip: "Snapdragon 8 Gen 2",
                    storage: "256GB/512GB",
                    camera: "50MP主鏡頭 + 50MP超廣角 + 14.6MP望遠",
                    battery: "4700mAh"
                },
                releaseYear: 2023,
                price: 4299,
                os: "Android 13 (OriginOS 3)"
            },
            {
                brand: "iQOO",
                model: "iQOO 11",
                specs: {
                    display: "6.78吋 AMOLED",
                    chip: "Snapdragon 8 Gen 2",
                    storage: "128GB/256GB/512GB",
                    camera: "50MP主鏡頭 + 13MP超廣角 + 12MP望遠",
                    battery: "5000mAh"
                },
                releaseYear: 2023,
                price: 3299,
                os: "Android 13 (OriginOS 3)"
            },
            {
                brand: "iQOO",
                model: "iQOO 12 Pro",
                specs: {
                    display: "6.78吋 AMOLED",
                    chip: "Snapdragon 8 Gen 3",
                    storage: "256GB/512GB/1TB",
                    camera: "50MP主鏡    + 50MP超廣角 + 64MP潛望式望遠",
                    battery: "5100mAh"
                },
                releaseYear: 2024,
                price: 4799,
                os: "Android 14 (OriginOS 4)"
            },
            {
                brand: "iQOO",
                model: "iQOO 12",
                specs: {
                    display: "6.78吋 AMOLED",
                    chip: "Snapdragon 8 Gen 3",
                    storage: "256GB/512GB/1TB",
                    camera: "50MP主鏡頭 + 50MP超廣角 + 64MP望遠",
                    battery: "5000mAh"
                },
                releaseYear: 2024,
                price: 3799,
                os: "Android 14 (OriginOS 4)"
            },

            // 特別陷阱手機 - 規格非常相似但不同品牌/型號
            {
                brand: "Nubia",
                model: "Nubia Z50S Pro",
                specs: {
                    display: "6.78吋 AMOLED",
                    chip: "Snapdragon 8 Gen 2",
                    storage: "256GB/512GB/1TB",
                    camera: "50MP主鏡頭 + 50MP超廣角 + 8MP望遠",
                    battery: "5100mAh"
                },
                releaseYear: 2023,
                price: 3499,
                os: "Android 13 (MyOS 13)"
            },
            {
                brand: "ZTE",
                model: "ZTE Axon 50 Ultra",
                specs: {
                    display: "6.67吋 AMOLED",
                    chip: "Snapdragon 8 Gen 2",
                    storage: "256GB/512GB",
                    camera: "64MP主鏡頭 + 50MP超廣角 + 64MP潛望式望遠",
                    battery: "5000mAh"
                },
                releaseYear: 2023,
                price: 3999,
                os: "Android 13 (MyOS 13)"
            },
            {
                brand: "Meizu",
                model: "Meizu 20 Pro",
                specs: {
                    display: "6.81吋 AMOLED",
                    chip: "Snapdragon 8 Gen 2",
                    storage: "256GB/512GB",
                    camera: "50MP主鏡頭 + 50MP超廣角 + 50MP望遠",
                    battery: "5000mAh"
                },
                releaseYear: 2023,
                price: 3799,
                os: "Android 13 (Flyme 10)"
            },
            {
                brand: "Meizu",
                model: "Meizu 21 Pro",
                specs: {
                    display: "6.79吋 AMOLED",
                    chip: "Snapdragon 8 Gen 3",
                    storage: "256GB/512GB",
                    camera: "50MP主鏡頭 + 13MP超廣角 + 10MP望遠",
                    battery: "5050mAh"
                },
                releaseYear: 2024,
                price: 3999,
                os: "Android 14 (Flyme 11)"
            }
        ];

        // 手機題庫（mobileQuestions）- 包含最新、較舊及舊款、旗艦、中階、入門範例
        const mobileQuestions = [
            { question: "iPhone 目前主流的系列是哪一個？", options: ["iPhone 16 系列", "iPhone 17 系列", "iPhone 12 系列", "iPhone X 系列"], correct: 1 },
            { question: "下列哪一個是三星旗艦系列？", options: ["Galaxy A 系列", "Galaxy C 系列", "Galaxy S 系列 (例如 S25 Ultra)", "Galaxy M 系列"], correct: 2 },
            { question: "MTK 最新旗艦處理器型號範例為？", options: ["MTK 7000", "MTK 8000", "MTK 9500", "MTK 600"], correct: 2 },
            { question: "榮耀手機最新作業系統名為？", options: ["Magic UI 5", "Magic OS 10", "Honor OS 9", "HarmonyOS 4"], correct: 1 },
            { question: "手機定位為入門/中階/旗艦，下列哪個車系通常為中階/入門？", options: ["Samsung A 系列", "iPhone Pro 系列", "Samsung S Ultra 系列", "Sony Xperia Pro"], correct: 0 }
        ];

        // 前端 / 網頁開發題庫（webDevQuestions）
        const webDevQuestions = [
            { question: "HTML 的語義化元素哪一個用於標題？", options: ["<div>", "<span>", "<h1>", "<table>"], correct: 2 },
            { question: "CSS 的哪個屬性用於設定元素的外邊距？", options: ["padding", "margin", "border", "gap"], correct: 1 },
            { question: "JavaScript 中用於宣告變數的關鍵字是哪一個？", options: ["var", "let", "const", "以上皆是"], correct: 3 },
            { question: "下列哪一項不是常見的前端開發工具？", options: ["VS Code", "Adobe Dreamweaver", "Maven (純前端情境)", "Chrome DevTools"], correct: 2 }
        ];

        // 後端 / 編程題庫（backendQuestions）
        const backendQuestions = [
            { question: "Python 常用於後端開發的框架是哪一個？", options: ["Django", "React", "Vue", "Sass"], correct: 0 },
            { question: "Linux 中查看目前目錄列表的指令是？", options: ["ls", "dir", "list", "show"], correct: 0 },
            { question: "C++ 常用於哪類應用？", options: ["系統程式與效能敏感應用", "純前端樣式", "資料庫配置", "雲端部署管理"], correct: 0 }
        ];

    // AI 題庫（AI, ML, LLMs, Ethics 等） - 額外題庫 (aiQuestionsExtraLocal)
    const aiQuestionsExtraLocal = [
            { question: "下列哪一項屬於生成式 AI 的應用？", options: ["圖像生成 (Text-to-Image)", "資料備份", "網頁託管", "資料庫索引"], correct: 0 },
            { question: "NLP 代表什麼？", options: ["Network Language Processing", "Natural Language Processing", "Numeric Language Parsing", "None"], correct: 1 },
            { question: "在機器學習中，監督學習(supervised learning)通常需要什麼？", options: ["標註資料 (labels)", "無標註資料", "只有模型架構", "只需損失函數"], correct: 0 }
        ];

        // 靈異 / 超自然 題庫（paranormalQuestions）
        const paranormalQuestions = [
            { question: "哪一項常被描述為靈異現象的徵兆？", options: ["溫度突然下降", "電腦加速", "信號變強", "空氣品質提升"], correct: 0 },
            { question: "都市傳說通常透過什麼方式流傳？", options: ["口耳相傳", "官方新聞公報", "學術論文", "政府公告"], correct: 0 },
            { question: "下列哪一項不是靈媒常見的描述能力？", options: ["與亡靈溝通", "修理家電", "預知夢境", "感應異常聲響"], correct: 1 }
        ];

        // 內聯網 / 內部管理系統 題庫（intranetQuestions）
        const intranetQuestions = [
            { question: "內聯網(Intranet)主要用途是什麼？", options: ["企業內部資訊共享與溝通", "公開網站搜尋", "遊戲平台", "公開市場交易"], correct: 0 },
            { question: "CNA 系統常見應用場景為何？", options: ["倉庫庫存管理、企業內部流程", "社交媒體貼文", "公開地圖服務", "影片串流"], correct: 0 },
            { question: "內部系統的授權控制常採用哪種模型？", options: ["RBAC（基於角色的存取控制）", "匿名訪問", "公開訪問", "IP 白名單唯一手段"], correct: 0 }
        ];

        // 補充 內聯網/內部管理系統 題目
        (function(){
            const extraIntranet = [
                { question: "CNA 系統在倉庫中用來管理哪種資訊？", options: ["商品序列、批次與儲位管理", "員工假期申請", "公開促銷廣告", "客戶商品評論"], correct: 0 },
                { question: "倉庫庫存盤點(Stock Take)的常見步驟不包括？", options: ["計劃盤點、封存庫存、實體清點、調整系統數據", "在未記錄情況下移動存貨", "比較系統與實際差異", "生成盤點報告並採取改善措施"], correct: 1 },
                { question: "內部員工資料系統常會存哪些資訊以支援 HR 流程？", options: ["聯絡資訊、職務、到職   離   紀錄、   資與假勤資料", "個人銀行賬戶密碼", "公開客戶資料", "外部競爭者名單"], correct: 0 },
                { question: "政府內部系統在設計架構時，哪個步驟通常最重要？", options: ["需求分析與資安要求定義、權責分工、資訊分類與保存期限、測試與驗收", "直接購買現成系統不做需求分析", "只做表面美化", "忽略備援計劃"], correct: 0 },
                { question: "工業級手持式終端(如企業級 PDA)常見特性為何？", options: ["軍規防護等級、防水防塵、長電池續航、掃描器與條碼/ RFID 支援", "僅用來打電話", "沒有耐用性", "不支援資料同步"], correct: 0 },
                { question: "企業級數位助理(EDA)在內部系統中常見用途為何？", options: ["協助巡檢、資料收集、移動工作單處理與即時通報", "取代所有員工", "僅用於娛樂", "不能與後台系統整合"], correct: 0 },
                { question: "在內部系統中實現 SSO (單一登入) 的   處是？", options: ["減少使用者登入次數、提升安全性並方便管理", "需要更多密碼", "降低系統可用性", "使系統更難整合"], correct: 0 },
                { question: "倉儲管理中，常見的 KPI 不包括下列哪項？", options: ["庫存週轉率", "準時交貨率(OTD)", "停機時間(非營運相關)", "訂單履行準確率"], correct: 2 },
                { question: "內部系統備份策略中，哪項描述較為      ？", options: ["採用多副本、異地備援與定期恢復演練", "只是每天關機備份一次就足夠", "把備份存在同一台機器上", "不需要備份"], correct: 0 },
                { question: "設計內聯網時，哪種做法可提升安全性？", options: ["網路分段、最小權限、加密通訊、定期審計", "開放所有端口讓內部服務直   使用", "共享管理帳號", "不使用日誌紀錄"], correct: 0 }
            ];
            // 合併且去重（以 question 文本為鍵）
            const existing = typeof intranetQuestions !== 'undefined' ? intranetQuestions : [];
            const map = new Map();
            existing.concat(extraIntranet).forEach(q => {
                if (!map.has(q.question)) map.set(q.question, q);
            });
            // 覆寫原陣列內容
            intranetQuestions.length = 0;
            map.forEach(v => intranetQuestions.push(v));
        })();

        // 電腦配置軟件硬件題庫
        const computerDatabase = [
            // 處理器相關
            { category: "處理器", question: "Intel Core i9-13900K 有多少核心?", options: ["16核心", "24核心", "32核心", "8核心"], correct: 1 },
            { category: "處理器", question: "AMD Ryzen 9 7950X 採用什麼製程?", options: ["7nm", "5nm", "10nm", "3nm"], correct: 1 },
            { category: "處理器", question: "以下哪個處理器性能最強?", options: ["Intel i5-13600K", "AMD Ryzen 7 7700X", "Intel i9-13900K", "AMD Ryzen 5 7600X"], correct: 2 },
            { category: "處理器", question: "超線程技術(Hyper-Threading)是哪家公司的技術?", options: ["AMD", "Intel", "NVIDIA", "ARM"], correct: 1 },
            { category: "處理器", question: "Apple M2 Pro 處理器有多少個性能核心?", options: ["6個", "8個", "10個", "12個"], correct: 2 },

            // 顯示卡相關
            { category: "顯示卡", question: "NVIDIA RTX 4090 有多少 CUDA 核心?", options: ["10240", "16384", "24576", "32768"], correct: 1 },
            { category: "顯示卡", question: "以下哪款顯示卡最適   1080p遊戲?", options: ["RTX 4090", "RTX 3060", "RTX 2080 Ti", "GT 1030"], correct: 1 },
            { category: "顯示卡", question: "AMD Radeon RX 7900 XTX 的顯存容量是多少?", options: ["12GB", "16GB", "20GB", "24GB"], correct: 3 },
            { category: "顯示卡", question: "光線追踪(Ray Tracing)技術首次出現在哪個顯卡系列?", options: ["GTX 10系列", "RTX 20系列", "RTX 30系列", "GTX 16系列"], correct: 1 },
            { category: "顯示卡", question: "DLSS 技術是由哪家公司開發?", options: ["AMD", "Intel", "NVIDIA", "Apple"], correct: 2 },

            // 記憶體相關
            { category: "記憶體", question: "DDR5 記憶體的標準電壓是多少?", options: ["1.2V", "1.35V", "1.1V", "1.5V"], correct: 2 },
            { category: "記憶體", question: "以下哪種記憶體速度最快?", options: ["DDR4-3200", "DDR5-4800", "DDR4-3600", "DDR5-5600"], correct: 3 },
            { category: "記憶體", question: "一般遊戲電腦建議配備多少記憶體?", options: ["8GB", "16GB", "32GB", "64GB"], correct: 1 },
            { category: "記憶體", question: "ECC記憶體主要用於什麼場景?", options: ["遊戲", "伺服器", "辦公", "圖形設   "], correct: 1 },
            { category: "記憶體", question: "雙通道記憶體相比單通道有什麼優勢?", options: ["更低延遲", "更高記憶體頻寬", "更低功耗", "更高容量"], correct: 1 },

            // 儲存裝置
            { category: "儲存裝置", question: "PCIe 4.0 SSD 的最大理論速度是多少?", options: ["3500MB/s", "5000MB/s", "7000MB/s", "10000MB/s"], correct: 2 },
            { category: "儲存裝置", question: "NVMe是什麼?", options: ["記憶體類型", "儲存協議", "處理器技術", "顯示卡介面"], correct: 1 },
            { category: "儲存裝置", question: "SSD相比HDD的主要優勢是?", options: ["容量更大", "價格更低", "速度更快", "壽命更長"], correct: 2 },
            { category: "儲存裝置", question: "M.2 SSD 的常見尺寸規   是?", options: ["2242", "2260", "2280", "以上皆是"], correct: 3 },
            { category: "儲存裝置", question: "RAID 0 的主要作用是?", options: ["數據備份", "提升性能", "提升容量", "提升穩定性"], correct: 1 },

            // 主機板相關
            { category: "主機板", question: "Intel 第13代處理器使用什麼晶片組?", options: ["Z690", "Z790", "B660", "H610"], correct: 1 },
            { category: "主機板", question: "ATX主機板的標準尺寸是?", options: ["244×244mm", "305×244mm", "305×267mm", "267×244mm"], correct: 1 },
            { category: "主機板", question: "以下哪個不是主機板的組成部分?", options: ["南橋晶片", "VRM", "記憶體插槽", "顯示卡核心"], correct: 3 },
            { category: "主機板", question: "PCIe 5.0 相比 PCIe 4.0 頻寬提升了多少?", options: ["50%", "100%", "150%", "200%"], correct: 1 },
            { category: "主機板", question: "BIOS的全稱是什麼?", options: ["Basic Input Output System", "Binary Input Output System", "Basic Integrated Operating System", "Binary Integrated Operating System"], correct: 0 },

            // 電源供應器
            { category: "電源", question: "80 PLUS 金牌認證的效率至少是多少?", options: ["80%", "85%", "87%", "90%"], correct: 3 },
            { category: "電源", question: "一台配備RTX 4090的電腦建議使用多少瓦的電源?", options: ["650W", "850W", "1000W", "1200W"], correct: 2 },
            { category: "電源", question: "模組化電源的優點是?", options: ["效率更高", "價格更低", "線材管理方便", "功率更大"], correct: 2 },
            { category: "電源", question: "ATX 3.0 電源新增了   麼接口?", options: ["24pin", "8pin", "12VHPWR", "6pin"], correct: 2 },
            { category: "電源", question: "電源的+12V軌道主要供電給什麼?", options: ["硬碟", "CPU和顯卡", "風扇", "LED燈"], correct: 1 },

            // 散熱器
            { category: "散熱", question: "一體式水冷(AIO)的優點是?", options: ["價格便宜", "散熱效能好", "安裝簡單", "不會漏水"], correct: 1 },
            { category: "散熱", question: "散熱膏的主要作用是?", options: ["粘合散熱器", "降低溫度", "填補空隙提升導熱", "保護CPU"], correct: 2 },
            { category: "散熱", question: "塔式散熱器和下吹式散熱器哪個散熱效果更好?", options: ["塔式", "下吹式", "相同", "視情況而定"], correct: 0 },
            { category: "散熱", question: "CPU滿載溫度多少算正常?", options: ["40-50℃", "50-60℃", "60-80℃", "80-90℃"], correct: 2 },
            { category: "散熱", question: "導熱係數(W/m·K)越高代表什麼?", options: ["散熱越差", "散熱越好", "溫度越高", "溫度越低"], correct: 1 },

            // 作業系統
            { category: "作業系統", question: "Windows 11 正式發布於哪一年?", options: ["2020", "2021", "2022", "2023"], correct: 1 },
            { category: "作業系統", question: "macOS Sonoma 是第幾版 macOS?", options: ["13", "14", "15", "16"], correct: 1 },
            { category: "作業系統", question: "Linux 的核心是由誰創建的?", options: ["Bill Gates", "Steve Jobs", "Linus Torvalds", "Tim Cook"], correct: 2 },
            { category: "作業系統", question: "Windows 的任務管理器快捷鍵是?", options: ["Ctrl+Alt+Del", "Ctrl+Shift+Esc", "Alt+F4", "Win+Tab"], correct: 1 },
            { category: "作業系統", question: "Ubuntu 是基於哪個 Linux 發行版?", options: ["Red Hat", "Debian", "Fedora", "Arch"], correct: 1 },

            // 網絡相關
            { category: "網絡", question: "Wi-Fi 6E 使用什麼頻段?", options: ["2.4GHz", "5GHz", "6GHz", "以上皆是"], correct: 3 },
            { category: "網絡", question: "Cat 8 網線最高支持多少速度?", options: ["1Gbps", "10Gbps", "25Gbps", "40Gbps"], correct: 3 },
            { category: "網絡", question: "路由器的WAN口是用來做什麼的?", options: ["連接內網設備", "連接外網", "連接電腦", "連接打印機"], correct: 1 },
            { category: "網絡", question: "什麼是IP地址的作用?", options: ["識別網絡設備", "加密數據", "提升速度", "降低延遲"], correct: 0 },
            { category: "網絡", question: "DNS的主要功能是?", options: ["加密網絡", "域名解析", "提高速度", "過濾廣告"], correct: 1 },

            // 軟件相關
            { category: "軟件", question: "Adobe Photoshop 主要用於?", options: ["影片剪輯", "圖片編輯", "3D建模", "音樂製作"], correct: 1 },
            { category: "軟件", question: "Visual Studio Code 是什麼類型的軟件?", options: ["圖片編輯器", "代碼編輯器", "影片編輯器", "3D軟件"], correct: 1 },
            { category: "軟件", question: "虛擬機軟件的作用是?", options: ["加速電腦", "運行其他作業系統", "清理垃圾", "防病毒"], correct: 1 },
            { category: "軟件", question: "Git 是什麼類型的工具?", options: ["圖片處理", "版本控制", "影片剪輯", "數據庫"], correct: 1 },
            { category: "軟件", question: "Chrome 瀏覽器使用什麼引擎?", options: ["Gecko", "WebKit", "Blink", "Trident"], correct: 2 },

            // 顯示器相關
            { category: "顯示器", question: "144Hz刷新率相比60Hz的優勢是?", options: ["畫面更流暢", "色彩更好", "解析度更高", "更省電"], correct: 0 },
            { category: "顯示器", question: "IPS面板的優點是?", options: ["響應速度快", "可視   度大", "對比度高", "價格便宜"], correct: 1 },
            { category: "顯示器", question: "4K解析度是多少像素?", options: ["1920×1080", "2560×1440", "3840×2160", "7680×4320"], correct: 2 },
            { category: "顯示器", question: "HDR技術的作用是?", options: ["提升刷新率", "提升色彩範圍", "降低延遲", "省電"], correct: 1 },
            { category: "顯示器", question: "G-Sync 是哪家公司的技術?", options: ["AMD", "Intel", "NVIDIA", "Samsung"], correct: 2 },

            // 外設相關
            { category: "外設", question: "機械鍵盤相比薄膜鍵盤的優勢是?", options: ["價格便宜", "手感好壽命長", "更安靜", "更輕薄"], correct: 1 },
            { category: "外設", question: "Cherry MX 紅軸的特點是?", options: ["有段落感", "聲音大", "直上直下", "需要大力按"], correct: 2 },
            { category: "外設", question: "滑鼠DPI是什麼?", options: ["移動速度", "靈敏度", "重量", "電池壽命"], correct: 1 },
            { category: "外設", question: "無線滑鼠的延遲相比有線滑鼠?", options: ["明顯更高", "幾乎沒差別", "完全相同", "取決於品牌"], correct: 3 },
            { category: "外設", question: "遊戲耳機的7.1環繞聲是什麼?", options: ["7個揚聲器", "虛擬環繞聲", "1個揚聲器", "多聲道技術"], correct: 1 },

            // 機箱相關
            { category: "機箱", question: "   箱風道的   要性在於?", options: ["美觀", "散熱效率", "防塵", "減震"], correct: 1 },
            { category: "機箱", question: "ITX機箱的特點是?", options: ["體積小", "擴展性強", "散熱好", "價格便宜"], correct: 0 },
            { category: "機箱", question: "前進風後出風是什麼風道?", options: ["負壓風道", "正壓風道", "平衡風道", "亂流風   "], correct: 1 },
            { category: "機箱", question: "鋼化玻璃側板的優點是?", options: ["散熱好", "可以展示內部", "更輕", "更便宜"], correct: 1 },
            { category: "機箱", question: "風扇應該安裝在機箱的什麼位置以獲得最佳   熱?", options: ["只裝前面", "只裝後面", "前後都裝", "只裝頂部"], correct: 2 },

            // 接口相關
            { category: "接口", question: "USB-C 接口的優點是?", options: ["正反可插", "速度快", "支持供電", "以上皆是"], correct: 3 },
            { category: "接口", question: "Thunderbolt 4 的最大傳輸速度是?", options: ["10Gbps", "20Gbps", "40Gbps", "80Gbps"], correct: 2 },
            { category: "接口", question: "HDMI 2.1 支持的最高解析度是?", options: ["4K 60Hz", "4K 120Hz", "8K 60Hz", "8K 120Hz"], correct: 2 },
            { category: "接口", question: "DisplayPort 和 HDMI 哪個更適合遊戲?", options: ["HDMI", "DisplayPort", "相同", "VGA"], correct: 1 },
            { category: "接口", question: "USB 3.2 Gen 2 的速度是?", options: ["5Gbps", "10Gbps", "20Gbps", "40Gbps"], correct: 1 },

            // 進階知識
            { category: "進階", question: "超頻的主要風險是?", options: ["增加功耗", "縮短壽命", "不穩定", "以上皆是"], correct: 3 },
            { category: "進階", question: "XMP是什麼?", options: ["顯卡技術", "記憶體超頻配置", "處理器技術", "硬碟技術"], correct: 1 },
            { category: "進階", question: "雙顯卡SLI/CrossFire技術現在還常用嗎?", options: ["非常常用", "偶爾使用", "幾乎淘汰", "沒聽過"], correct: 2 },
            { category: "進階", question: "TPM 2.0    安裝 Windows 11 的必要條件嗎?", options: ["是", "否", "視情況", "僅限新電腦"], correct: 0 },
            { category: "進階", question: "什麼是瓶頸效應(Bottleneck)?", options: ["硬碟滿了", "某硬件限制整體性能", "電源不夠", "散熱不良"], correct: 1 },

            // 品牌相關
            { category: "品牌", question: "華碩(ASUS)的ROG系列主要針對什麼市場?", options: ["辦公", "遊戲", "伺服器", "工業"], correct: 1 },
            { category: "品牌", question: "技嘉(GIGABYTE)的AORUS是什麼產品線?", options: ["辦公", "遊戲", "創作者", "伺服器"], correct: 1 },
            { category: "品牌", question: "海盜船(Corsair)最著名的產品是?", options: ["顯卡", "記憶體與電源", "處理器", "主機板"], correct: 1 },
            { category: "品牌", question: "Noctua 以什麼顏色的散熱器聞名?", options: ["黑色", "紅色", "棕色", "藍色"], correct: 2 },
            { category: "品牌", question: "羅技(Logitech)的G系列產品主要面向?", options: ["辦公用戶", "遊戲玩家", "設計師", "程序員"], correct: 1 },

            // 性   測試
            { category: "性能測試", question: "3DMark 主要用來測試什麼?", options: ["處理器", "顯示卡", "記憶體", "硬碟"], correct: 1 },
            { category: "性能測試", question: "Cinebench 主要測試什麼性能?", options: ["GPU渲染", "CPU渲染", "記憶體", "硬碟"], correct: 1 },
            { category: "性能測試", question: "CrystalDiskMark 用來測試什麼?", options: ["CPU", "GPU", "記憶體", "硬碟速度"], correct: 3 },
            { category: "性能測試", question: "FPS 是什麼的縮寫?", options: ["Frames Per Second", "Files Per Second", "Fast Processing Speed", "Full Power Supply"], correct: 0 },
            { category: "性能測試", question: "CPU-Z 可以查看什麼信息?", options: ["只有CPU", "CPU和記憶體", "所有硬件", "只有溫度"], correct: 1 },

            // 維護保養
            { category: "維護", question: "多久清理一次電腦灰塵比較合適?", options: ["每天", "每週", "每月", "每季度"], correct: 3 },
            { category: "維護", question: "SSD 需要定期碎片整理嗎?", options: ["需要", "不需要", "視情況", "每天一次"], correct: 1 },
            { category: "維護", question: "散熱膏多久需要更換一次?", options: ["1個月", "6個月", "1-2年", "不需要"], correct: 2 },
            { category: "維護", question: "電腦突然關機最可能的原因是?", options: ["過熱", "中毒", "軟件問題", "網絡問題"], correct: 0 },
            { category: "維護", question: "藍屏死機(BSOD)通常   什麼問題?", options: ["硬件或驅動問題", "網絡問題", "軟件更新", "正常現象"], correct: 0 },

            // BIOS 相關
            { category: "BIOS", question: "BIOS的全稱是什麼?", options: ["Basic Input Output System", "Binary Input Output System", "Basic Internet Operating System", "Binary Internet Operating System"], correct: 0 },
            { category: "BIOS", question: "UEFI相比傳統BIOS的優勢是?", options: ["支持更大硬碟", "啟動更快", "圖形界面", "以上皆是"], correct: 3 },
            { category: "BIOS", question: "進入BIOS設置常用的按鍵是?", options: ["F2或Del", "F8", "F10", "Esc"], correct: 0 },
            { category: "BIOS", question: "Secure Boot的作用是?", options: ["加快啟動", "防止未授權系統啟動", "超頻", "省電"], correct: 1 },
            { category: "BIOS", question: "CSM模式是什麼?", options: ["超頻模式", "兼容模式", "省電模式", "性能模式"], correct: 1 },
            { category: "BIOS", question: "CMOS電池的作用是?", options: ["供電給CPU", "保存BIOS設置", "供電給記憶體", "散熱"], correct: 1 },
            { category: "BIOS", question: "清除CMOS的方法不包括?", options: ["移除CMOS電池", "使用主機板跳線", "重裝系統", "BIOS選項"], correct: 2 },
            { category: "BIOS", question: "Fast Boot的作用是?", options: ["超頻", "快速啟動", "降低溫度", "省電"], correct: 1 },
            { category: "BIOS", question: "POST是什麼?", options: ["開機自檢", "性能測試", "溫度檢測", "網絡測試"], correct: 0 },
            { category: "BIOS", question: "啟動順序(Boot Order)設置的目的是?", options: ["提升性能", "選擇啟動設備", "超頻", "降溫"], correct: 1 },

            // Cisco Packet Tracer 相關
            { category: "Cisco", question: "Cisco Packet Tracer主要用於?", options: ["編程開發", "網絡模擬", "圖像處理", "視頻編輯"], correct: 1 },
            { category: "Cisco", question: "在Packet Tracer中,直通線(Straight-Through)用於連接?", options: ["電腦到路由器", "電腦到交換器", "交換器到交換器", "路由器到路由器"], correct: 1 },
            { category: "Cisco", question: "交叉線(Crossover)用於連接?", options: ["電腦到交換器", "同類設備", "電腦到路由器", "路由器到數據機"], correct: 1 },
            { category: "Cisco", question: "Router的主要功能是?", options: ["放大信號", "連接不同網絡", "提供Wi-Fi", "儲存數據"], correct: 1 },
            { category: "Cisco", question: "Switch   主要功能是?", options: ["路由選擇", "連接局域網設備", "提供互聯網", "防火牆"], correct: 1 },
            { category: "Cisco", question: "Hub 和 Switch 的主要區別是?", options: ["價格", "Switch有智能轉發", "外觀", "速度"], correct: 1 },
            { category: "Cisco", question: "在Packet Tracer中配置Router需要使用什麼模式?", options: ["用戶模式", "特權模式", "全局配置   式", "以上皆需要"], correct: 3 },
            { category: "Cisco", question: "VLAN的作用是?", options: ["提升速度", "劃分虛擬局域網", "加密", "備份"], correct: 1 },
            { category: "Cisco", question: "默認網關(Default Gateway)的作用是?", options: ["DNS解析", "訪問外部網絡", "分配IP", "防火牆"], correct: 1 },
            { category: "Cisco", question: "靜態IP和動態IP的主要區別是?", options: ["速度", "靜態IP不會改變", "安全性", "價格"], correct: 1 },

            // 網絡設備相關
            { category: "網絡設備", question: "數據機(Modem)的作用是?", options: ["放大信號", "信號調制解調", "路由選擇", "交換數據"], correct: 1 },
            { category: "網絡設備", question: "路由器(Router)的LAN口用於?", options: ["連接外網", "連接內網設備", "連接電視", "連接電話"], correct: 1 },
            { category: "網絡設備", question: "交換器(Switch)工作在OSI模型的哪一層?", options: ["物理層", "數據鏈路層", "網絡層", "傳輸層"], correct: 1 },
            { category: "網絡設備", question: "無線路由器的2.4GHz和5GHz頻段,哪個穿透力更強?", options: ["2.4GHz", "5GHz", "相同", "視品牌而定"], correct: 0 },
            { category: "網絡設備", question: "PoE交換器的特點是?", options: ["速度更快", "可通過網線供電", "無線傳輸", "防水"], correct: 1 },
            { category: "網絡設備", question: "中繼器(Repeater)的作用是?", options: ["加密數據", "放大信號", "路由選擇", "儲存數據"], correct: 1 },
            { category: "網絡設備", question: "網絡橋接器(Bridge)的主   功能是?", options: ["連接不同網絡", "   接相同類型網絡", "提供Wi-Fi", "防火牆"], correct: 1 },
            { category: "   絡設備", question: "防   牆(Firewall)主要作用是?", options: ["提升速度", "過濾網絡流量", "分配IP", "加密數據"], correct: 1 },
            { category: "網絡設備", question: "NAS設備的主要用途是?", options: ["路由選擇", "網絡儲存", "防火牆", "信號放大"], correct: 1 },
            { category: "網絡設備", question: "AP(Access Point)的作用是?", options: ["路由選擇", "提供無線接入", "數據儲存", "防火牆"], correct: 1 },

            // 網線及線頭相關
            { category: "網線", question: "RJ45水晶頭用於連接什麼?", options: ["電話線", "網絡線", "USB線", "電源線"], correct: 1 },
            { category: "網線", question: "Cat 5e網線最高支持多少速度?", options: ["100Mbps", "1Gbps", "10Gbps", "100Gbps"], correct: 1 },
            { category: "網線", question: "Cat 6網線相比Cat 5e的主要優勢是?", options: ["更便宜", "支持更高頻率", "更軟", "更短"], correct: 1 },
            { category: "網線", question: "Cat 7網   的屏蔽類型是?", options: ["無屏蔽", "單層屏蔽", "雙層屏蔽", "三層屏蔽"], correct: 2 },
            { category: "網線", question: "T568A和T568B是什麼標準?", options: ["網線速度", "網線排線順序", "網線長度", "網線材質"], correct: 1 },
            { category: "網線", question: "直通線的兩端排線標準應該是?", options: ["兩端都568A或都568B", "一端568A一端568B", "隨意排列", "不需要標準"], correct: 0 },
            { category: "網線", question: "交叉線的兩端排線標準應該是?", options: ["兩端都568A", "兩端都568B", "一端568A一端568B", "隨意排列"], correct: 2 },
            { category: "網線", question: "網線的最大有效傳輸距離通常是?", options: ["50米", "100米", "150米", "200米"], correct: 1 },
            { category: "網線", question: "STP和UTP網線的區別是?", options: ["速度", "STP有屏蔽層", "長度", "顏色"], correct: 1 },
            { category: "網線", question: "光纖線相比銅線的優勢是?", options: ["更便宜", "傳輸距離更遠", "更容易安裝", "更耐用"], correct: 1 },
            { category: "網線", question: "RJ11接頭通常用於?", options: ["網絡線", "電話線", "電源線", "音頻線"], correct: 1 },
            { category: "網線", question: "Cat 8網線主要應用場景是?", options: ["家庭網絡", "辦公室", "數據中心", "戶外"], correct: 2 },
            { category: "網線", question: "PoE供電網線需要幾條線芯?", options: ["2條", "4條", "8   ", "視情況而定"], correct: 3 },
            { category: "網線", question: "光纖的LC和SC接頭主要區別是?", options: ["速度", "大小和形狀", "顏色", "材質"], correct: 1 },
            { category: "網線", question: "單模光纖和多模光纖的主要區別是?", options: ["顏色", "傳輸距離", "價格", "粗細"], correct: 1 },

            // 網絡保安相關
            { category: "網絡保安", question: "網絡安全(Cybersecurity)是指什麼?", options: ["只保護硬件", "保護電腦、網路、程式、系統和資料免受數位威脅", "只保護軟件", "只保護網絡"], correct: 1 },
            { category: "網絡保安", question: "安全漏洞可以分為哪三類?", options: ["硬體、軟體和人為", "內部、外部和混合", "高、中、低危險", "已知、未知和零日"], correct: 0 },
            { category: "網絡保安", question: "防火牆(Firewall)的主要作用是?", options: ["加速網絡", "監控和控制網絡流量", "儲存數據", "加密文件"], correct: 1 },
            { category: "網絡保安", question: "釣魚攻擊(Phishing)是指什麼?", options: ["網絡釣   遊戲", "通過偽裝郵件或   站騙取敏感資訊", "捕魚軟件", "網絡速度測試"], correct: 1 },
            { category: "網絡保安", question: "勒索軟體(Ransomware)的主要目的是?", options: ["刪除數據", "加密數據並勒索贖金", "監控用戶", "加速電腦"], correct: 1 },
            { category: "網絡保安", question: "惡意軟體(Malware)的全稱是?", options: ["Malicious Software", "Malfunction Software", "Malfeasance Software", "Malformed Software"], correct: 0 },
            { category: "網絡保安", question: "入侵檢測系統(IDS)的主要功能是?", options: ["阻止所有流量", "檢測可疑活動和潛在威脅", "加密數據", "備份系統"], correct: 1 },
            { category: "網絡保安", question: "後門(Backdoor)在安全漏洞中是指什麼?", options: ["建築物的後門", "繞過正常認證的秘密訪問方式", "防火牆的出口", "數據備份通道"], correct: 1 },
            { category: "網絡保安", question: "威脅情報(Threat Intelligence)的作用是?", options: ["收集和分析   在威脅信息", "監控員工活動", "加密通訊", "備份數據"], correct: 0 },
            { category: "網絡保安", question: "數據遺失防護(DLP)主要用於?", options: ["恢復丟失數據", "防止敏感數據外洩", "加速數據傳輸", "壓縮數據"], correct: 1 },
            { category: "網絡保安", question: "SIEM的全稱是?", options: ["Security Information and Event Management", "System Information and Error Management", "Security Internet and Email Management", "System Integration and Event Monitoring"], correct: 0 },
            { category: "網絡保安", question: "加密技術在網絡保安中的主要作用是?", options: ["加速傳輸", "保護數據機密性", "壓縮文件", "刪除病毒"], correct: 1 },
            { category: "網絡保安", question: "雙因素認證(2FA)的優勢是?", options: ["登入更快", "   供額外安全層", "不需要密碼", "自動登入"], correct: 1 },
            { category: "網絡保安", question: "零日漏洞(Zero-day)是指?", options: ["已修復的漏洞", "尚未被發現或修補的安全漏洞", "發布零天的軟件", "零風險的系   "], correct: 1 },
            { category: "網絡保安", question: "VPN的主要用途是?", options: ["加速網絡", "建立加密的網絡連接", "下載文件", "玩遊戲"], correct: 1 },

            // 雲端服務相關
            { category: "雲端保安", question: "IaaS的全稱是?", options: ["Internet as a Service", "Infrastructure as a Service", "Information as a Service", "Integration as a Service"], correct: 1 },
            { category: "雲端保安", question: "PaaS的全稱是?", options: ["Platform as a Service", "Programming as a Service", "Protocol as a Service", "Protection as a Service"], correct: 0 },
            { category: "雲端保安", question: "SaaS的全稱是?", options: ["Security as a Service", "System as a Service", "Software as a Service", "Server as a Service"], correct: 2 },
            { category: "雲端保安", question: "AWS是哪家公司的雲端服務?", options: ["微軟", "谷歌", "亞馬遜", "蘋果"], correct: 2 },
            { category: "雲端保安", question: "Microsoft Azure是什麼?", options: ["操作系統", "雲端運算平台", "瀏覽器", "辦公軟件"], correct: 1 },
            { category: "雲端保安", question: "Google Cloud Platform(GCP)提供什麼服務?", options: ["只提供郵箱", "只提供搜索", "雲端運算和存儲服務", "只提供地圖"], correct: 2 },
            { category: "雲端保安", question: "雲端儲存的主要優勢是?", options: ["完全免費", "可   展性和遠程訪問", "不需   網絡", "永不損壞"], correct: 1 },
            { category: "雲端保安", question: "混合雲(Hybrid Cloud)是指?", options: ["只使用公有雲", "結合公有雲和私有雲", "只使用私有雲", "不使用雲服務"], correct: 1 },
            { category: "雲端保安", question: "雲端安全的主要挑戰是?", options: ["成本太低", "數據隱私和訪問控制", "速度太快", "容量太大"], correct: 1 },
            { category: "雲端保安", question: "以下哪個不是雲端服務模式?", options: ["IaaS", "PaaS", "SaaS", "DaaS(Desktop as a Service)"], correct: 3 },
            { category: "雲端保安", question: "雲端服務中的多租戶(Multi-tenancy)是指?", options: ["一個用戶使用多個服務", "多個用戶共享同一基礎設施", "一個伺服器", "多個數據中心"], correct: 1 },
            { category: "雲端保安", question: "CDN(Content Delivery Network)的主要作用是?", options: ["儲存數據", "加速內容分發", "加密文件", "備份系統"], correct: 1 },
            { category: "雲端保安", question: "雲端災難恢復(Disaster Recovery)的目的是?", options: ["預防所有災難", "快速恢復業務運作", "刪除舊數據", "升級系統"], correct: 1 },
            { category: "雲端保安", question: "無服務器運算(Serverless)的特點是?", options: ["真的沒有服務器", "開發者不需管理服務器", "永遠免費", "速度最慢"], correct: 1 },
            { category: "雲端保安", question: "雲端中的   器化(Containerization)主要使用什麼技術?", options: ["虛擬機", "Docker", "防火牆", "路由器"], correct: 1 }
        ];

        // AI人工智能題庫
        const aiDatabase = [
            // AI基礎概念
            { category: "AI基礎", question: "人工智能(AI)的英文全稱是?", options: ["Artificial Intelligence", "Advanced Intelligence", "Automated Intelligence", "Applied Intelligence"], correct: 0 },
            { category: "AI基   ", question: "機器學習是AI的一個?", options: ["替代品", "子集", "競爭對手", "無關概念"], correct: 1 },
            { category: "AI基礎", question: "深度學習基於什麼結構?", options: ["決策樹", "神經網絡", "線性回歸", "隨機森林"], correct: 1 },
            { category: "AI基礎", question: "圖靈測試主要測試AI的什麼能力?", options: ["計算速度", "模仿人類對話", "圖像識別", "數據處理"], correct: 1 },
            { category: "AI基礎", question: "監督學習需要什麼?", options: ["標註數據", "大量硬件", "互聯網連接", "人工干預"], correct: 0 },
            { category: "AI基礎", question: "非   督學習的主要應用是?", options: ["分類", "聚類", "預測", "識別"], correct: 1 },
            { category: "AI基礎", question: "強化學習的核心概念是?", options: ["標註數據", "獎勵機制", "神經網絡", "大數據"], correct: 1 },
            { category: "AI基礎", question: "神經網絡的基本單位是?", options: ["神經元", "層", "權重", "激活函數"], correct: 0 },
            { category: "AI基礎", question: "過擬合(Overfitting)是什麼問題?", options: ["模型太簡單", "模型過度學習訓練數據", "數據太少", "計算太慢"], correct: 1 },
            { category: "AI基礎", question: "遷移學習的優勢是?", options: ["需要更多數據", "可以利用預訓練模型", "速度更慢", "準確率更低"], correct: 1 },

            // 大型語言模型
            { category: "LLM", question: "ChatGPT是由哪家公司開發?", options: ["Google", "OpenAI", "Meta", "Microsoft"], correct: 1 },
            { category: "LLM", question: "GPT的全稱是?", options: ["General Pre-trained Transformer", "Generative Pre-trained Transformer", "Global Pre-trained Transformer", "Generative Powerful Transformer"], correct: 1 },
            { category: "LLM", question: "Claude是由哪家公司開發?", options: ["OpenAI", "Google", "Anthropic", "Meta"], correct: 2 },
            { category: "LLM", question: "Google的大型語言模型叫什麼?", options: ["Bard", "Gemini", "PaLM", "LaMDA"], correct: 1 },
            { category: "LLM", question: "GPT-4相比GPT-3.5的主要提升是?", options: ["速度更快", "推理能力更強", "更便宜", "更小"], correct: 1 },
            { category: "LLM", question: "Llama是哪家公司開源的模型?", options: ["OpenAI", "Google", "Meta", "Amazon"], correct: 2 },
            { category: "LLM", question: "Token在語言模型中是什麼?", options: ["密碼", "文本的基本單位", "用戶賬號", "API密鑰"], correct: 1 },
            { category: "LLM", question: "提示詞工程(Prompt Engineering)的目的是?", options: ["訓練模型", "優化AI回答質量", "減少成本", "加快速度"], correct: 1 },
            { category: "LLM", question: "RAG技術的全稱是?", options: ["Rapid AI Generation", "Retrieval-Augmented Generation", "Real-time AI Generator", "Random Access Generation"], correct: 1 },
            { category: "LLM", question: "Mistral AI的總部在哪個國家?", options: ["美國", "英國", "法國", "德國"], correct: 2 },

            // AI圖像生成
            { category: "AI圖像", question: "Midjourney主要用於?", options: ["文   生成", "圖像生成", "音樂生成", "視頻生成"], correct: 1 },
            { category: "AI圖像", question: "Stable Diffusion是什麼類型的模型?", options: ["語言模型", "圖像生成模型", "音頻模型", "視頻模型"], correct: 1 },
            { category: "AI圖像", question: "DALL-E是由哪家公司開發?", options: ["Google", "OpenAI", "Stability AI", "Midjourney"], correct: 1 },
            { category: "AI圖像", question: "ControlNet的   要作用是?", options: ["生成圖像", "控制圖像生成過程", "編輯文本", "生成視頻"], correct: 1 },
            { category: "AI圖像", question: "圖像生成中的負面提示詞(Negative Prompt)作用是?", options: ["加速生成", "避免不必要的元素", "提高質量", "降低成本"], correct: 1 },
            { category: "AI圖像", question: "Stable Diffusion的常用圖像尺寸是?", options: ["256×256", "512×512", "1024×1024", "2048×2048"], correct: 1 },
            { category: "AI圖像", question: "LoRA在圖像生成中的作用是?", options: ["加快速度", "微調   型風格", "提高解析度", "壓縮文件"], correct: 1 },
            { category: "AI圖像", question: "圖像修復(Inpainting)是指?", options: ["生成新圖像", "修改圖像局部", "提高解析度", "改變風格"], correct: 1 },
            { category: "AI圖像", question: "CFG Scale參數控制什麼?", options: ["圖像大小", "提示詞的影響程度", "生成速度", "圖像質量"], correct: 1 },
            { category: "AI圖像", question: "Firefly是哪家公司的AI圖像工具?", options: ["Google", "Adobe", "Microsoft", "Apple"], correct: 1 },

            // AI視頻生成
            { category: "AI視頻", question: "Runway Gen-2主要用於?", options: ["圖像生成", "文本生成", "視頻生成", "視頻生成"], correct: 2 },
            { category: "AI視頻", question: "Sora是哪家公司的AI視頻生成工具?", options: ["Google", "OpenAI", "Meta", "Adobe"], correct: 1 },
            { category: "AI視頻", question: "Pika Labs主要功能是?", options: ["文本轉視頻", "圖像編輯", "音頻處理", "3D建模"], correct: 0 },
            { category: "AI視頻", question: "AI視頻生成的主要挑   是?", options: ["速度", "保持   間連貫性", "成   ", "存   "], correct: 1 },
            { category: "AI視頻", question: "Google的AI視頻生成模型叫什麼?", options: ["Imagen Video", "Gemini Video", "Bard Video", "YouTube AI"], correct: 0 },

            // AI對話助手
            { category: "AI助手", question: "Siri是哪家公司的語音助手?", options: ["Google", "Amazon", "Apple", "Microsoft"], correct: 2 },
            { category: "AI助手", question: "Alexa是哪家公司的產品?", options: ["Google", "Amazon", "Apple", "Microsoft"], correct: 1 },
            { category: "AI助手", question: "Google Assistant最初發布於哪一年?", options: ["2014", "2016", "2018", "2020"], correct: 1 },
            { category: "AI助手", question: "Cortana是哪家公司的助手?", options: ["Google", "Amazon", "Apple", "Microsoft"], correct: 3 },
            { category: "AI助手", question: "小愛同學是哪家公司的產品?", options: ["華為", "小米", "OPPO", "vivo"], correct: 1 },
            { category: "AI助手", question: "Copilot最初整合在哪個產品中?", options: ["Windows", "GitHub", "Office", "Edge"], correct: 1 },
            { category: "AI助手", question: "GitHub Copilot主要幫助什麼?", options: ["寫郵件", "編程", "設計", "翻譯"], correct: 1 },
            { category: "AI助手", question: "Perplexity AI的特點是?", options: ["圖像生成", "帶引用的搜索", "視頻編輯", "音樂創作"], correct: 1 },

            // AI道德倫理
            { category: "AI倫理", question: "AI偏見(Bias)主要來源於?", options: ["硬件", "訓練數據", "算法速度", "網絡連接"], correct: 1 },
            { category: "AI倫理", question: "AI生成內容應該?", options: ["保密", "標註為AI生成", "隨意使用", "不需要說明"], correct: 1 },
            { category: "AI倫理", question: "深度偽造(Deepfake)主要引發什麼擔憂?", options: ["性能問題", "虛   信息傳播", "成本高", "速度慢"], correct: 1 },
            { category: "AI倫理", question: "AI模型訓練中的版權問題主要涉及?", options: ["代碼", "訓練數據", "硬件", "電力"], correct: 1 },
            { category: "AI倫理", question: "AI決策的可解釋性為何重要?", options: ["提高速度", "建立信任和問責", "降低成本", "減少錯誤"], correct: 1 },
            { category: "AI倫理", question: "自動化決策系統應該優先考慮?", options: ["速度", "公平性", "成本", "美觀"], correct: 1 },
            { category: "AI倫理", question: "AI安   對齊(AI Alignment)是指?", options: ["提高速度", "使AI目標與人類價值觀一致", "降低成本", "提高準確率"], correct: 1 },
            { category: "AI倫理", question: "AI訓練的環境影響主要是?", options: ["噪音", "能源消耗", "空間佔用", "水資源"], correct: 1 },

            // AI應用場景
            { category: "AI應用", question: "Grammarly主要使用AI做什麼?", options: ["翻譯", "語法檢查", "圖像處理", "音樂創作"], correct: 1 },
            { category: "AI應用", question: "Notion AI可以幫助?", options: ["編輯圖片", "生成和整理文本", "剪輯視頻", "製作音樂"], correct: 1 },
            { category: "AI應用", question: "Jasper AI主要用於?", options: ["圖像生成", "營銷文案創作", "視頻編輯", "音樂創作"], correct: 1 },
            { category: "AI應用", question: "Copy.ai的主要功能是?", options: ["複製文件", "AI文案生成", "備份數據", "翻譯"], correct: 1 },
            { category: "AI應用", question: "Character.AI的特點是?", options: ["角色扮演對話", "圖像生成", "視頻編輯", "音樂創作"], correct: 0 },
            { category: "AI應用", question: "Speechify使用AI做什麼?", options: ["語音   別", "文本轉語音", "翻譯", "配音"], correct: 1 },
            { category: "AI應用", question: "ElevenLabs專注於?", options: ["圖像生成", "AI語音合成", "視頻編輯", "文本生成"], correct: 1 },
            { category: "AI應用", question: "Otter.ai主要用於?", options: ["圖像識別", "會議轉錄", "視頻剪輯", "音樂製作"], correct: 1 },
            { category: "AI應用", question: "Krisp.ai的主要功能是?", options: ["降噪", "翻譯", "轉錄", "配音"], correct: 0 },
            { category: "AI應用", question: "Tome.app使用AI來?", options: ["寫代碼", "創建演示文稿", "編輯視頻", "處理圖像"], correct: 1 },

            // AI編程工具
            { category: "AI編程", question: "GitHub Copilot基於什麼模型?", options: ["GPT", "Codex", "BERT", "T5"], correct: 1 },
            { category: "AI編程", question: "Tabnine的主要功能是?", options: ["代碼審查", "代碼自動補全", "測試生成", "文檔生成"], correct: 1 },
            { category: "AI編程", question: "Amazon CodeWhisperer支持哪些IDE?", options: ["只有VS Code", "多種IDE", "只有IntelliJ", "不支持IDE"], correct: 1 },
            { category: "AI編程", question: "Cursor編輯器的特點是?", options: ["只能寫Python", "集成AI輔助編程", "只用於前端", "免費開源"], correct: 1 },
            { category: "AI編程", question: "Replit Ghostwriter可以?", options: ["只能補全代碼", "補全和生成代碼", "只能運行代碼", "只能調試"], correct: 1 },

            // AI搜索引擎
            { category: "AI搜索", question: "Perplexity AI與傳統搜索引擎的主要區別是?", options: ["更快", "提供對話式答案", "更便宜", "更多廣告"], correct: 1 },
            { category: "AI搜索", question: "New Bing集成了什麼AI技術?", options: ["Bard", "ChatGPT", "Claude", "Llama"], correct: 1 },
            { category: "AI搜索", question: "You.com的特點是?", options: ["只有文本搜索", "AI搜索和創作", "只有圖片搜索", "只有視頻搜索"], correct: 1 },
            { category: "AI搜索", question: "Phind主要服務於哪類用戶?", options: ["普通用戶", "開發者", "設計師", "音樂人"], correct: 1 }
        ];

        // 額外 AI 題庫擴展（避免直接改動原陣列，合併時會去重）
        const aiQuestionsExtraLocal2 = [
            { question: "什麼是自監督學習(self-supervised learning)?", options: ["需要人工標註", "利用   料內在結構自動生成訓練信號", "只能處理圖像", "只用於推薦系統"], correct: 1 },
            { question: "在 NLP 中，BERT 的預訓練任務通常包含哪些？", options: ["遮蔽語詞 (Masked LM)", "生成圖片", "音訊增強", "超參數搜尋"], correct: 0 },
            { question: "什麼是注意力機制(attention)的主要作用？", options: ["記錄日誌", "對序列元素加權以捕捉關聯", "加快網路速度", "壓縮模型"], correct: 1 },
            { question: "在訓練大型模型時常用的混合精度訓練(Mixed Precision)主要目的是？", options: ["提高記憶體使用、降低速度", "在精度可接受範圍內減少記憶體與加速訓練", "只增加模型大小", "用於推論加速無用"], correct: 1 },
            { question: "何謂梯度裁剪(Gradient Clipping)?", options: ["隨機刪除梯度", "限制梯度大小以避免爆炸", "增加學習率", "更換優化器"], correct: 1 },
            { question: "什麼是詞嵌入(Word Embedding)?", options: ["一種資料庫", "用向量表示詞語的語意關係", "影像壓縮方法", "網路協定"], correct: 1 },
            { question: "RAG (Retrieval-Augmented Generation) 的核心是？", options: ["只靠   成模型", "結合檢索模組   供外部知識以改善生成品質", "消除檢索步驟", "只用於圖像生成"], correct: 1 },
            { question: "何者屬於對抗性攻擊(Adversarial Attack)的特徵？", options: ["改變訓練資料大小", "對輸入做細微擾動導致模型錯誤", "更換標籤格式", "提升訓練精度"], correct: 1 },
            { question: "LLM 中常談的 'few-shot' 與 'zero-shot' 差別在於？", options: ["few-shot 有少量例子作為提示, zero-shot 無示例直接輸入任務描述", "few-shot 無示例, zero-shot 有少量例子", "二者無差別", "只用於訓練階段"], correct: 0 },
            { question: "什麼是模型蒸餾(Model Distillation)?", options: ["模型合併", "用大模型的知識訓練小模型以提升其效能", "資料清洗方法", "優化器類型"], correct: 1 },
            { question: "何為 'prompt engineering' 的主要任務？", options: ["設計提示詞以獲得更好或更精確的模型輸出", "訓練模型的算法", "壓縮模型大小", "調整硬體設定"], correct: 0 },
            { question: "在語音辨識中，CTC (Connectionist Temporal Classification) 常用於？", options: ["圖像分類", "可對齊輸入與輸出序列而不需精確時間標註", "數據庫查詢", "網路安全"], correct: 1 },
            { question: "何謂 'tokenization' 在 NLP 中的作用？", options: ["增加模型大小", "把文本分割成可輸入模型的基本單位", "壓縮圖片", "編碼視頻"], correct: 1 },
            { question: "Transformer 架構的主要組件不包括？", options: ["自注意力(Self-Attention)", "前饋網路(Feed-forward)", "卷積層(Convolutional Layer)", "位置編碼(Positional Encoding)"], correct: 2 },
            { question: "何者有助於解決偏差(Bias)與公平性(Fairness)問題？", options: ["只增加模型容量", "多樣化訓練資料與審查資料集偏差", "刪除驗證集", "降低模型精度"], correct: 1 },
            { question: "何為 'attention head' 在多頭注意力中的角色？", options: ["單一注意力機制的子單位, 負責不同子空間的信息抽取", "用於加速GPU", "模型輸出的格式", "數據預處理步驟"], correct: 0 },
            { question: "在生成式模型中使用 'temperature' 參數會影響什麼？", options: ["學習速率", "生成文本的隨機性(越高越隨機)", "模型大小", "訓練輪次"], correct: 1 },
            { question: "何謂 'beam search' 在生成任務中？", options: ["隨機抽樣方法", "保留多條候選路徑以尋找高機率序列", "加速訓練方法", "資料增強技術"], correct: 1 },
            { question: "何種技術常用於提升視覺模型對小樣本的泛化能力？", options: ["數據增強(Data Augmentation)", "刪除資料", "只使用預訓練向量", "改變損失函數到MSE"], correct: 0 },
            { question: "在AI倫理與治理中, 透明性(Transparency) 為何重要？", options: ["節省成本", "使用者能理解和信任系統, 便於問責", "降低模型大小", "提升速度"], correct: 1 }
        ];

        // 網頁開發題庫
        const webDevDatabase = [
            // HTML基礎
            { category: "HTML", question: "HTML的全稱是?", options: ["Hyper Text Markup Language", "High Text Markup Language", "Hyper Tech Markup Language", "Home Tool Markup Language"], correct: 0 },
            { category: "HTML", question: "HTML5在哪一年正式發布?", options: ["2012", "2014", "2016", "2018"], correct: 1 },
            { category: "HTML", question: "<header>標籤是HTML幾引入的?", options: ["HTML4", "HTML5", "HTML6", "XHTML"], correct: 1 },
            { category: "HTML", question: "語義化標籤<article>的作用是?", options: ["顯示圖片", "表示獨立內容", "創建表格", "插入視頻"], correct: 1 },
            { category: "HTML", question: "<canvas>標籤用於?", options: ["繪製圖形", "播放音頻", "嵌入視頻", "創建表單"], correct: 0 },
            { category: "HTML", question: "HTML表單中type='email'的作用是?", options: ["樣式美化", "自動驗證郵箱格式", "發送郵件", "加密數據"], correct: 1 },
            { category: "HTML", question: "data-*屬性用於?", options: ["樣式定義", "存儲自定義數據", "事件綁定", "驗證表單"], correct: 1 },
            { category: "HTML", question: "<meta charset='UTF-8'>的作用是?", options: ["設置標題", "設置字符編碼", "設置關鍵詞", "設置作者"], correct: 1 },
            { category: "HTML", question: "viewport meta標籤對響應式設計的作用是?", options: ["無作用", "控制移動端顯示", "加快載入", "提高SEO"], correct: 1 },
            { category: "HTML", question: "語義化HTML的優勢不包括?", options: ["提高可訪問性", "更好的SEO", "代碼可讀性", "運行更快"], correct: 3 },

            // CSS基礎
            { category: "CSS", question: "CSS的全稱是?", options: ["Cascading Style Sheets", "Creative Style Sheets", "Computer Style Sheets", "Colorful Style Sheets"], correct: 0 },
            { category: "CSS", question: "CSS3新增的Flexbox主要用於?", options: ["3D效果", "彈性布局", "動畫", "濾鏡"], correct: 1 },
            { category: "CSS", question: "Grid布局相比Flexbox的優勢是?", options: ["更簡單", "二維布局能力更強", "兼容性更好", "速度更快"], correct: 1 },
            { category: "CSS", question: "CSS變量(Custom Properties)的語法是?", options: ["$變量名", "@變量名", "--變量名", "#變量名"], correct: 2 },
            { category: "CSS", question: "position: sticky是什麼效果?", options: ["絕對定位", "相對定位", "粘性定位", "固定定位"], correct: 2 },
            { category: "CSS", question: "rem單位是相對於什麼的?", options: ["父元素", "根元素", "視窗", "自身"], correct: 1 },
            { category: "CSS", question: "vh和vw單位代指什麼?", options: ["像素單位", "視窗百分比", "字體大小", "邊距單位"], correct: 1 },
            { category: "CSS", question: "transition和animation的主要區別是?", options: ["沒區別", "transition需要觸發", "animation更慢", "transition更複雜"], correct: 1 },
            { category: "CSS", question: "@media查詢用於?", options: ["動畫", "響應式設計", "字體導入", "變量定義"], correct: 1 },
            { category: "CSS", question: "box-sizing: border-box的作用是?", options: ["添加邊框", "改變盒模型計算方式", "設置圓角", "添加陰影"], correct: 1 },
            { category: "CSS", question: "CSS優先級最高的是?", options: ["行內樣式", "ID選擇器", "class選擇器", "標籤選擇器"], correct: 0 },
            { category: "CSS", question: "z-index屬性對什麼定位無效?", options: ["absolute", "relative", "static", "fixed"], correct: 2 },
            { category: "CSS", question: "calc()函數的作用是?", options: ["計算動畫時間", "計算數學表達式", "計算優先級", "計算層疊順序"], correct: 1 },
            { category: "CSS", question: "object-fit屬性用於?", options: ["文本對齊", "圖片適應容器", "盒子對齊", "網格對齊"], correct: 1 },
            { category: "CSS", question: "backdrop-filter可以實現什麼效果?", options: ["邊框效果", "背景模糊", "文字陰影", "漸變色"], correct: 1 },

            // JavaScript基礎
            { category: "JavaScript", question: "JavaScript是哪一年創建的?", options: ["1993", "1995", "1997", "1999"], correct: 1 },
            { category: "JavaScript", question: "let和var的主要   別是?", options: ["沒區別", "let有塊級作用域", "var更快", "let更舊"], correct: 1 },
            { category: "JavaScript", question: "箭頭函數不能做什麼?", options: ["return值", "作為構造函數", "使用參數", "調用其他函數"], correct: 1 },
            { category: "JavaScript", question: "Promise的三種狀態不包括?", options: ["pending", "fulfilled", "rejected", "running"], correct: 3 },
            { category: "JavaScript", question: "async/await是基於什麼的語法糖?", options: ["回調函數", "Promise", "Generator", "事件循環"], correct: 1 },
            { category: "JavaScript", question: "==和===的區別是?", options: ["沒區別", "===不進行類型轉換", "==更嚴格", "===更快"], correct: 1 },
            { category: "JavaScript", question: "閉包的主要作用是?", options: ["提高性能", "保存私有變量", "減少代碼", "加快執行"], correct: 1 },
            { category: "JavaScript", question: "事件冒泡是什麼?", options: ["事件向下傳播", "事件向上傳播", "事件消失", "事件複製"], correct: 1 },
            { category: "JavaScript", question: "preventDefault()方法的作用是?", options: ["刪除元素", "阻止默認行為", "停止冒泡", "觸發事件"], correct: 1 },
            { category: "JavaScript", question: "localStorage和sessionStorage的區別是?", options: ["大小不同", "生命週期不同", "速度不同", "安全性不同"], correct: 1 },
            { category: "JavaScript", question: "ES6新增的解構賦值語法是?", options: ["{a, b}", "[a, b]", "(a, b)", "以上皆是"], correct: 3 },
            { category: "JavaScript", question: "展開運算符...的作用不包括?", options: ["複製數組", "合併對象", "函數參數", "刪除元素"], correct: 3 },
            { category: "JavaScript", question: "Map和Object的主要區別是?", options: ["沒區別", "Map的鍵可以是任意類型", "Object更快", "Map更舊"], correct: 1 },
            { category: "JavaScript", question: "Set數據結構的特點是?", options: ["有序", "值唯一", "可以重複", "速度慢"], correct: 1 },
            { category: "JavaScript", question: "typeof null返回什麼?", options: ["null", "object", "undefined", "error"], correct: 1 },

            // 前端框架
            { category: "前端框架", question: "React是由哪家公司開發?", options: ["Google", "Facebook", "Microsoft", "Apple"], correct: 1 },
            { category: "前端框架", question: "Vue.js的創建者是?", options: ["Jordan Walke", "Evan You", "Ryan Dahl", "Brendan Eich"], correct: 1 },
            { category: "前端框架", question: "Angular是由哪家公司維護?", options: ["Facebook", "Google", "Microsoft", "Netflix"], correct: 1 },
            { category: "前端框架", question: "React的虛擬DOM的作用是?", options: ["美化界面", "提高性能", "減少代碼", "加密數據"], correct: 1 },
            { category: "前端框架", question: "Vue的核心特性是?", options: ["雙向數據綁定", "只有單向綁定", "沒有綁定", "三向綁定"], correct: 0 },
            { category: "前端框架", question: "React Hooks在哪個版本引入?", options: ["15.0", "16.8", "17.0", "18.0"], correct: 1 },
            { category: "前端框架", question: "Next.js是基於什麼框架?", options: ["Vue", "Angular", "React", "Svelte"], correct: 2 },
            { category: "前端框架", question: "Nuxt.js是基於什麼框架?", options: ["React", "Vue", "Angular", "Svelte"], correct: 1 },
            { category: "前端框架", question: "Svelte與其他框架的主要區別是?", options: ["更難學", "編譯時優化", "   行更慢", "體積     大"], correct: 1 },
            { category: "前端框架", question: "Redux主要用於?", options: ["路由管理", "狀態管理", "樣式處理", "數據請求"], correct: 1 },

            // CSS框架和工具
            { category: "CSS框架", question: "Bootstrap最初由哪家公司開發?", options: ["Facebook", "Twitter", "Google", "Microsoft"], correct: 1 },
            { category: "CSS框架", question: "Tailwind CSS的特點是?", options: ["組件化", "實用優先", "語義化", "模塊化"], correct: 1 },
            { category: "CSS框架", question: "Material-UI基於什麼設計語言?", options: ["Fluent Design", "Material Design", "Human Interface", "Metro"], correct: 1 },
            { category: "CSS框架", question: "Sass和CSS的主要區別是?", options: ["Sass是預處理器", "Sass更慢", "CSS更強大", "沒區別"], correct: 0 },
            { category: "CSS框架", question: "Less和Sass哪個出現更早?", options: ["Sass", "Less", "同時", "都不是"], correct: 0 },

            // 開發工具
            { category: "開   工具", question: "VS Code是由哪家公司開發?", options: ["Google", "Microsoft", "Apple", "Facebook"], correct: 1 },
            { category: "開發工具", question: "Cursor編輯器的特色功能是?", options: ["更快", "AI輔助編程", "更小", "更便宜"], correct: 1 },
            { category: "開發工   ", question: "Adobe Dreamweaver主要用於?", options: ["圖片編輯", "網頁開發", "視頻剪輯", "3D建模"], correct: 1 },
            { category: "開發工具", question: "WebStorm是什麼類型的IDE?", options: ["Python", "Java", "JavaScript", "C++"], correct: 2 },
            { category: "開發工具", question: "Sublime Text的特點是?", options: ["免費開源", "輕量快速", "功能最多", "最難用"], correct: 1 },
            { category: "開發工具", question: "Chrome DevTools可以做什麼?", options: ["編寫代碼", "調試   頁", "設計圖片", "剪輯視頻"], correct: 1 },
            { category: "開發工具", question: "Webpack主要用於?", options: ["代碼編輯", "模組打包", "版本控制", "測試"], correct: 1 },
            { category: "開發工   ", question: "Vite相比Webpack的優勢是?", options: ["更舊", "開發時啟動更快", "配置更複雜", "體積更大"], correct: 1 },
            { category: "開發工具", question: "npm是什麼?", options: ["編輯器", "包管理器", "框架", "語言"], correct: 1 },
            { category: "開發工具", question: "Yarn相比npm      要優勢曾經是?", options: ["更慢", "更快和更安全", "更難用", "更大"], correct: 1 },

            // TypeScript
            { category: "TypeScript", question: "TypeScript是JavaScript的什麼?", options: ["替代品", "超集", "子集", "競爭對手"], correct: 1 },
            { category: "TypeScript", question: "TypeScript是由哪家公司開發?", options: ["Google", "Facebook", "Microsoft", "Apple"], correct: 2 },
            { category: "TypeScript", question: "TypeScript的主要優勢是?", options: ["運行更快", "類型安全", "文件更小", "語法更簡單"], correct: 1 },
            { category: "TypeScript", question: "interface和type的主要區別是?", options: ["沒區別", "interface可以擴展", "type更強大", "interface更慢"], correct: 1 },
            { category: "TypeScript", question: "TypeScript文件的擴展名是?", options: [".js", ".ts", ".jsx", ".tsx"], correct: 1 },

            // 前端性能優化
            { category: "性能優化", question: "代碼分割(Code Splitting)的目的是?", options: ["增加文件", "減少初始加載", "美化代碼", "加密"], correct: 1 },
            { category: "性能優化", question: "懶加   (Lazy Loading)主要用於?", options: ["加快編譯", "延遲載入資源", "提前載入", "壓縮文件"], correct: 1 },
            { category: "性能優化", question: "Tree Shaking的作用是?", options: ["添加代碼", "移除未使用代碼", "格式化代碼", "加密代碼"], correct: 1 },
            { category: "性能優化", question: "CDN的主要作用是?", options: ["編譯代碼", "加速資源載入", "壓縮文件", "加密傳輸"], correct: 1 },
            { category: "性能優化", question: "防抖(Debounce)和節流(Throttle)的目的是?", options: ["加密", "限制函數執行頻率", "加速執行", "美化代碼"], correct: 1 },

            // C++基礎
            { category: "C++", question: "C++是由誰創建的?", options: ["Dennis Ritchie", "Bjarne Stroustrup", "Ken Thompson", "Linus Torvalds"], correct: 1 },
            { category: "C++", question: "C++11引入了哪個重要特性?", options: ["類", "指針", "auto關鍵字", "結構體"], correct: 2 },
            { category: "C++", question: "std::vector和數組的主要區別是?", options: ["速度", "vector可動態調整大小", "佔用內存", "語法"], correct: 1 },
            { category: "C++", question: "智能指針的主要優勢是?", options: ["運行更快", "自動內存管理", "佔用更少內存", "語法更簡單"], correct: 1 },
            { category: "C++", question: "虛函數(Virtual Function)的作用是?", options: ["提高性能", "實現多態", "節省內存", "簡化代碼"], correct: 1 },
            { category: "C++", question: "C++中的RAII是什麼?", options: ["設計模式", "資源獲取即初始化", "編譯器優化", "調試工具"], correct: 1 },
            { category: "C++", question: "const和constexpr的區別是?", options: ["沒區別", "constexpr在編譯時求值", "const更快", "constexpr更舊"], correct: 1 },
            { category: "C++", question: "C++17引入的std::optional的作用   ?", options: ["加速程序", "表示可能不存在的值", "並行計算", "內存管理"], correct: 1 },
            { category: "C++", question: "移動語義(Move Semantics)的優勢是?", options: ["語法簡單", "減少不必要的複製", "代碼更短", "更安全"], correct: 1 },
            { category: "C++", question: "模板元編程主要在什麼時候執行?", options: ["運行時", "編譯時", "鏈接時", "調試時"], correct: 1 },
            { category: "C++", question: "Lambda表達式在C++哪個版本引入?", options: ["C++98", "C++03", "C++11", "C++14"], correct: 2 },
            { category: "C++", question: "std::unique_ptr和std::shared_ptr的主要區別是?", options: ["速度", "unique_ptr不可共享所有權", "佔用內存", "語法"], correct: 1 },
            { category: "C++", question: "C++中的命名空間(namespace)的作用是?", options: ["加速程序", "避免命名衝突", "節省內存", "簡化語法"], correct: 1 },
            { category: "C++", question: "右值引用(Rvalue Reference)用什麼符號表示?", options: ["&", "&&", "*", "**"], correct: 1 },
            { category: "C++", question: "STL的全稱是?", options: ["Simple Template Library", "Standard Template Library", "System Template Library", "Structured Template Library"], correct: 1 },

            // Adobe Dreamweaver
            { category: "Dreamweaver", question: "Adobe Dreamweaver主要用於開發?", options: ["移動應用", "網頁", "桌面軟件", "遊戲"], correct: 1 },
            { category: "Dreamweaver", question: "Dreamweaver的設計視圖和代碼視圖可以?", options: ["只能單獨使用", "可以分割顯示", "不能切換", "只有設計視圖"], correct: 1 },
            { category: "Dreamweaver", question: "Dreamweaver的實   預覽功能可以?", options: ["只     預覽靜態頁面", "實時查看代碼修改效果", "只能預覽CSS", "不支持預覽"], correct: 1 },
            { category: "Dreamweaver", question: "在Dreamweaver中,站點管理的作用是?", options: ["美化界面", "管理網站文件結構", "壓縮文件", "加密代碼"], correct: 1 },
            { category: "Dreamweaver", question: "Dreamweaver支持的代碼語言不包括?", options: ["HTML", "CSS", "JavaScript", "Swift"], correct: 3 },
            { category: "Dreamweaver", question: "Dreamweaver的代碼提示功能可以?", options: ["自動完成代碼", "自動修復錯誤", "自動上傳", "自動備份"], correct: 0 },
            { category: "Dreamweaver", question: "Dreamweaver的FTP功能用於?", options: ["編輯代碼", "上傳網站文件", "調試程序", "壓縮文件"], correct: 1 },
            { category: "Dreamweaver", question: "Dreamweaver的模板(Template)功能用於?", options: ["刪除文件", "創建可重用的頁面結構", "壓縮代碼", "加密文件"], correct: 1 },
            { category: "Dreamweaver", question: "Dreamweaver的庫項目(Library Items)是什麼?", options: ["備份文件", "可重用的頁面元素", "插件", "主題"], correct: 1 },
            { category: "Dreamweaver", question: "Dreamweaver的CSS設計器面板用於?", options: ["編寫JavaScript", "視覺化編輯CSS", "上傳文件", "調試代碼"], correct: 1 },
            { category: "Dreamweaver", question: "Dreamweaver支持Bootstrap框架嗎?", options: ["不支持", "支持並內置組件", "只能手寫", "需要插件"], correct: 1 },
            { category: "Dreamweaver", question: "Dreamweaver的多屏預覽功能可以?", options: ["只預覽桌面", "同時預覽不同設備尺寸", "只預覽手機", "不支持預覽"], correct: 1 },
            { category: "Dreamweaver", question: "Dreamweaver的元素快速編輯功能是?", options: ["刪除元素", "雙擊元素快速編輯相關CSS", "複製元素", "移動元素"], correct: 1 },
            { category: "Dreamweaver", question: "Dreamweaver的代碼片段(Snippets)用於?", options: ["刪除代碼", "存儲常用代碼塊", "壓縮代碼", "加密代碼"], correct: 1 },
            { category: "Dreamweaver", question: "Dreamweaver可以編輯PHP文件嗎?", options: ["不可用", "可以", "只能查看", "需要額外插件"], correct: 1 },
            { category: "Dreamweaver", question: "Dreamweaver的W3C驗證功能用於?", options: ["加密代碼", "檢查HTML/CSS是否符合標準", "壓縮文件", "備份文件"], correct: 1 },

            // VS Code進階
            { category: "VS Code", question: "VS Code的命令面板快捷鍵是?", options: ["Ctrl+P", "Ctrl+Shift+P", "Ctrl+B", "Ctrl+K"], correct: 1 },
            { category: "VS Code", question: "VS Code的Emmet是用來做什麼的?", options: ["調試", "快速編寫HTML/CSS", "版本控制", "測試"], correct: 1 },
            { category: "VS Code", question: "VS Code的擴展市場可以安裝什麼?", options: ["只能安裝主題", "各種插件和主題", "只能安裝語言包", "不能安裝東西"], correct: 1 },
            { category: "VS Code", question: "VS Code內建的Git功能可以?", options: ["只能查看", "提交和推送代碼", "只能下載", "不支持Git"], correct: 1 },
            { category: "VS Code", question: "VS Code的多光標編輯如何觸發?", options: ["不支持", "Alt+Click", "Shift+Click", "Ctrl+Click"], correct: 1 },
            { category: "VS Code", question: "VS Code的IntelliSense功能是?", options: ["調試工具", "智能代碼補全", "性能分析", "文件管理"], correct: 1 },
            { category: "VS Code", question: "VS Code的Live Server擴展用於?", options: ["編   代   ", "實時預覽網頁", "調試後端", "數   庫   理"], correct: 1 },
            { category: "VS Code", question: "VS Code的設置同步功能可以同步?", options: ["只能同步代碼", "設置、擴展、快捷鍵等", "只能同步主題", "不支持同步"], correct: 1 },
            { category: "VS Code", question: "VS Code的Prettier擴展主要作用是?", options: ["調試", "代碼格式化", "編譯", "測試"], correct: 1 },
            { category: "VS Code", question: "VS Code的終端快捷鍵是?", options: ["Ctrl+T", "Ctrl+`", "Ctrl+Shift+T", "Alt+T"], correct: 1 },
            { category: "VS Code", question: "VS Code的Bracket Pair Colorizer作用是?", options: ["著色括號", "刪除括號", "添加括   ", "驗證括號"], correct: 0 },
            { category: "VS Code", question: "VS Code支持遠程開發嗎?", options: ["不支持", "通過Remote擴展支持", "只能本地", "需要付費"], correct: 1 },

            // Cursor編輯器
            { category: "Cursor", question: "Cursor編輯器基於什麼開發?", options: ["Sublime Text", "Atom", "VS Code", "從零開發"], correct: 2 },
            { category: "Cursor", question: "Cursor的主要特色是?", options: ["更輕量", "AI輔助編程", "更快", "更便宜"], correct: 1 },
            { category: "Cursor", question: "Cursor的AI功能可以?", options: ["只會補   代碼", "生成、解釋、重構代碼", "只能調試", "不支持AI"], correct: 1 },
            { category: "Cursor", question: "Cursor的Ctrl+K快捷鍵用於?", options: ["保存文件", "AI生成代碼", "關閉文件", "打開文件"], correct: 1 },
            { category: "Cursor", question: "Cursor可以導入VS Code的設置嗎?", options: ["不可以", "可以", "需要手動配置", "只能導入部分"], correct: 1 },
            { category: "Cursor", question: "Cursor的AI Chat功能可以?", options: ["只能聊天", "與AI對話討論代碼", "只能搜索", "不支持對話"], correct: 1 },
            { category: "Cursor", question: "Cursor支持哪些編程語言?", options: ["只支持JavaScript", "支持多種語言", "只支持Python", "只支持C++"], correct: 1 },

            // 其他IDE和編輯器
            { category: "編輯器", question: "Sublime Text的多光標編輯快捷鍵是?", options: ["Alt+Click", "Ctrl+D", "Shift+Click", "以上皆是"], correct: 3 },
            { category: "編輯器", question: "Atom編輯器是由哪家公司開發?", options: ["Microsoft", "GitHub", "Google", "Facebook"], correct: 1 },
            { category: "編輯器", question: "Vim編輯器的特點是?", options: ["圖形界面", "模式化編輯", "所見即所得", "只能查看"], correct: 1 },
            { category: "編輯器", question: "Notepad++是什麼類型的編輯器?", options: ["重量級IDE", "輕量級代碼編輯器", "圖形編輯器", "文檔編輯器"], correct: 1 },
            { category: "編輯器", question: "IntelliJ IDEA主要用於開發?", options: ["Python", "Java", "JavaScript", "C++"], correct: 1 },
            { category: "編輯器", question: "PyCharm是專門用於開發?", options: ["Java", "JavaScript", "Python", "Ruby"], correct: 2 },
            { category: "編輯器", question: "Eclipse最初主要用於開發?", options: ["C++", "Python", "Java", "JavaScript"], correct: 2 },
            { category: "編輯器", question: "Visual Studio(非Code)主要用於開發?", options: ["網頁", ".NET和C++應用", "移動應用", "只能開發C#"], correct: 1 },
            { category: "編輯器", question: "Brackets編輯器的特色功能是?", options: ["命令行界面", "實時預覽", "只支持Python", "沒有擴展"], correct: 1 },
            { category: "編輯器", question: "CodePen是什麼?", options: ["桌面編輯器", "在線前端開   環境", "後端框架", "數據庫工具"], correct: 1 },
            { category: "編輯器", question: "Replit的主要特點是?", options: ["只能離線使用", "在線協作編程環境", "只支持HTML", "不支持運行代碼"], correct: 1 },
            { category: "編輯器", question: "PhpStorm主要用於開發?", options: ["Python", "PHP", "Java", "C#"], correct: 1 },
            { category: "編輯器", question: "Android Studio基於哪個IDE?", options: ["Eclipse", "IntelliJ IDEA", "NetBeans", "Visual Studio"], correct: 1 },
            { category: "編輯器", question: "Xcode是哪個平台的開發工具?", options: ["Windows", "Linux", "macOS/iOS", "Android"], correct: 2 },
            { category: "編輯器", question: "Emacs編輯器的特點是?", options: ["功能簡單", "高度可定制", "只能編輯文本", "不支持插件"], correct: 1 },
            { category: "編輯器", question: "NetBeans IDE支持哪些語言?", options: ["只支持Java", "Java、PHP、C++等多種", "只支持C++", "只支持Python"], correct: 1 },
            { category: "編輯器", question: "CodeSandbox主要用於?", options: ["後端開發", "在線前端項目開發", "數據庫管理", "移動應用開發"], correct: 1 },
            { category: "編輯器", question: "Glitch平台的特色是?", options: ["   能本地運行", "線上協作和部署", "只支持靜態網站", "不能分享項目"], correct: 1 },

            // HTML進階
            { category: "HTML進階", question: "Web Components包括哪些技術?", options: ["只有Custom Elements", "Custom Elements、Shadow DOM、HTML Templates", "只有Shadow DOM", "只有模板"], correct: 1 },
            { category: "HTML進階", question: "Service Worker主要用於?", options: ["樣式處理", "離線緩存和推送通知", "動畫效果", "數據驗證"], correct: 1 },
            { category: "HTML進階", question: "WebSocket協議用於?", options: ["   態頁面", "雙向實時通信", "樣式處理", "圖片加載"], correct: 1 },
            { category: "HTML進階", question: "Web Workers的作用是?", options: ["美化頁面", "在後台線程運行腳本", "加快載入", "壓縮代碼"], correct: 1 },
            { category: "HTML進階", question: "IndexedDB是什麼?", options: ["CSS框架", "瀏覽器數據庫", "JavaScript庫", "HTML標籤"], correct: 1 },
            { category: "HTML進階", question: "Progressive Web App(PWA)的特點是?", options: ["只能在瀏覽器運行", "可安裝和離線運行", "只能用於桌面", "不支持移動端"], correct: 1 },
            { category: "HTML進階", question: "WebAssembly的優勢是?", options: ["語法簡單", "接近原生性能", "文件更小", "更安全"], correct: 1 },
            { category: "HTML進階", question: "Picture標籤的作用是?", options: ["繪圖", "響應式圖片", "視頻播放", "音頻播放"], correct: 1 },

            // CSS進階
            { category: "CSS進階", question: "CSS Grid的grid-template-areas用於?", options: ["設置間距", "命名網格區域", "設置顏色", "設置字體"], correct: 1 },
            { category: "CSS進階", question: "CSS Houdini的目的是?", options: ["美化界面", "擴展CSS能力", "壓縮文件", "加密樣式"], correct: 1 },
            { category: "CSS進階", question: "CSS的:has()偽類被稱為?", options: ["子選擇器", "父選擇器", "兄弟選擇器", "全局選擇器"], correct: 1 },
            { category: "CSS進階", question: "CSS的clamp()函數用於?", options: ["計算顏色", "設置響應式數值範圍", "動畫控制", "選擇器匹配"], correct: 1 },
            { category: "CSS進階", question: "CSS的contain屬性用於?", options: ["包含文本", "性能優化隔離", "容器查   ", "數據綁   "], correct: 1 },
            { category: "CSS進階", question: "CSS的@layer規則用於?", options: ["創建圖層", "管理級聯層", "3D效果", "動畫分層"], correct: 1 },
            { category: "CSS進階", question: "CSS的aspect-ratio屬性用於?", options: ["設置角度", "控制寬高比", "設置透明度", "旋轉元素"], correct: 1 },
            { category: "CSS進階", question: "CSS的@container查詢相比@media的優勢是?", options: ["更快", "基於容器而非視窗", "更簡單", "兼容性更好"], correct: 1 },

            // JavaScript進階
            { category: "JS進階", question: "JavaScript的事件循環(Event Loop)包括?", options: ["只有調用棧", "調用棧、任務隊列、微任務隊列", "只有隊列", "只有堆"], correct: 1 },
            { category: "JS進階", question: "Promise.all和Promise.race的區別是?", options: ["沒區別", "all等待全部完成,race等待最快的", "race更慢", "all更快"], correct: 1 },
            { category: "JS進階", question: "Proxy對象的作用是?", options: ["代理服務器", "攔截和自定義對象操作", "網絡請求", "數據加密"], correct: 1 },
            { category: "JS進階", question: "Reflect API的作用是?", options: ["反射光線", "提供對象操作方法", "數據綁定", "性能測試"], correct: 1 },
            { category: "JS進階", question: "WeakMap和Map的主要區別是?", options: ["速度", "WeakMap的鍵必須是對象且可被垃圾回收", "大小", "語法"], correct: 1 },
            { category: "JS進階", question: "Generator函數的特點是?", options: ["更快", "可以暫停和恢復執行", "更安全", "更簡單"], correct: 1 },
            { category: "JS進階", question: "Symbol的主要用途是?", options: ["數學運算", "創建唯一標識符", "字符串處理", "數組操作"], correct: 1 },
            { category: "JS進階", question: "BigInt數據類   用於?", options: ["浮點數", "表示任意精度整數", "布爾值", "字符串"], correct: 1 },
            { category: "JS進階", question: "Optional Chaining(?.)的作用是?", options: ["邏輯運算", "安全訪問嵌套屬性", "數學運算", "字符串連接"], correct: 1 },
            { category: "JS進階", question: "Nullish Coalescing(??)和邏輯或(||)的區別是?", options: ["沒區別", "??只對null和undefined生效", "??更慢", "??更舊"], correct: 1 },

            // 前端框架進階
            { category: "框   進階", question: "React的useEffect何時執行?", options: ["渲染前", "渲染後", "組件銷毀時", "從不執行"], correct: 1 },
            { category: "框架進階", question: "Vue 3的Composition API相比Options API的優勢是?", options: ["更快", "更好的邏輯復用", "更簡單", "更舊"], correct: 1 },
            { category: "框架進階", question: "React的虛擬DOM Diff算法時間複雜度是?", options: ["O(n)", "O(n²)", "O(log n)", "O(n³)"], correct: 0 },
            { category: "框架進階", question: "Next.js的SSR是什麼?", options: ["客戶端渲染", "服務器端渲染", "靜態渲染", "混合渲染"], correct: 1 },
            { category: "框架進階", question: "Vue的響應式原理在Vue 3中使用?", options: ["Object.defineProperty", "Proxy", "Getter/Setter", "發布訂閱"], correct: 1 },
            { category: "框架進階", question: "React的Concurrent Mode的優勢是?", options: ["代碼更少", "可中斷渲染提升響應", "運行更慢", "佔用更少內存"], correct: 1 },
            { category: "框架進階", question: "Angular的依賴注入(DI)的作用是?", options: ["美化界面", "管   組件依賴", "路   管理", "狀態管理"], correct: 1 },
            { category: "框架進階", question: "Svelte在編譯時做什麼?", options: ["不編譯", "將組件編譯為原生JavaScript", "只檢查語法", "只壓縮代碼"], correct: 1 },

            // 構建工具
            { category: "構建工具", question: "Webpack的loader和plugin的區別是?", options: ["沒區別", "loader轉換文件,plugin擴展功能", "loader更快", "plugin更舊"], correct: 1 },
            { category: "構建工具", question: "Vite使用什麼模塊系統?", options: ["CommonJS", "ES Modules", "AMD", "UMD"], correct: 1 },
            { category: "構建工具", question: "Babel的作用是?", options: ["打包", "轉譯ES6+代碼", "壓縮", "測試"], correct: 1 },
            { category: "構建工具", question: "Rollup相比Webpack更適合?", options: ["應用打包", "庫打包", "圖片處理", "測試"], correct: 1 },
            { category: "構建工具", question: "Parcel的特點是?", options: ["配置複雜", "零配置", "速度慢", "體積大"], correct: 1 },
            { category: "構建工具", question: "PostCSS的作用是?", options: ["預處理CSS", "後處理CSS", "壓縮CSS", "混淆CSS"], correct: 1 },
            { category: "構建工具", question: "ESLint用於?", options: ["編譯代碼", "代碼質量檢查", "打包", "測試"], correct: 1 },
            { category: "構建工具", question: "Prettier的主要功能是?", options: ["調試", "代碼格式化", "性能優化", "安全檢查"], correct: 1 }
        ];

        // 編程開發題庫
        const programmingDatabase = [
            // Python基礎
            { category: "Python", question: "Python是由誰創建的?", options: ["Guido van Rossum", "Linus Torvalds", "Brendan Eich", "James Gosling"], correct: 0 },
            { category: "Python", question: "Python 3相比Python 2的主要變化不包括?", options: ["print變成函數", "整數除法變化", "字符串默認Unicode", "運行速度變慢"], correct: 3 },
            { category: "Python", question: "Python的PEP 8是什麼?", options: ["版本號", "代碼風格指南", "庫名稱", "錯誤代碼"], correct: 1 },
            { category: "Python", question: "list和tuple的主要區別是?", options: ["大小不同", "tuple不可變", "list更慢", "tuple更大"], correct: 1 },
            { category: "Python", question: "Python的GIL是什麼?", options: ["圖形庫", "全局解釋器鎖", "包管理器", "測試工具"], correct: 1 },
            { category: "Python", question: "Python中self的作用是?", options: ["全局變量", "指向實例本身", "關鍵   ", "函數名"], correct: 1 },
            { category: "Python", question: "with語句的主要作用是?", options: ["循環", "上下文管理", "條件判斷", "函數定義"], correct: 1 },
            { category: "Python", question: "Python的lambda函數是什麼?", options: ["普通函數", "匿名函數", "類方法", "裝飾器"], correct: 1 },
            { category: "Python", question: "生成器(Generator)的優勢是?", options: ["速度更快", "內存效率高", "語法簡單", "功能更多"], correct: 1 },
            { category: "Python", question: "裝飾器(Decorator)的作用是?", options: ["美化代碼", "修改或增強函數", "壓縮代碼", "加密代碼"], correct: 1 },
            { category: "Python", question: "pip是什麼?", options: ["編輯器", "包管理器", "測試工具", "框架"], correct: 1 },
            { category: "Python", question: "虛擬環境(venv)的作用是?", options: ["加速運行", "隔離項目依賴", "壓縮文件", "測試代碼"], correct: 1 },
            { category: "Python", question: "NumPy主要用於?", options: ["網頁   發", "數學計算", "遊戲     發", "移動開發"], correct: 1 },
            { category: "Python", question: "Pandas主要處理什麼?", options: ["圖像", "表格數據", "音頻", "視頻"], correct: 1 },
            { category: "Python", question: "Django是什麼類型的框架?", options: ["桌面應用", "Web框架", "遊戲引擎", "數據庫"], correct: 1 },
            { category: "Python", question: "Flask相比Django的特點是?", options: ["更複雜", "更輕量", "更慢", "更舊"], correct: 1 },
            { category: "Python", question: "異步編程中async/await的作用是?", options: ["同步執行", "異步執行", "並行執行", "順序執行"], correct: 1 },
            { category: "Python", question: "Python的type hints在哪個版本引入?", options: ["2.7", "3.5", "3.8", "3.10"], correct: 1 },

            // Linux基礎
            { category: "Linux", question: "Linux內核是由誰創建?", options: ["Richard Stallman", "Linus Torvalds", "Ken Thompson", "Dennis Ritchie"], correct: 1 },
            { category: "Linux", question: "Linux在哪一年首次發布?", options: ["1989", "1991", "1993", "1995"], correct: 1 },
            { category: "Linux", question: "查看當前目錄的命令是?", options: ["cd", "ls", "pwd", "dir"], correct: 2 },
            { category: "Linux", question: "chmod 755的含義是?", options: ["所有人讀寫執行", "所有者全權限,其他人讀和執行", "只有所有者可讀", "所有人只讀"], correct: 1 },
            { category: "Linux", question: "sudo命令的作   是?", options: ["關機", "以超級用戶權限執行", "查看文件", "編輯文件"], correct: 1 },
            { category: "Linux", question: "grep命令用於?", options: ["移動文件", "搜索文本", "壓縮文件", "刪除文件"], correct: 1 },
            { category: "Linux", question: "pipe(|)管道符的作用是?", options: ["註釋", "連接命令", "賦值", "比較"], correct: 1 },
            { category: "Linux", question: "top命令用於?", options: ["查看   程", "創建目錄", "編輯文件", "壓縮文件"], correct: 0 },
            { category: "Linux", question: "apt-get是哪個發行版的包管理器?", options: ["Red Hat", "Debian/Ubuntu", "Arch", "Fedora"], correct: 1 },
            { category: "Linux", question: "yum是哪個發行版的包管理器?", options: ["Debian", "Ubuntu", "Red Hat/CentOS", "Arch"], correct: 2 },
            { category: "Linux", question: "systemctl命令用於?", options: ["編輯文件", "管理系統服務", "壓縮文件", "查看硬件"], correct: 1 },
            { category: "Linux", question: "SSH的默認端   是?", options: ["80", "443", "22", "21"], correct: 2 },
            { category: "Linux", question: "vi/vim的退出並保存命令是?", options: [":q", ":wq", ":x", "以上皆可"], correct: 3 },
            { category: "Linux", question: "/etc目錄主要存放什麼?", options: ["用戶文件", "配置文件", "臨時文件", "日誌文件"], correct: 1 },
            { category: "Linux", question: "tar命令主要用於?", options: ["搜索", "打包/解包", "編輯", "複製"], correct: 1 },

            // C++基礎
            { category: "C++", question: "C++是由誰創建?", options: ["Dennis Ritchie", "Bjarne Stroustrup", "Ken Thompson", "Linus Torvalds"], correct: 1 },
            { category: "C++", question: "C++在哪一年首次發布?", options: ["1979", "1983", "1985", "1989"], correct: 1 },
            { category: "C++", question: "C++11引入的智能指針不包括?", options: ["unique_ptr", "shared_ptr", "weak_ptr", "auto_ptr"], correct: 3 },
            { category: "C++", question: "STL的全稱是?", options: ["Standard Template Library", "Simple Template Library", "System Template Library", "Super Template Library"], correct: 0 },
            { category: "C++", question: "虛函數(virtual)的作用是?", options: ["提高性能", "實現多態", "節省內存", "加快編譯"], correct: 1 },
            { category: "C++", question: "RAII的全稱是?", options: ["Resource Allocation Is Initialization", "Random Access Is Instant", "Rapid Application Integration Interface", "Resource Access In Implementation"], correct: 0 },
            { category: "C++", question: "vector和array的主要區別是?", options: ["沒區別", "vector可動態擴容", "array更快", "vector更小"], correct: 1 },
            { category: "C++", question: "const和constexpr的區別是?", options: ["沒區別", "constexpr編譯時求值", "const更強", "constexpr更舊"], correct: 1 },
            { category: "C++", question: "移動語義(Move Semantics)的優勢是?", options: ["語法簡單", "避免不必要的複製", "運行更慢", "佔用更多內存"], correct: 1 },
            { category: "C++", question: "lambda表達式在哪個標準引入?", options: ["C++98", "C++03", "C++11", "C++14"], correct: 2 },

            // 其他編程語言
            { category: "其他語言", question: "Java是由哪家公司開發?", options: ["Microsoft", "Sun Microsystems", "IBM", "Apple"], correct: 1 },
            { category: "其他語言", question: "Go語言   由哪家公司開發?", options: ["Facebook", "Google", "Microsoft", "Amazon"], correct: 1 },
            { category: "其他語言", question: "Rust語言的主要特   是?", options: ["垃圾回收", "內存安全無垃圾回收", "解釋執行", "動態類型"], correct: 1 },
            { category: "其他語言", question: "Swift是哪家公司開發的?", options: ["Google", "Microsoft", "Apple", "Facebook"], correct: 2 },
            { category: "其他語言", question: "Kotlin主要用於什麼平台?", options: ["iOS", "Android", "Windows", "Linux"], correct: 1 },
            { category: "其他語言", question: "Ruby on Rails是什麼?", options: ["編輯器", "Web框架", "數據庫", "操作系統"], correct: 1 },
            { category: "其他語言", question: "PHP最初代表什麼?", options: ["Personal Home Page", "Public HTTP Protocol", "Private Hosting Platform", "Portable Hypertext Processor"], correct: 0 },
            { category: "其他語言", question: "Node.js使用什麼引擎?", options: ["SpiderMonkey", "V8", "Chakra", "JavaScriptCore"], correct: 1 },
            { category: "其他語言", question: "Dart語言主要用於什麼框架?", options: ["React Native", "Flutter", "Xamarin", "Ionic"], correct: 1 },
            { category: "其他語言", question: "Scala運行在什麼平台上?", options: [".NET", "JVM", "Python VM", "獨立運行"], correct: 1 },

            // Git版本控制
            { category: "Git", question: "Git是由誰創建?", options: ["Linus Torvalds", "Guido van Rossum", "Bjarne Stroustrup", "James Gosling"], correct: 0 },
            { category: "Git", question: "git init的作用是?", options: ["克隆倉庫", "初始化倉庫", "提交代碼", "推送代碼"], correct: 1 },
            { category: "Git", question: "git clone和git pull的區別是?", options: ["沒區別", "clone是首次獲取", "pull更快", "clone更安全"], correct: 1 },
            { category: "Git", question: "git merge和git rebase的主要區別是?", options: ["沒區別", "rebase保持線性歷史", "merge更快", "rebase更舊"], correct: 1 },
            { category: "Git", question: ".gitignore文件的作用是?", options: ["加密文件", "忽略特定文件", "壓縮文件", "備份文件"], correct: 1 },
            { category: "Git", question: "git stash的作用是?", options: ["刪除代碼", "暫存修改", "提交代碼", "推送代碼"], correct: 1 },
            { category: "Git", question: "HEAD在Git中代表什麼?", options: ["主分支", "當前提交", "遠程倉庫", "配置文件"], correct: 1 },
            { category: "Git", question: "git cherry-pick的作用是?", options: ["刪除提交", "選擇性合併提交", "創建分支", "推送代碼"], correct: 1 },
            { category: "Git", question: "git fetch和git pull的區別是?", options: ["沒區別", "fetch只下載不合併", "pull更慢", "fetch更舊"], correct: 1 },
            { category: "Git", question: "git bisect的主要用途是?", options: ["合併分支", "二分查找引入bug的提交", "刪除分支", "重命名分支"], correct: 1 },
            { category: "Git", question: "GitHub Actions主要用於?", options: ["代碼編輯", "CI/CD自動化", "文件儲存", "項目管理"], correct: 1 },
            { category: "Git", question: "git tag的作用是?", options: ["刪除文件", "標記重要提交", "創建分支", "合併代碼"], correct: 1 },

            // 數據庫基礎
            { category: "數據庫", question: "SQL的全稱是?", options: ["Structured Query Language", "Simple Query Language", "Standard Query Language", "System Query Language"], correct: 0 },
            { category: "數據庫", question: "MySQL是什麼類型的數據庫?", options: ["NoSQL", "關係型數據庫", "圖數據庫", "鍵值數據庫"], correct: 1 },
            { category: "數據庫", question: "MongoDB的主要特點是?", options: ["SQL查詢", "文檔   NoSQL", "只能存文本", "不支持索引"], correct: 1 },
            { category: "數據庫", question: "Redis主要用於?", options: ["文件儲存", "緩存和鍵值存儲", "圖像處理", "視頻編碼"], correct: 1 },
            { category: "數據庫", question: "PostgreSQL相比MySQL的優勢是?", options: ["更快", "更強的數據完整性", "更簡單", "更便宜"], correct: 1 },
            { category: "數據庫", question: "NoSQL中的ACID是什麼?", options: ["酸性   質", "事務特性", "數據類型", "查詢語言"], correct: 1 },
            { category: "數據庫", question: "數據庫索引的主要作用是?", options: ["美化數據", "加快查詢速度", "壓縮數據", "備份數據"], correct: 1 },
            { category: "數據庫", question: "JOIN操作用於?", options: ["刪除數據", "連接多個表", "創建表", "備份表"], correct: 1 },
            { category: "數據庫", question: "主鍵(Primary Key)的特點是?", options: ["可   重複", "唯一且非空", "可以為空", "隨意設置"], correct: 1 },
            { category: "數據庫", question: "ORM的全稱是?", options: ["Object Resource Manager", "Object-Relational Mapping", "Online Resource Module", "Operational Record Management"], correct: 1 },

            // Docker容器化
            { category: "Docker", question: "Docker是什麼?", options: ["編程語言", "容器化平台", "操作系統", "數據庫"], correct: 1 },
            { category: "Docker", question: "Docker Image和Container的關係是?", options: ["相同", "Image是模板,Container是實例", "Container是模板", "沒關係"], correct: 1 },
            { category: "Docker", question: "Dockerfile用於?", options: ["運行容器", "定義鏡像構建步驟", "刪除容器", "網絡配置"], correct: 1 },
            { category: "Docker", question: "docker-compose的作用是?", options: ["編譯代碼", "管理多容器應用", "只能運行單容器", "刪除容器"], correct: 1 },
            { category: "Docker", question: "Docker相比虛擬機的優勢是?", options: ["更重", "更輕量啟動更快", "更慢", "更複雜"], correct: 1 },
            { category: "Docker", question: "Docker Hub是什   ?", options: ["代碼編輯器", "鏡像倉庫", "社交平台", "   戲平台"], correct: 1 },
            { category: "Docker", question: "Docker Volume的作用是?", options: ["刪除數據", "持久化存儲數據", "壓縮文件", "加密數據"], correct: 1 },

            // API開發
            { category: "API", question: "REST API的全稱是?", options: ["Rapid External Service Transfer", "Representational State Transfer", "Remote Execution State Transfer", "Resource Encoding System Transfer"], correct: 1 },
            { category: "API", question: "HTTP的GET方法通常用於?", options: ["創建資源", "獲取資源", "刪除資源", "更新資源"], correct: 1 },
            { category: "API", question: "HTTP的POST方法通常用於?", options: ["獲取資源", "創建資源", "刪除資源", "部分更新"], correct: 1 },
            { category: "API", question: "HTTP狀態碼404表示?", options: ["成功", "未找到", "服務器錯誤", "禁止訪問"], correct: 1 },
            { category: "API", question: "HTTP狀態碼200表示?", options: ["重定向", "成功", "客戶端錯誤", "   務器錯誤"], correct: 1 },
            { category: "API", question: "GraphQL相比REST的主要優勢是?", options: ["更慢", "客戶端可精確請求需要的數據", "更複雜", "更舊"], correct: 1 },
            { category: "API", question: "JWT的全稱是?", options: ["Java Web Token", "JSON Web Token", "JavaScript Web Transfer", "Joint Web Technology"], correct: 1 },
            { category: "API", question: "CORS是什麼?", options: ["編程語言", "跨域資源共享", "數據庫", "框架"], correct: 1 },
            { category: "API", question: "Webhook是什麼?", options: ["網頁鉤子", "HTTP回調", "數據庫", "編輯器"], correct: 1 },
            { category: "API", question: "API的Rate Limiting用於?", options: ["加速請求", "限制請求頻率", "加密數據", "壓縮響應"], correct: 1 },

            // 網絡安全   階
            { category: "安全進階", question: "XSS   擊的全稱是?", options: ["Cross-Site Scripting", "External Site Security", "XML Site System", "Cross-Server Script"], correct: 0 },
            { category: "安全進階", question: "CSRF攻擊是什麼?", options: ["跨站腳本", "跨站請求偽造", "SQL注入", "DDoS攻擊"], correct: 1 },
            { category: "安全進階", question: "SQL注入的原理是?", options: ["破解密碼", "通過輸入惡意SQL代碼攻擊數據庫", "DDoS攻擊", "釣魚攻擊"], correct: 1 },
            { category: "安全進階", question: "HTTPS中的S代表什麼?", options: ["Speed", "Secure", "Simple", "Server"], correct: 1 },
            { category: "安全進階", question: "SHA-256是什麼?", options: ["加密算法", "哈希算法", "壓縮算法", "編碼方式"], correct: 1 },
            { category: "安全進階", question: "對稱加密和非對稱加密的主要區別是?", options: ["速度", "密鑰數量", "安全性", "複雜度"], correct: 1 },
            { category: "安全進階", question: "TLS/SSL用於?", options: ["壓縮數據", "加密傳輸", "加速網絡", "存儲數據"], correct: 1 },
            { category: "安全進階", question: "密碼學中的鹽(Salt)用於?", options: ["調味", "增強密碼哈希安全性", "壓縮密碼", "加密密碼"], correct: 1 },
            { category: "安全進階", question: "OAuth 2.0主要用於?", options: ["加密", "授權", "壓縮", "備份"], correct: 1 },
            { category: "安全進階", question: "中間人攻擊(MITM)是什麼?", options: ["釣魚攻擊", "攔截通信", "DDoS攻擊", "SQL注入"], correct: 1 },

            // 移動開發
            { category: "移動開發", question: "React Native使用什麼語言?", options: ["Java", "JavaScript", "Kotlin", "Swift"], correct: 1 },
            { category: "移動開發", question: "Flutter使用什麼語言?", options: ["JavaScript", "Java", "Dart", "Swift"], correct: 2 },
            { category: "移動開發", question: "iOS原生開發使用什麼語言?", options: ["Java", "Kotlin", "Swift", "Dart"], correct: 2 },
            { category: "移動開發", question: "Android原生開發推薦使用?", options: ["Swift", "Kotlin", "Dart", "Ruby"], correct: 1 },
            { category: "移動開發", question: "PWA的全稱是?", options: ["Public Web App", "Progressive Web App", "Private Web Application", "Portable Web Access"], correct: 1 },
            { category: "移動開發", question: "Expo是什麼?", options: ["Java框架", "React Native開發工具集", "iOS編輯器", "Android模擬器"], correct: 1 },

            // 遊戲開發
            { category: "遊戲開發", question: "Unity使用什麼語言?", options: ["Java", "C#", "Python", "Ruby"], correct: 1 },
            { category: "遊戲開發", question: "Unreal Engine主要使用什麼語   ?", options: ["Java", "Python", "C++", "JavaScript"], correct: 2 },
            { category: "遊戲開發", question: "Godot Engine是什麼?", options: ["付費引擎", "開源遊戲引擎", "圖像編輯器", "音頻軟件"], correct: 1 },
            { category: "遊戲開發", question: "遊戲開發中的FPS是什麼?", options: ["First Person Shooter", "Frames Per Second", "以上皆是", "File Processing System"], correct: 2 },
            { category: "遊戲開發", question: "遊戲物理引擎用於?", options: ["美化畫面", "模擬真實物理", "播放音頻", "網絡通信"], correct: 1 },

            // 算法與數據結構
            { category: "算法", question: "時間複雜度O(n²)表示?", options: ["常數時間", "線性時間", "平方時間", "對數時間"], correct: 2 },
            { category: "算法", question: "快速排序   平均時間複雜度是?", options: ["O(n)", "O(n log n)", "O(n  )", "O(log n)"], correct: 1 },
            { category: "算法", question: "棧(Stack)的特點是?", options: ["先進先出", "後進先出", "隨機訪問", "無序"], correct: 1 },
            { category: "算法", question: "隊列(Queue)的特點是?", options: ["後進先出", "先進先出", "隨機訪問", "無序"], correct: 1 },
            { category: "算法", question: "二叉搜索樹的特點是?", options: ["無序", "左子樹小於根節點", "右子樹小於根節點", "完全隨機"], correct: 1 },
            { category: "算法", question: "哈希表的查找時間複雜度通常是?", options: ["O(1)", "O(n)", "O(log n)", "O(n²)"], correct: 0 },
            { category: "算法", question: "鏈表相比數組的優勢是?", options: ["隨機訪問更快", "插入刪除更高效", "佔用內存更少", "實現更簡單"], correct: 1 },
            { category: "算法", question: "動態規劃的核心思想是?", options: ["暴力搜索", "分而治之和記憶化", "貪心選擇", "隨機嘗試"], correct: 1 },
            { category: "算法", question: "廣度優先搜索(BFS)使用什麼數據結構?", options: ["棧", "隊列", "堆", "樹"], correct: 1 },
            { category: "算法", question: "深度優先搜索(DFS)可以使用什麼實現?", options: ["隊列", "棧或遞歸", "數組", "鏈表"], correct: 1 },

            // 機器學習基礎
            { category: "機器學習", question: "TensorFlow是由哪家公司開發?", options: ["Facebook", "Google", "Microsoft", "Amazon"], correct: 1 },
            { category: "機器學習", question: "PyTorch是由哪家公司開發?", options: ["Google", "Facebook", "Microsoft", "OpenAI"], correct: 1 },
            { category: "機器學習", question: "訓練集和測試集的作用區別是?", options: ["沒區別", "訓練集用於訓練,測試集用於評估", "測試集更大", "訓練集更重要"], correct: 1 },
            { category: "機器學習", question: "過擬合的解決方法不包括?", options: ["正則化", "增加訓練數據", "減少特徵", "增加模型複雜度"], correct: 3 },
            { category: "機器學習", question: "卷積神經網絡(CNN)主要用於?", options: ["時間序列", "圖像處理", "文本處理", "音頻處理"], correct: 1 },
            { category: "機器學習", question: "循環神經網絡(RNN)主要用於?", options: ["圖像", "序列數據", "表格數據", "靜態數據"], correct: 1 },
            { category: "機器學習", question: "Transformer架構的核心是?", options: ["卷積", "注意力機制", "池化", "激活函數"], correct: 1 },
            { category: "機器學習", question: "梯度下降的作用是?", options: ["增加密差", "優化模型參數", "測試模型", "可視化數據"], correct: 1 },

            // 區塊鏈基礎
            { category: "區塊鏈", question: "比特幣是在哪一年誕生?", options: ["2007", "2009", "2011", "2013"], correct: 1 },
            { category: "區塊鏈", question: "區塊鏈的主要特點是?", options: ["中心化", "去中心化和不可篡改", "可隨意修改", "需要管理員"], correct: 1 },
            { category: "區塊鏈", question: "以太坊的智能合約使用什麼語言?", options: ["JavaScript", "Python", "Solidity", "Java"], correct: 2 },
            { category: "區塊鏈", question: "挖礦的主要作用是?", options: ["破解密碼", "驗證交易並生成新區塊", "刪除數據", "加密文件"], correct: 1 },
            { category: "區塊鏈", question: "NFT的全稱是?", options: ["New File Transfer", "Non-Fungible Token", "Network File Token", "Next Finance Technology"], correct: 1 },
            { category: "區塊鏈", question: "共識機制PoW的全稱是?", options: ["Power of Work", "Proof of Work", "Point of Work", "Protocol of Work"], correct: 1 },
            { category: "區塊鏈", question: "共識機制PoS的全稱是?", options: ["Point of Sale", "Proof of Stake", "Power of System", "Protocol of Security"], correct: 1 },

            // 雲原生技術
            { category: "雲原生", question: "Kubernetes是什麼?", options: ["數據庫", "容器編排平台", "編程語言", "操作系統"], correct: 1 },
            { category: "雲原生", question: "K8s是什麼的簡稱?", options: ["Kafka", "Kubernetes", "Kotlin", "Keras"], correct: 1 },
            { category: "雲原生", question: "微服務架構的優勢是?", options: ["更簡單", "獨立部署和擴展", "更快", "更便宜"], correct: 1 },
            { category: "雲原生", question: "Service Mesh的代表產品是?", options: ["Docker", "Istio", "Nginx", "Redis"], correct: 1 },
            { category: "雲原生", question: "CI/CD中的CI是什麼?", options: ["Cloud Integration", "Continuous Integration", "Code Inspection", "Container Instance"], correct: 1 },
            { category: "雲原生", question: "Serverless的特點是?", options: ["沒有服務器", "無需管理服務器", "永遠免費", "速度最慢"], correct: 1 },

            // 開發運維(DevOps)
            { category: "DevOps", question: "Jenkins主要用於?", options: ["代碼編輯", "CI/CD自動化", "數據庫管理", "圖像處理"], correct: 1 },
            { category: "DevOps", question: "Ansible是什麼?", options: ["編程語言", "自動化運維工具", "數據庫", "框架"], correct: 1 },
            { category: "DevOps", question: "Prometheus用於?", options: ["代碼編譯", "監控和告警", "數據備份", "網絡加速"], correct: 1 },
            { category: "DevOps", question: "Grafana主要用於?", options: ["編寫代碼", "數據可視   ", "文件傳輸", "視頻編輯"], correct: 1 },
            { category: "DevOps", question: "藍綠部署的優勢是?", options: ["成本更低", "零停機時間部署", "速度更慢", "配置更簡單"], correct: 1 },
            { category: "DevOps", question: "金絲雀發布是什麼?", options: ["一次性全量發布", "逐步發布給部分用戶", "回滾部署", "刪除版本"], correct: 1 },

            // 測試相關
            { category: "測試", question: "單元測試主要測試什麼?", options: ["整個系統", "單個函數或方法", "用戶界面", "網絡連接"], correct: 1 },
            { category: "測試", question: "集成測試的目的是?", options: ["測試單個函數", "測試模塊間協作", "測試性能", "測試安全性"], correct: 1 },
            { category: "測試", question: "TDD的全稱是?", options: ["Test-Driven Development", "Technology-Driven Design", "Total Data Development", "Type-Driven Documentation"], correct: 0 },
            { category: "測試", question: "Mock在測試中的作用是?", options: ["真實調用", "模擬依賴", "刪除數據", "加密測試"], correct: 1 },
            { category: "測試", question: "Jest是什麼?", options: ["數據庫", "JavaScript測試框架", "CSS框架", "Python庫"], correct: 1 },
            { category: "測試", question: "Selenium主要用於?", options: ["單元測試", "自動化瀏覽器測試", "性能測試", "安全測試"], correct: 1 },

            // 設計模式
            { category: "設計模式", question: "單例模式的特點是?", options: ["可創建多個實例", "只有一個實例", "沒有實例", "隨意創建"], correct: 1 },
            { category: "設計模式", question: "工廠模式的作用是?", options: ["刪除對象", "創建對象", "修改對象", "複製對   "], correct: 1 },
            { category: "設計模式", question: "   察者模式用於?", options: ["創建對象", "對象間一對多依賴", "刪除對象", "複製對象"], correct: 1 },
            { category: "設計模式", question: "MVC模式中   V代表?", options: ["Variable", "View", "Value", "Virtual"], correct: 1 },
            { category: "設計模式", question: "依賴注入的優勢是?", options: ["代碼更複雜", "降低耦合度", "運行更慢", "佔用更多內存"], correct: 1 },

            // 性能優化進階
            { category: "性能優化進階", question: "Web Vitals包括哪些指標?", options: ["只有速度", "LCP、FID、CLS等", "只有大小", "只有顏色"], correct: 1 },
            { category: "性能優化進階", question: "圖片懶加載的目的是?", options: ["美化圖片", "延遲加載提升首屏速度", "壓縮圖片", "加密圖片"], correct: 1 },
            { category: "性能優化進階", question: "Service Worker可以實現?", options: ["只能緩存", "離線訪問和推送", "只能推送", "不能做任何事"], correct: 1 },
            { category: "性能優化進階", question: "關鍵渲染路徑優化的目的是?", options: ["美化頁面", "加快首次渲染", "增加功能", "減少bug"], correct: 1 },
            { category: "性能優化進階", question: "WebP格式的優勢是?", options: ["更大", "更小更快", "兼容性最好", "顏色更多"], correct: 1 },

            // 軟件工程
            { category: "軟件工程", question: "敏捷開發的特點是?", options: ["瀑布式", "迭代開發快速響應變化", "一次性開發", "不需要測試"], correct: 1 },
            { category: "軟件工程", question: "Scrum中的Sprint是什麼?", options: ["跑步", "開發迭代週期", "會議", "文檔"], correct: 1 },
            { category: "軟件工   ", question: "Code Review的主要目的是?", options: ["刪除代碼", "   高代碼質量", "增加代碼量", "美化代碼"], correct: 1 },
            { category: "軟件工程", question: "重構的目的是?", options: ["增加功能", "改進代碼結構不改變功能", "刪除功能", "加密代碼"], correct: 1 },
            { category: "軟件工程", question: "技術債務是什麼?", options: ["借錢", "為快速開發犧牲質量的代價", "項目預算", "團隊費用"], correct: 1 },

            // 數據結構與算法
            { category: "算法", question: "時間複雜度O(1)代表什麼?", options: ["線性時間", "常數時間", "對數時間", "指數時間"], correct: 1 },
            { category: "算法", question: "快速排序的平均時間複雜度是?", options: ["O(n)", "O(n log n)", "O(n²)", "O(log n)"], correct: 1 },
            { category: "算法", question: "哈希表的平均查找時間複雜度是?", options: ["O(1)", "O(n)", "O(log n)", "O(n  )"], correct: 0 },
            { category: "算法", question: "二叉搜索樹的特點是?", options: ["左子樹 < 根 < 右子樹", "完全平衡", "葉子節點相同", "高度相同"], correct: 0 },
            { category: "算法", question: "深度優先搜索(DFS)和廣度優先搜索(BFS)的主要區別是?", options: ["速度", "遍歷順序", "空間複雜度", "以上皆是"], correct: 3 },
            { category: "算法", question: "動態規劃的核心思想是?", options: ["分治", "貪心", "子問題重疊和最優子結構", "回溯"], correct: 2 }
        ];

        // 網絡保安題庫
        const securityDatabase = [
            // 網絡安全基礎
            { category: "安全基礎", question: "CIA三要素不包括?", options: ["機密性", "完整性", "可用性", "便利性"], correct: 3 },
            { category: "安全基礎", question: "加密和哈希的主要區別是?", options: ["速度", "加密可逆", "哈希   安全", "沒區別"], correct: 1 },
            { category: "安   基礎", question: "對稱加密和非對稱加密的主要區別是?", options: ["速度", "密鑰數量", "安全性", "以上皆是"], correct: 3 },
            { category: "安全基礎", question: "AES是什麼類型的加密?", options: ["對稱加密", "非對稱加密", "哈希", "編碼"], correct: 0 },
            { category: "安全基礎", question: "RSA是什麼類型的加密?", options: ["對稱加密", "非對稱加密", "哈希", "編碼"], correct: 1 },
            { category: "安全基礎", question: "SHA-256是什麼?", options: ["加密算法", "哈希算法", "編碼方式", "壓縮算法"], correct: 1 },
            { category: "安全基礎", question: "SSL/TLS主要用於?", options: ["文件壓縮", "網絡加密", "數據備份", "病毒掃描"], correct: 1 },
            { category: "安全基礎", question: "HTTPS的S代表什麼?", options: ["Speed", "Secure", "Simple", "Standard"], correct: 1 },
            { category: "安全基礎", question: "VPN的主要作用是?", options: ["加速網絡", "加密連接", "存儲數據", "清理垃圾"], correct: 1 },
            { category: "安全基礎", question: "雙因素認證(2FA)的優勢是?", options: ["更快", "更安全", "更便宜", "更簡單"], correct: 1 },

            // 病毒和惡意軟件
            { category: "病毒", question: "病毒和蠕蟲的主要區別是?", options: ["蠕蟲可自我複製傳播", "病毒更危險", "沒區別", "蠕蟲更小"], correct: 0 },
            { category: "病毒", question: "特洛伊木馬   特點是?", options: ["自我複製", "偽裝   正常程序", "加密文件", "刪除文件"], correct: 1 },
            { category: "病毒", question: "勒索軟件的主要行為是?", options: ["竊取密碼", "加密文件勒索", "刪除文件", "監控用戶"], correct: 1 },
            { category: "病毒", question: "間諜軟件主要用於?", options: ["加密文件", "收集信息", "刪除文件", "修改設置"], correct: 1 },
            { category: "病毒", question: "Rootkit的特點是?", options: ["易於檢測", "隱藏自身和其他惡意程序", "速度快", "體積小"], correct: 1 },
            { category: "病毒", question: "殭屍網絡(Botnet)主要用於?", options: ["加速網絡", "分布式攻擊", "數據備份", "文件共享"], correct: 1 },
            { category: "病毒", question: "Keylogger的作用是?", options: ["優化性能", "記錄鍵盤輸入", "清理垃圾", "加速系統"], correct: 1 },
            { category: "病毒", question: "Adware主要表現為?", options: ["加密文件", "顯示大量廣告", "刪除文件", "修改密碼"], correct: 1 },
            { category: "病毒", question: "零日漏洞(Zero-day)是指?", options: ["已修復的漏洞", "未被發現的漏洞", "已知但未修復的漏洞", "假漏洞"], correct: 2 },
            { category: "病毒", question: "宏病毒通常感染什麼文件?", options: ["EXE", "Office文檔", "圖片", "視頻"], correct: 1 },

            // 網絡攻擊
            { category: "網絡攻擊", question: "DDoS攻擊的全稱是?", options: ["Direct Denial of Service", "Distributed Denial of Service", "Data Denial of Service", "Digital Denial of Service"], correct: 1 },
            { category: "網絡攻擊", question: "SQL注入攻擊針對什麼?", options: ["網頁樣式", "數據庫", "文件系統", "網絡連接"], correct: 1 },
            { category: "網絡攻擊", question: "XSS攻擊的全稱是?", options: ["XML Site Scripting", "Cross-Site Scripting", "Extra Site Scripting", "Cross-Server Scripting"], correct: 1 },
            { category: "網絡攻擊", question: "CSRF攻擊的目的是?", options: ["竊取密碼", "偽造用戶請求", "刪除文件", "加密數據"], correct: 1 },
            { category: "網絡攻擊", question: "中間人攻擊(MITM)是指?", options: ["DDoS攻擊", "攔截   信", "病毒感染", "密碼破解"], correct: 1 },
            { category: "網絡攻擊", question: "釣魚攻擊(Phishing)主要通過什麼方式?", options: ["病毒", "偽造郵件/網站", "DDoS", "暴力破解"], correct: 1 },
            { category: "網絡攻擊", question: "暴力破解(Brute Force)主要用於?", options: ["DDoS", "猜測密碼", "注入代碼", "攔截通信"], correct: 1 },
            { category: "網絡攻擊", question: "緩衝區溢出攻擊針對什麼?", options: ["網絡帶寬", "內存管理漏洞", "硬碟空間", "CPU性能"], correct: 1 },
            { category: "網絡攻擊", question: "社會工程學攻擊主要利用什麼?", options: ["技術漏洞", "人性弱點", "網絡協議", "加密算法"], correct: 1 },
            { category: "網絡攻擊", question: "ARP欺騙攻擊發生在OSI哪一層?", options: ["物理層", "數據鏈路層", "網絡層", "應用層"], correct: 1 },

            // 防火牆和安全設備
            { category: "防火牆", question: "防火牆的主要功能是?", options: ["加速網絡", "過濾網絡流量", "存儲數據", "加密文件"], correct: 1 },
            { category: "防火牆", question: "狀態防火牆相比包過濾防火牆的優勢是?", options: ["更快", "追踪連接狀態", "更便宜", "更簡單  "], correct: 1 },
            { category: "防火牆", question: "WAF是什麼?", options: ["網絡防   牆", "Web應用防火牆", "無線防火牆", "Windows防火牆"], correct: 1 },
            { category: "防火牆", question: "IDS和IPS的主要區別是?", options: ["IPS可以阻斷", "IDS更快", "沒區別", "IPS更便宜"], correct: 0 },
            { category: "防火牆", question: "DMZ區域的作用是?", options: ["內網", "隔離公開服務", "外網", "備份區"], correct: 1 },
            { category: "防火牆", question: "蜜罐(Honeypot)的主要用途是?", options: ["加速網絡", "誘捕攻擊者", "備份數據", "過濾垃圾"], correct: 1 },
            { category: "防火牆", question: "下一代防火牆(NGFW)相比傳統防火牆的特點是?", options: ["更便宜", "深度包檢測", "更快", "更小"], correct: 1 },

            // 防毒軟件
            { category: "防毒軟件", question: "特徵碼檢測的局限性是?", options: ["太慢", "無法檢測新病毒", "太貴", "太複雜"], correct: 1 },
            { category: "防毒軟件", question: "啟發式檢測的原理是?", options: ["特徵碼匹配", "行為分析", "文件大小", "文件類型"], correct: 1 },
            { category: "防毒軟件", question: "沙箱(Sandbox)技術的作用是?", options: ["加速運行", "隔離執行可疑程序", "壓縮文件", "加密數據"], correct: 1 },
            { category: "防毒軟件", question: "實時保護的優勢是?", options: ["更省資源", "即時檢測威脅", "更便宜", "更簡單"], correct: 1 },
            { category: "防毒軟件", question: "誤報(False Positive)是指?", options: ["漏掉病毒", "將正常文件判為   毒", "無法啟動", "掃描太慢"], correct: 1 },
            { category: "防毒軟件", question: "雲查殺的優勢是?", options: ["離線可用", "病毒庫更新及時", "更快", "更小"], correct: 1 },
            { category: "防毒軟件", question: "隔離區(Quarantine)的作用是?", options: ["刪除文件", "安全隔離可疑文件", "壓縮文件", "加密文件"], correct: 1 },

            // 網絡安全最佳實踐
            { category: "安全實踐", question: "強密碼應該包含?", options: ["只有字母", "只有數字", "大小寫字母、數字和符號", "只有符號"], correct: 2 },
            { category: "安全實踐", question: "密碼管理器的優勢是?", options: ["不需要密碼", "生成和存儲複雜密碼", "自動登錄", "加速網絡"], correct: 1 },
            { category: "安全實踐", question: "軟件更新的主要目的是?", options: ["增加功能", "修復安全漏洞", "佔用空間", "減慢速   "], correct: 1 },
            { category: "安全實踐", question: "最小權限原則是指?", options: ["不給權限", "給予完成任務的最小權限", "給予最大權限", "隨機權限"], correct: 1 },
            { category: "安全實踐", question: "定期備份的重要性在於?", options: ["佔用空間", "防止數據丟失", "加速系統", "美化界面"], correct: 1 },
            { category: "安全實踐", question: "公共Wi-Fi的主要風險是?", options: ["速度慢", "可能被監聽", "信號差", "收費"], correct: 1 },
            { category: "安全實踐", question: "安全審計的目的是?", options: ["刪除日誌", "檢查安全狀況", "加速系統", "壓縮文件"], correct: 1 },
            { category: "安全實踐", question: "端到端加密的特點是?", options: ["服務器可解密", "只有通信雙方可解密", "任何人可解密", "不加密"], correct: 1 },

            // 網絡協議安全
            { category: "協議安全", question: "HTTP和HTTPS的主要區別是?", options: ["速度", "HTTPS加密", "HTTP更新", "沒區別"], correct: 1 },
            { category: "協議安全", question: "DNS劫持的後果是?", options: ["網速變快", "被導向惡意網站", "無法上網", "電腦重啟"], correct: 1 },
            { category: "   議安全", question: "WPA3相比WPA2的主要提升是?", options: ["速度更快", "安全性更強", "範圍更廣", "更便宜"], correct: 1 },
            { category: "協議安全", question: "WEP加密為何不推薦使用?", options: ["太複雜", "容易被破解", "速度慢", "不兼容"], correct: 1 },
            { category: "協議安全", question: "MAC地址過濾的局限性是?", options: ["太複雜", "MAC可以偽造", "速度慢", "不穩定"], correct: 1 }
        ];

        // 資料庫題庫
        const databaseDatabase = [
            // 資料庫基礎
            { category: "資料庫基礎", question: "DBMS的全稱是?", options: ["Data Base Management System", "Digital Base Management System", "Data Binary Management System", "Digital Binary Management System"], correct: 0 },
            { category: "資料庫基礎", question: "關聯式資料庫的特點是?", options: ["使用表格存儲", "無結構", "只存文本", "不支持查詢"], correct: 0 },
            { category: "資料庫基礎", question: "主鍵(Primary Key)的作用是?", options: ["加密數據", "唯一標識記錄", "排序", "備份"], correct: 1 },
            { category: "資料庫基礎", question: "外鍵(Foreign Key)用於?", options: ["加密", "建立   間關聯", "排序", "索引"], correct: 1 },
            { category: "資料庫基礎", question: "ACID特性不包括?", options: ["原子性", "一致性", "隔離性", "便利性"], correct: 3 },
            { category: "資料庫基礎", question: "正規化的主要目的是?", options: ["加速查詢", "減少數據冗餘", "增加數據", "加密數據"], correct: 1 },
            { category: "資料庫基礎", question: "第一正規化(1NF)要求?", options: ["有主鍵", "屬性不可再分", "無部分依賴", "無傳遞依賴"], correct: 1 },
            { category: "資料庫基礎", question: "索引的主要作用是?", options: ["備份數據", "加速查詢", "加密數據", "   縮數據"], correct: 1 },
            { category: "資料庫基礎", question: "   圖(View)是什麼?", options: ["物理表", "虛擬表", "索引", "備份"], correct: 1 },
            { category: "資料庫基礎", question: "交易(Transaction)的   性是?", options: ["可以部分提交", "全部成功或全部失敗", "總是成功", "總是失敗"], correct: 1 },

            // SQL語言
            { category: "SQL", question: "SQL的全稱是?", options: ["Structured Query Language", "Simple Query Language", "Standard Query Language", "System Query Language"], correct: 0 },
            { category: "SQL", question: "SELECT語句用於?", options: ["插入數據", "查詢數據", "刪除數據", "更新數據"], correct: 1 },
            { category: "SQL", question: "INSERT語句用於?", options: ["查詢", "插入數據", "刪除", "更新"], correct: 1 },
            { category: "SQL", question: "UPDATE語句用於?", options: ["查詢", "插入", "刪除", "修改數據"], correct: 3 },
            { category: "SQL", question: "DELETE和TRUNCATE的主要區別是?", options: ["速度相同", "DELETE可回滾", "TRUNCATE更慢", "沒區別"], correct: 1 },
            { category: "SQL", question: "WHERE子句用於?", options: ["排序", "過濾條件", "分組", "連接"], correct: 1 },
            { category: "SQL", question: "GROUP BY的作用是?", options: ["排序", "過濾", "分組", "連接"], correct: 2 },
            { category: "SQL", question: "HAVING和WHERE的區別是?", options: ["沒區別", "HAVING用於分組後過濾", "WHERE更快", "HAVING更舊"], correct: 1 },
            { category: "SQL", question: "INNER JOIN返回什麼?", options: ["所有記錄", "兩表匹配的記錄", "左表所有記錄", "右表所有記錄"], correct: 1 },
            { category: "SQL", question: "LEFT JOIN返回什麼?", options: ["只返回匹配", "左表所有+右表匹配", "右表所有", "沒有記錄"], correct: 1 },
            { category: "SQL", question: "COUNT()函數的作用是?", options: ["求和", "計數", "平均", "最大值"], correct: 1 },
            { category: "SQL", question: "DISTINCT關鍵字的作用是?", options: ["排序", "去重", "分組", "過濾"], correct: 1 },
            { category: "SQL", question: "ORDER BY的作用是?", options: ["過濾", "分組", "排序", "連接"], correct: 2 },
            { category: "SQL", question: "LIMIT子句用於?", options: ["排序", "限制返回記錄數", "分組", "過濾"], correct: 1 },
            { category: "SQL", question: "子查詢(Subquery)是什麼?", options: ["主查詢", "嵌套在其他查詢中的查詢", "錯誤查詢", "備份查詢"], correct: 1 },

            // MySQL
            { category: "MySQL", question: "MySQL是什麼類型的資料庫?", options: ["NoSQL", "關聯式", "圖形", "時序"], correct: 1 },
            { category: "MySQL", question: "MySQL的默認端口是?", options: ["3306", "5432", "1433", "27017"], correct: 0 },
            { category: "MySQL", question: "InnoDB和MyISAM的主要區別是?", options: ["速度", "InnoDB支持事務", "MyISAM更新", "沒區別"], correct: 1 },
            { category: "MySQL", question: "AUTO_INCREMENT的作用是?", options: ["自動刪除", "自動   增", "自動備份", "自動索引"], correct: 1 },
            { category: "MySQL", question: "VARCHAR和CHAR的區別是?", options: ["沒區別", "VARCHAR可變長度", "CHAR更快", "VARCHAR更舊"], correct: 1 },
            { category: "MySQL", question: "TEXT和VARCHAR的主要區別是?", options: ["沒區別", "TEXT存儲更大文本", "VARCHAR更大", "TEXT更快"], correct: 1 },
            { category: "MySQL", question: "TIMESTAMP和DATETIME的區別是?", options: ["沒區別", "TIMESTAMP受時區影響", "DATETIME更短", "TIMESTAMP更大"], correct: 1 },
            { category: "MySQL", question: "存儲過程的優勢是?", options: ["佔空間小", "提高性能和重用性", "速度慢", "難維護"], correct: 1 },
            { category: "MySQL", question: "觸發器(Trigger)的作用是?", options: ["手動執行", "自動執行特定操作", "備份數據", "加密數據"], correct: 1 },
            { category: "MySQL", question: "B-Tree索引的特點是?", options: ["無序", "有序且平衡", "速度慢", "佔用大"], correct: 1 },
            { category: "MySQL", question: "全文索引(FULLTEXT)用於?", options: ["數字搜索", "文本搜索", "日   搜索", "排序"], correct: 1 },
            { category: "MySQL", question: "EXPLAIN語句的作用是?", options: ["執行查詢", "分析查詢執行計劃", "備份數據", "刪除數據"], correct: 1 },

            // Oracle Database
            { category: "Oracle", question: "Oracle Database是哪家公司的產品?", options: ["Microsoft", "Oracle Corporation", "IBM", "SAP"], correct: 1 },
            { category: "Oracle", question: "Oracle的默認端口是?", options: ["3306", "5432", "1521", "27017"], correct: 2 },
            { category: "Oracle", question: "表空間(Tablespace)是什麼?", options: ["表的備份", "存儲結構", "索引類型", "查詢語句"], correct: 1 },
            { category: "Oracle", question: "PL/SQL是什麼?", options: ["查詢語言", "過程化SQL", "NoSQL", "索引類型"], correct: 1 },
            { category: "Oracle", question: "Oracle的ROWID是什麼?", options: ["行號", "行的物理   址", "列號", "表名"], correct: 1 },
            { category: "Oracle", question: "序列(Sequence)的作用是?", options: ["排序", "生成唯一數字", "備份", "加密"], correct: 1 },
            { category: "Oracle", question: "同義詞(Synonym)的作用是?", options: ["複製表", "提供對象別名", "備份", "索引"], correct: 1 },
            { category: "Oracle", question: "分區表(Partitioned Table)的優勢是?", options: ["佔用更少空間", "提高查詢性能", "速度更慢", "更複雜"], correct: 1 },
            { category: "Oracle", question: "Oracle RAC是什麼?", options: ["備份工具", "實時應用集群", "查詢語言", "存儲設備"], correct: 1 },
            { category: "Oracle", question: "數據泵(Data Pump)用於?", options: ["查詢", "導入導出數據", "刪除數據", "加密"], correct: 1 },

            // Oracle 數據類型
            { category: "Oracle數據類型", question: "VARCHAR2(2)的意思是?", options: ["固定2字符", "最多存儲2字節的可變長字符串", "2個VARCHAR", "2位數字"], correct: 1 },
            { category: "Oracle數據類型", question: "VARCHAR2和VARCHAR的區別是?", options: ["完全相同", "VARCHAR2是Oracle推薦使用的", "VARCHAR更好", "沒有VARCHAR"], correct: 1 },
            { category: "Oracle數據類型", question: "CHAR(10)和VARCHAR2(10)的主要區別是?", options: ["沒區別", "CHAR固定長度會補空格", "VARCHAR2可變長度", "CHAR可變長度"], correct: 1 },
            { category: "Oracle數據類型", question: "NUMBER數據類作用於存儲?", options: ["文本", "數字(整數和   數)", "日期", "二進制"], correct: 1 },
            { category: "Oracle數據類型", question: "NUMBER(5,2)表示什麼?", options: ["5位整數2位小數", "總共5位數字其中2位小數", "5+2=7位數字", "5除以2"], correct: 1 },
            { category: "Oracle數據類型", question: "DATE數據類型存儲什麼?", options: ["只有日期", "日期和時間", "只有時間", "時區"], correct: 1 },
            { category: "Oracle數據類型", question: "TIMESTAMP和DATE的主要區別是?", options: ["沒區別", "TIMESTAMP精度更高(到分秒)", "DATE更   確", "TIMESTAMP只存日期"], correct: 1 },
            { category: "Oracle數據類型", question: "CLOB數據類型用於存儲?", options: ["小文本", "大型   符數據", "二進制", "數字"], correct: 1 },
            { category: "Oracle數據類型", question: "BLOB數據類型用於存儲?", options: ["文本", "大型二進制對象(如圖片)", "數字", "日期"], correct: 1 },
            { category: "Oracle數據類型", question: "NVARCHAR2中的N代表什麼?", options: ["New", "National(支持Unicode)", "Number", "Null"], correct: 1 },
            { category: "Oracle數據類型", question: "RAW   據類型用於?", options: ["原始二進制數據", "文本", "數字", "日期"], correct: 0 },
            { category: "Oracle數據類型", question: "LONG數據類型最多可存儲多少?", options: ["255字節", "4000字節", "2GB", "無限制"], correct: 2 },
            { category: "Oracle數據類型", question: "VARCHAR2最大長度是多少字節?", options: ["255", "2000", "4000", "32767"], correct: 2 },
            { category: "Oracle數據類型", question: "ROWID數據類型存儲什麼?", options: ["行號", "行的物理地址", "行數據", "行名稱"], correct: 1 },
            { category: "Oracle數據類型", question: "BFILE數據類型用於?", options: ["存儲文件內容", "存儲指向外部文件的指針", "備份文件", "壓縮文件"], correct: 1 },
            { category: "Oracle數據類型", question: "INTERVAL YEAR TO MONTH用於?", options: ["存儲日期", "存儲年月間隔", "計算年齡", "存儲時間"], correct: 1 },
            { category: "Oracle數據類型", question: "INTERVAL DAY TO SECOND用於?", options: ["存儲日期", "存儲天到秒的時間間隔", "存儲時間點", "計算年齡"], correct: 1 },
            { category: "Oracle數據類型", question: "BINARY_FLOAT和NUMBER的區別是?", options: ["沒   別", "BINARY_FLOAT是二進制浮點數", "NUMBER是浮點數", "BINARY_FLOAT存文本"], correct: 1 },
            { category: "Oracle數據類型", question: "XMLType數據類型用於?", options: ["存儲文本", "存儲和處理XML文檔", "存儲HTML", "存儲JSON"], correct: 1 },
            { category: "Oracle數據類型", question: "SDO_GEOMETRY是什麼類型?", options: ["日期類型", "空間/地理數據類型", "文本類型", "數字類型"], correct: 1 },

            // PostgreSQL
            { category: "PostgreSQL", question: "PostgreSQL的默認端口是?", options: ["3306", "5432", "1521", "27017"], correct: 1 },
            { category: "PostgreSQL", question: "PostgreSQL支持什麼類型的數據?", options: ["只有關聯式", "關聯式和JSON", "只有NoSQL", "只有XML"], correct: 1 },
            { category: "PostgreSQL", question: "PostgreSQL的MVCC是什麼?", options: ["備份機制", "多版本並發控制", "索引類型", "查詢優化"], correct: 1 },
            { category: "PostgreSQL", question: "PostgreSQL的許可證類型是?", options: ["商業", "PostgreSQL許可(類BSD)", "GPL", "MIT"], correct: 1 },

            // NoSQL
            { category: "NoSQL", question: "NoSQL的全稱是?", options: ["No SQL", "Not Only SQL", "New SQL", "Next SQL"], correct: 1 },
            { category: "NoSQL", question: "MongoDB是什麼類型的NoSQL?", options: ["鍵值", "文檔", "列族", "圖形"], correct: 1 },
            { category: "NoSQL", question: "Redis是什麼類型的NoSQL?", options: ["鍵值存儲", "文檔", "列族", "圖形"], correct: 0 },
            { category: "NoSQL", question: "MongoDB的默認端口是?", options: ["3306", "5432", "6379", "27017"], correct: 3 },
            { category: "NoSQL", question: "Redis的默認端口是?", options: ["3306", "5432", "6379", "27017"], correct: 2 },
            { category: "NoSQL", question: "CAP定理的三個要素不包括?", options: ["一致性", "可用性", "分區容錯", "便利性"], correct: 3 },
            { category: "NoSQL", question: "文檔資料庫存儲數據的格式通常是?", options: ["XML", "JSON/BSON", "CSV", "TXT"], correct: 1 },
            { category: "NoSQL", question: "Cassandra是什麼類型的NoSQL?", options: ["文檔", "鍵值", "列族", "圖形"], correct: 2 },
            { category: "NoSQL", question: "Neo4j是什麼類型的NoSQL?", options: ["文檔", "鍵值", "列族", "圖形"], correct: 3 },
            { category: "NoSQL", question: "Redis除了緩存還常用於?", options: ["文件存儲", "消息隊列", "圖像處理", "視頻編輯"], correct: 1 },

            // 資料庫設計與優化
            { category: "設計優化", question: "資料庫連接池的作用是?", options: ["備份連接", "重用連接提高性能", "加密連接", "監控連接"], correct: 1 },
            { category: "設計優化", question: "讀寫分離的目的是?", options: ["備份數據", "提高並發性能", "加密數據", "壓縮數據"], correct: 1 },
            { category: "設計優化", question: "分庫分表的主要目的是?", options: ["備份", "分散負載", "加密", "壓縮"], correct: 1 },
            { category: "設計優化", question: "緩存穿透是什麼?", options: ["緩存滿了", "查詢不存在的數據", "緩存失效", "緩存更新"], correct: 1 },
            { category: "設計優化", question: "緩存雪崩   指?", options: ["緩存變大", "大量緩存同時   效", "緩存損壞", "緩存滿了"], correct: 1 },
            { category: "設計優化", question: "慢查詢日誌用於?", options: ["記錄所有查詢", "記錄執行慢的查詢", "備份數據", "加密日誌"], correct: 1 }
        ];

        // 電腦配置軟件硬件題庫(擴展computerDatabase)
        const computerConfigDatabase = computerDatabase.concat([
            // Windows系統
            { category: "Windows", question: "Windows 11的最低TPM版本要求是?", options: ["TPM 1.0", "TPM 1.2", "TPM 2.0", "不需要TPM"], correct: 2 },
            { category: "Windows", question: "Windows的註冊表編輯器命令是?", options: ["regedit", "msconfig", "cmd", "control"], correct: 0 },
            { category: "Windows", question: "Windows的安全模式進入方式是?", options: ["F2", "F8或Shift+重啟", "F10", "Del"], correct: 1 },
            { category: "Windows", question: "磁碟碎片整理對SSD是否有幫助?", options: ["很有幫助", "沒幫助且會減少壽命", "稍有幫助", "必須進行"], correct: 1 },
            { category: "Windows", question: "Windows的虛擬內存是什麼?", options: ["RAM擴展", "硬碟   間充當內存", "顯存", "緩存"], correct: 1 },
            { category: "Windows", question: "NTFS和FAT32的主要區別是?", options: ["速度", "NTFS支持更大文件", "FAT32更新", "沒區別"], correct: 1 },
            { category: "Windows", question: "Windows Update的重要性在於?", options: ["佔用空間", "修復安全漏洞和提升穩定性", "減慢速度", "刪除文件"], correct: 1 },
            { category: "Windows", question: "Hyper-V是什麼?", options: ["遊戲模式", "虛擬化技術", "瀏覽器", "防毒軟件"], correct: 1 },
            { category: "Windows", question: "DirectX主要用於?", options: ["文檔處理", "遊戲和多媒體", "網絡連接", "系統備份"], correct: 1 },
            { category: "Windows", question: "Windows Defender是什麼?", options: ["文件管理器", "內建防毒軟件", "瀏覽器", "播放器"], correct: 1 }
        ]);

        // 遊戲狀態
        let currentCategory = ''; // 當前選擇的類別
        let currentLevel = 1;
        let score = 0;
        let coins = 0; // 金幣（與總分同步顯示）
        let answeredQuestions = 0;
        let totalQuestions = 5; // 包含額外挑戰題，共5題
        let currentQuestions = [];
        let skipTokensUsed = 0; // 已使用的免死金牌次數
        let acceleratorUsed = { light: 0, standard: 0, extreme: 0 }; // 記錄每種加速器使用次數（無限制，僅統計）
        let usedPhones = []; // 記錄已使用的手機，避免重複
        let usedCombinations = new Set(); // 記錄已使用的題目組合，確保不重複
        let levelScore = 0; // 當前關卡的臨時分數

        // 计时器相关变量
        let timerInterval = null;
        let timeRemaining = 25; // 25秒倒计时
        const TIMER_DURATION = 25;
        let timerStarted = false; // 追蹤計時器是否已經啟動
        let correctAnswers = 0; // 當前關卡答對的題數
        let sessionStartTime = Date.now(); // 記錄遊戲開始時間
        let levelScores = {}; // 記錄每關的最高分數 {關卡: 分數}
        let retryUsed = {}; // 記錄每關是否已使用重做機會 {關卡: boolean}
        let comboCount = 0; // 连击计数
        let comboTimeout = null; // 连击超时计时器

        // DOM元素
        const scoreElement = document.getElementById('score');
        const levelElements = document.querySelectorAll('.level');
        const challengeContents = [
            document.getElementById('content1'),
            document.getElementById('content2'),
            document.getElementById('content3'),
            document.getElementById('content4')
        ];
        const optionsContainers = [
            document.getElementById('options1'),
            document.getElementById('options2'),
            document.getElementById('options3'),
            document.getElementById('options4')
        ];
        const bonusContent = document.getElementById('bonusContent');
        const bonusOptions = document.getElementById('bonusOptions');
        const backToHomeBtn = document.getElementById('backToHomeBtn');
        const nextLevelBtn = document.getElementById('nextLevelBtn');
        const resultModal = document.getElementById('resultModal');
        const modalTitle = document.getElementById('modalTitle');
        const modalMessage = document.getElementById('modalMessage');
        const modalScore = document.getElementById('modalScore');
        const closeModalBtn = document.getElementById('closeModalBtn');
        const retryButtonContainer = document.getElementById('retryButtonContainer');
        const retryLevelBtn = document.getElementById('retryLevelBtn');
        const coinsElement = document.getElementById('coinsDisplay');
        const skipLevelBtn = document.getElementById('skipLevelBtn');
        const skipInfo = document.getElementById('skipInfo');
        const accelerator1Btn = document.getElementById('accelerator1Btn');
        const accelerator2Btn = document.getElementById('accelerator2Btn');
        const accelerator3Btn = document.getElementById('accelerator3Btn');

        // 初始化遊戲
        function initGame() {
            score = 0;
            currentLevel = 1;
            usedPhones = []; // 重置已使用手機記錄
            usedCombinations = new Set(); // 重置已使用題目組合
            sessionStartTime = Date.now(); // 記錄新的遊戲開始時間
            updateScore();
            updateLevelIndicator();
            generateQuestions();
            nextLevelBtn.disabled = true;
        }

        // 更新分數顯示
        function updateScore() {
            scoreElement.textContent = score;
            // 同步金幣為目前總分 (允許負數)
            coins = score;
            if (coinsElement) coinsElement.textContent = coins;  // 顯示格式為 金幣: $數字$

            // 根據金幣和已使用次數計算免死金牌狀態
            const requiredCoins = skipTokensUsed === 0 ? 500 : skipTokensUsed === 1 ? 1000 : 999999;
            const canUseSkip = skipTokensUsed < 2 && coins >= requiredCoins && currentLevel <= 18; // 最多2次，且不能在19-20關使用

            if (skipInfo) {
                if (skipTokensUsed >= 2) {
                    skipInfo.textContent = `免死金牌: 已用完 (2/2)`;
                } else if (canUseSkip) {
                    skipInfo.textContent = `免死金牌: 可用 (${skipTokensUsed}/2)`;
                } else if (currentLevel > 18) {
                    skipInfo.textContent = `免死金牌: 最後   關無法使用`;
                } else {
                    skipInfo.textContent = `免死金牌: 金幣不足 (需要 $${requiredCoins})`;
                }
            }

            if (skipLevelBtn) {
                skipLevelBtn.disabled = !canUseSkip;
                // 更新按钮文字
                if (skipTokensUsed >= 2) {
                    skipLevelBtn.textContent = `免死金牌已用完`;
                } else if (currentLevel > 18) {
                    skipLevelBtn.textContent = `最後兩關無法跳過`;
                } else if (canUseSkip) {
                    skipLevelBtn.textContent = `使用免死金牌 (-$${requiredCoins}) 跳過2關`;
                } else {
                    skipLevelBtn.textContent = `使用   死金牌 (需要 $${requiredCoins})`;
                }
            }
        }

        // 產生每題的簡短解釋（若題目已包含 explanation 字段則使用該字段）
        function generateExplanationText(questionObj) {
            if (questionObj.explanation) return questionObj.explanation;
            const correct = (questionObj.options && questionObj.options[questionObj.correctIndex]) || '正確選項';
            // 根據類別和題型回傳簡短通用解釋
            if (!selectedCategory || selectedCategory === 'phone' || questionObj.type && questionObj.type.includes('規格')) {
                if (/年推出/.test(correct)) {
                    return `正確答案為 ${correct}。該選項為該機型的發布年份及首發價格。`;
                }
                return `正確答案為 ${correct}。此選項與該機型的官方規格相符。`;
            }
            // 其他題庫通用解釋
            return `正確答案為 ${correct}。根據此領域的常識或官方資料，此為正確選項。`;
        }

        // 更新關卡指示器
        function updateLevelIndicator() {
            levelElements.forEach((level, index) => {
                if (index + 1 === currentLevel) {
                    level.classList.add('active');
                } else {
                    level.classList.remove('active');
                }
            });
        }

        // AI人工智能題庫
        const aiQuestions = [
            { question: "以下哪個是深度學習的框架？", options: ["TensorFlow", "MySQL", "Apache", "WordPress"], correct: 0 },
            { question: "GPT代表什麼？", options: ["General Processing Tool", "Generative Pre-trained Transformer", "Graphics Processing Technology", "Global Processing Task"], correct: 1 },
            { question: "以下哪個不是機器學習的類型？", options: ["監督式學習", "非監督式學習", "強化學習", "隨機式學習"], correct: 3 },
            { question: "神經網絡中的「神經元」是什麼？", options: ["生物細胞", "計算單元", "硬件設備", "程式語言"], correct: 1 },
            { question: "以下哪個公司開發   ChatGPT？", options: ["Google", "Microsoft", "OpenAI", "Meta"], correct: 2 },
            { question: "CNN通常用於處理什麼類型的數據？", options: ["文本", "圖像", "音頻", "視頻"], correct: 1 },
            { question: "什麼是過擬合(Overfitting)?", options: ["模型訓練不足", "模型過度適應訓練數據", "數據量太少", "學習率太高"], correct: 1 },
            { question: "以下哪個是自然語言處理技術？", options: ["BERT", "CNN", "GAN", "VAE"], correct: 0 },
            { question: "什麼是遷移學習（Transfer Learning）？", options: ["將數據從一個地方轉移到另一個地方", "將已訓練模型應用到新任務", "轉換數據格式", "遷移   務器"], correct: 1 },
            { question: "以下哪個不是激活函數？", options: ["ReLU", "Sigmoid", "Tanh", "Gradient"], correct: 3 },
            { question: "什麼是反向傳播？", options: ["向後走的算法", "計算梯度的算法", "數據傳輸方式", "神經網絡結構"], correct: 1 },
            { question: "以下哪個是強化學習的概念？", options: ["獎勵", "標籤", "特徵", "權重"], correct: 0 },
            { question: "什麼是生成對抗網絡（GAN）？", options: ["兩個神經網絡互相競爭", "單一神經網絡", "數據清理工具", "優化算法"], correct: 0 },
            { question: "以下哪個是AI的應用領域？", options: ["圖像識別", "打印文檔", "複製文件", "關閉電腦"], correct: 0 },
            { question: "什麼是特徵工程？", options: ["建造工程", "選擇和轉換數據特徵", "硬件設計", "網絡架構"], correct: 1 },
            { question: "深度學習需要什麼來訓練？", options: ["小量數據", "大量數據", "無需數據", "只需代碼"], correct: 1 },
            { question: "以下哪個是機器學習的評估指標？", options: ["準確率", "速度", "顏色", "大小"], correct: 0 },
            { question: "什麼是梯   下降？", options: ["下山的方法", "優化算法", "數據類型", "編程語言"], correct: 1 },
            { question: "以下哪個是預訓練模型？", options: ["BERT", "HTML", "CSS", "SQL"], correct: 0 },
            { question: "什麼是超參數？", options: ["很大的參數", "需要手動設置的參數", "自動學習的參數", "無關的參數"], correct: 1 }
        ];

        // 在初始化時合併額外題目並去重（以 question 文本為鍵）
        // NOTE: merge is executed later after all question arrays are declared to avoid TDZ errors

        // 文字輸入題庫 - AI相關（可混合在多選題中）
        const aiTextQuestions = [
            { question: "請寫出用於深度學習的開源框架名稱，例如 TensorFlow 或 PyTorch（兩者之一即可）", correctText: "TensorFlow", type: "text" },
            { question: "ChatGPT    由哪家公司開發的？請寫出公司名稱（英文或中文都可）", correctText: "OpenAI", type: "text" },
            { question: "CNN 通常用於處理哪種類型的數據？（一個單詞）", correctText: "圖像", type: "text" },
            { question: "神經網絡中的反向傳播(Backpropagation)主要用於計算什麼？", correctText: "梯度", type: "text" },
            { question: "什麼是過擬合(Overfitting)？   單解釋", correctText: "模型過度適應訓練數據", type: "text" }
        ];

        // 新增：電腦配置軟件硬件題庫（供 computer-config 類別使用）
        const computerConfigQuestions = [
            { question: "BIOS 的全稱是什麼？", options: ["Basic Input Output System", "Binary Input Output System", "Basic Integrated OS", "Boot Interface System"], correct: 0 },
            { question: "進入 BIOS/UEFI 常見的按鍵是哪一個？", options: ["F2 或 Delete", "Ctrl+C", "Alt+F4", "F11"], correct: 0 },
            { question: "Windows 11 要求的 TPM 最低版本通常為？", options: ["TPM 1.0", "TPM 1.2", "TPM 2.0", "不需要 TPM"], correct: 2 },
            { question: "組裝電腦時，哪個介面主要用於安裝顯示卡？", options: ["SATA", "M.2", "PCIe x16", "USB"], correct: 2 },
            { question: "路由器(Router)、交換器(Switch)與數據機(Modem)的主要差別是？", options: ["三者相同", "Modem 連接網際網路，Router 負責路由並分發網路，Switch 連接內網設備", "Router 用於儲存，Switch 用於加速，Modem 用於顯示", "只有 Router 需要電源"], correct: 1 },
            { question: "RJ45 水晶頭常用於什麼連接？", options: ["電源線", "網絡以太網線", "音訊線", "HDMI"], correct: 1 },
            { question: "Cisco Packet Tracer 通常用來模擬什麼？", options: ["圖像編輯", "網絡拓樸與教學模擬", "遊戲開發", "資料庫管理"], correct: 1 },
            { question: "哪種網線類   通常適用於數據中心的高速連接？", options: ["Cat5e", "Cat6", "Cat6a/Cat7/Cat8", "電話線"], correct: 2 },
            { question: "在主機板上，BIOS/UEFI 設定通常可以調整哪項？", options: ["GPU 的 VRAM 大小", "開機順序 (Boot Order) 與超頻設定", "網頁內容", "系統主題色"], correct: 1 },
            { question: "安裝硬碟時若要讓系統辨識 NVMe SSD，應插在哪個插槽？", options: ["PCIe x1", "M.2 插槽", "SATA 插槽", "USB 介面"], correct: 1 }
        ];

        // 額外 電腦配置 題庫擴展
        const computerConfigQuestionsExtra = [
            { question: "BIOS/UEFI 中的 Fast Boot 選項主要目的是?", options: ["縮短系統開機時間", "提高遊戲FPS", "增強安全性", "清除硬碟"], correct: 0 },
            { question: "何者不是 M.2 接口的特性？", options: ["支持 NVMe", "支    SATA 模式", "一定提供外接電源", "尺寸變化如 2242/2280"], correct: 2 },
            { question: "SSD 的 TBW (Total Bytes Written) 指的是什麼？", options: ["總寫入耐久度", "傳輸速   ", "容量大小", "保固月份"], correct: 0 },
            { question: "在 Windows 下查看網路設定常用命令是?", options: ["ifconfig", "ipconfig", "netstat -a", "route"], correct: 1 },
            { question: "在 BIOS 中開啟 XMP 的作用是？", options: ["提高記憶體頻率以達到標示速度", "降低 CPU 溫度", "關閉集成顯示卡", "解鎖額外 SATA 插槽"], correct: 0 },
            { question: "顯示卡驅動導致系統黑屏時通常建議的處理方式是?", options: ["更新 BIOS", "進入安全模式並回滾或重新安裝驅動", "更換硬碟", "刪除系統日誌"], correct: 1 },
            { question: "電腦在高負載下 CPU 溫度長期過高會導致?", options: ["性能提升", "硬體壽命降低   不穩定", "系統自動降頻變快", "無影響"], correct: 1 },
            { question: "何者為常見的電源單位(PSU)效率等級標示?", options: ["80 PLUS Bronze/Silver/Gold/Platinum", "ISO9000", "RoHS", "CE"], correct: 0 },
            { question: "PCIe 4.0 與 PCIe 3.0 相比主要差異是?", options: ["供電接口不同", "每通道頻寬增加約一倍", "物理介面完全不同", "只支援服   器用途"], correct: 1 },
            { question: "為何需要定期更新主機板的 BIOS/UEFI？", options: ["修復相容性問題與提升穩定性", "增加機箱美觀", "提升   速", "增加更多 USB 插槽"], correct: 0 }
        ];

        // 額外 資料庫 題庫擴展
        const databaseDatabaseExtra = [
            { category: "SQL", question: "何者描述索引的主要用途？", options: ["增加寫入速度", "加速查詢速度但可能降低寫入效能", "壓縮表大小", "加密欄位"], correct: 1 },
            { category: "SQL", question: "什麼是事務(Transaction)的隔離級別 REPEATABLE READ 的一個特性？", options: ["可見到其它事務未提交的變更", "防止不可重複讀(Non-repeatable read)", "防止幻讀(phantom read)", "沒有任何隔離"], correct: 1 },
            { category: "Oracle", question: "在 Oracle 中, VARCHAR2(2) 表示什麼?", options: ["固定長度 2", "最多 2 字元的可變長字串", "數字型別", "二進制資料"], correct: 1 },
            { category: "SQL", question: "在 SQL 中, 建立複合主鍵的語法通常需要?", options: ["在 CREATE TABLE 中同時指定多個欄位為 PRIMARY KEY", "使用 ALTER TABLE    入索引", "只能在單欄位上建立", "使用 UNIQUE CONSTRAINT 替代"], correct: 0 },
            { category: "SQL", question: "何者為避免 SQL 注   的安全做法？", options: ["使用字串拼接建立 SQL", "使用參數化查詢(Prepared Statements)", "在前端過濾後端接受任何內容", "直接信任使用者輸入"], correct: 1 },
            { category: "PostgreSQL", question: "PostgreSQL 中 JSONB 與 JSON 的主要差異是？", options: ["JSONB 儲存為二進制格式並具索引優勢", "JSONB 不能儲存巢狀物件", "JSON 為二進制格式", "兩者無差別"], correct: 0 },
            { category: "MySQL", question: "MySQL 的 EXPLAIN 用途為何？", options: ["查看查詢執行計劃以優化查詢", "執行完整備份", "建立索引", "清理表格"], correct: 0 },
            { category: "SQL", question: "哪個語句可以用於在表格新增欄位？", options: ["ALTER TABLE ADD COLUMN", "UPDATE TABLE ADD", "INSERT COLUMN INTO", "CREATE COLUMN"], correct: 0 },
            { category: "Oracle", question: "在 Oracle 中, 用於生成唯一流水號常見的物件是?", options: ["SEQUENCE", "TRIGGER", "INDEX", "VIEW"], correct: 0 },
            { category: "SQL", question: "何者不是正規化的好處？", options: ["減少資料冗餘", "提高資料一致性", "降低複雜查詢性能(可能影響)", "避免資料依賴"], correct: 2 },
            { category: "SQL", question: "如何建立一個不可為空且唯一的欄位？", options: ["在欄位上同時加上 NOT NULL 與 UNIQUE", "僅加 UNIQUE 即可", "僅加 NOT NULL 即可", "在應用層處理"], correct: 0 },
            { category: "SQL", question: "在大資料量環境中, 水平分割(Sharding)的目的是？", options: ["提高垂直擴充", "分散資料到多個節點以提升可擴展性", "減少備份次數", "增加資料冗餘"], correct: 1 },
            { category: "SQL", question: "What does ACID stand for in databases?", options: ["Atomicity, Consistency, Isolation, Durability", "Availability, Consistency, Integrity, Durability", "Atomicity, Concurrency, Isolation, Durability", "Access, Control, Integrity, Durability"], correct: 0 }
        ];

        // 商   及市場額外題庫（作為隨機備份與擴充）
        const businessMarketingQuestionsExtra = [
            { question: "什麼是 A/B 測試在市場行銷中的主要用途？", options: ["比較兩種方案以找出較佳表現", "計算利潤", "編寫財務報表", "分析供應鏈"], correct: 0 },
            { question: "CRM 系統最主要的功能是什麼？", options: ["管理客戶   係與互動歷史", "處理薪資", "管理庫存", "設計產品包裝"], correct: 0 },
            { question: "品牌定位 (brand positioning) 的核心在於？", options: ["為目標客群   立獨特且可辨識的價值主張", "減少廣告預算", "裁減員工", "優化供應鏈"], correct: 0 },
            { question: "在投資組合管理中，分散投資的主要目的是什麼？", options: ["降低單一資產帶來的風險", "獲得高頻交易利潤", "進行稅務避險", "保證收益"], correct: 0 },
            { question: "FinTech 常見的應用包括下列哪一項？", options: ["數位支付、P2P 借貸、智能投顧", "紙本帳單寄送", "傳統櫃檯匯款唯一", "實體券商專屬服務"], correct: 0 },
            { question: "KPI 在市場專案中代表什麼？", options: ["關鍵績效指標 (Key Performance Indicator)", "關鍵價格指標", "顧客服務時間", "庫存量"], correct: 0 },
            { question: "在數位行銷中，SEO 主要影響的是哪個面向？", options: ["自然搜尋流量與曝光", "社群軟體貼文數", "線下展會人流", "員工流動率"], correct: 0 },
            { question: "何者屬於 B2B 市場主要特色？", options: ["交易金額較大，決策流程較長", "以個人消費者為對象", "主要靠零售陳列", "依賴電視廣告為主"], correct: 0 },
            { question: "   香港市場推廣新加密產品時，最重要的合規考量為？", options: ["遵   本地金融監管及廣告規範", "只看國際市場", "忽略 KYC", "只做空投"], correct: 0 },
            { question: "內容行銷 (content marketing) 的主要目標是？", options: ["建立信任、養成長期客戶", "直接賣產品給代理商", "降低員工教育成本", "管理供應商關係"], correct: 0 }
        ];

        // 香港樂壇額外題庫（補充年代、歌手、獎項與爭議）
        const hkMusicQuestionsExtra = [
            { question: "哪一位香港歌手以其電影與歌唱雙棲事業聞名，並於90年代備受矚目？", options: ["張國榮", "周潤發", "梁朝偉", "梁家輝"], correct: 0 },
            { question: "『叱咤』榜單主要是由哪種媒體發布？", options: ["   業電台 (Commercial Radio)", "電影院", "報章分類廣告", "唱片店"], correct: 0 },
            { question: "香港流行曲填詞人中，誰常被認為是影響深遠的作詞家？", options: ["林夕", "林俊傑", "周杰倫", "王菲"], correct: 0 },
            { question: "在音樂製作中，'母帶處理 (mastering)' 的主要目的是什麼？", options: ["提升整體音質並準備發行檔案", "填   ", "拍攝 MV", "排練舞台"], correct: 0 },
            { question: "90 年代香港樂壇重要的搖滾樂隊代表是哪一隊？", options: ["Beyond", "Coldplay", "U2", "The Rolling Stones"], correct: 0 },
            { question: "下列哪項常被視為歌手在香港成名的標誌？", options: ["叱咤或十大中文金曲獎的獲獎/上榜", "銀行貸款申請", "商業登記證變更", "英語水平測試"], correct: 0 },
            { question: "當研究歌手的版權收益時，通常需要查閱哪些來源？", options: ["唱片公司分帳、音樂版權組織 (如APRA/PRS 等) 記錄、數位串流分成報表", "新聞隨筆", "社群貼文評論", "演唱會票房外的飲料銷量"], correct: 0 },
            { question: "哪一項不是典型的流行音樂宣傳渠道？", options: ["法庭庭審程序", "電台播放", "音樂節目露面", "社交媒體推廣"], correct: 0 },
            { question: "若要比較兩位歌手在不同年代的影響力，建議使用下列哪種資料？", options: ["榜單表現、媒體曝光、專輯銷量與口碑評價", "戶籍資料", "學歷背景", "住址"], correct: 0 },
            { question: "香港音樂產業中，製作人與公司標準合約通常關注什麼？", options: ["錄音、發行、版權與收益分配條款", "演出衣著顏色", "專輯封面的材質", "海報印刷大小"], correct: 0 }
        ];

        // 手機題庫額外擴充（mobileQuestionsExtra）：覆蓋第1~20關需求範圍
        const mobileQuestionsExtra = [
            // 第一至十關：列出規格猜型號 / 列出型號猜規格 / 猜處理器晶片品牌 / 作業系統版本 / 相機像素技術
            { question: "若手機標示主鏡頭為 48MP，這常代表哪種鏡頭技術？", options: ["高像素主感光元件", "光學縮放為 10x", "僅超廣角", "不支援夜景模式"], correct: 0 },
            { question: "型號 'Galaxy S25 Ultra' 最可能屬於哪個產品等級？", options: ["旗艦級", "中階", "入門級", "功能手機"], correct: 0 },
            { question: "若規格標示 'MTK 9500'，這代表什麼？", options: ["MediaTek 9500 系列處理器 (一線旗艦)", "聯發科 700 系列中階", "高通中階晶片", "舊式單核處理器"], correct: 0 },
            { question: "若手機系統為 'Magic OS 10'，該品牌最可能是？", options: ["Honor/榮耀", "Apple", "Samsung", "Sony"], correct: 0 },
            { question: "若題目列出型號並要求猜出 RAM 容量，最有可能的選項範圍是？", options: ["3GB/4GB/6GB/8GB/12GB/16GB/24GB", "1GB/2GB/3GB/4GB", "32GB/64GB/128GB", "256GB/512GB/1TB"], correct: 0 },
            { question: "若列出型號與簡短規格，要玩家判斷該機是否支援開啟虛擬擴展 RAM（Virtual RAM   時，最可能影響此功能的是？", options: ["作業系統版本與製造商實現", "螢幕尺寸", "相機像素", "是否支援 Wi-Fi 6E"], correct: 0 },
            { question: "列出一款舊款手機規格：3.5吋螢幕、單核心處理器、512MB RAM。請問該款手機最可能是哪個年代？", options: ["2007-2012 年代", "2018-2023 年代", "1995-2000 年代", "2024 年以後"], correct: 0 },
            { question: "若題目列出型號並要求猜出螢幕刷新率 (Hz)，下列哪個選項屬於手機常見刷新率？", options: ["60Hz", "30Hz", "10Hz", "1000Hz"], correct: 0 },
            { question: "某型號標示 IP68，代表什麼？", options: ["防塵防水等級，可抵抗灰塵並在一定深度短時間防水", "僅防塵", "僅防水但不防塵", "代表抗摔等級"], correct: 0 },
            { question: "列出型號後，問 '該機的作業系統迭代版本為何？' 若答案包含 iOS 26 與 iOS 18，哪個是最新版本？", options: ["iOS 26", "iOS 18", "iOS 10", "未來版本"], correct: 0 },

            //    11至20關：列出型號猜相關型號等級（旗艦/中階/入門）、是否有 IP 等級、防護、刷新率、處理能力判斷
            { question: "型號 'Pixel 8a' 在市場定位上最可能屬於？", options: ["中階/中高階", "旗艦級", "入門級", "功能手機"], correct: 0 },
            { question: "某款機型標示有 'IP67'，這表示：", options: ["防塵與可在一定深度短時間浸水", "不防塵但防水", "完全防摔", "代表螢幕抗刮等級"], correct: 0 },
            { question: "列出型號: 'FoneX Pro' 並給出簡短規格，玩家需選擇該機是否為旗艦，若有高通旗艦晶片、1TB 儲存與 120Hz 螢幕，該機最可能為？", options: ["旗艦級", "中階", "入門級", "   穿戴裝置"], correct: 0 },
            { question: "在選項只   出 RAM(GB)：哪個 RAM 容量較適合常常打大型遊戲的玩家？", options: ["12GB 或以上", "4GB", "3GB", "不足以判斷"], correct: 0 },
            { question: "若題目要求分辨處理器品牌：下列哪一項是高通的旗艦系列？", options: ["Snapdragon 8 Gen 系列", "MediaTek Dimensity 7000", "Apple A16", "Exynos 8    列"], correct: 0 },
            { question: "列出型號並問是否有啟用虛擬 RAM 功能，若該機為某家廠商且 OS 版本支援，玩家應如何判斷？", options: ["依官方更新/廠商說明為準", "根據相機像素判斷", "根據價格判定絕對支援", "永遠不支援"], correct: 0 },
            { question: "老款機種題（陷阱）：列出規格 '一元硬幣大小的按鍵、黑白顯示、無觸控'，玩家應選出最可能的型號類別為？", options: ["Feature phone / 功能機 (早   手機)", "智慧型手機", "平板", "手錶"], correct: 0 },
            { question: "列出多個相似型號 (例如：X1、X1 Pro、X1s)，問玩家哪個屬於旗艦級？ 若 Pro 有更佳相機與更高 RAM，則答案為？", options: ["X1 Pro", "X1s", "X1", "都不是"], correct: 0 },
            { question: "若題目列出螢幕尺寸選項，哪一個較常見於大型手機（phablet）？", options: ["6.7吋 或以上", "4.7吋", "3.5吋", "2.8吋"], correct: 0 },
            { question: "列出型號猜年份：若某機配備單鏡 12MP 與 3.5 吋小螢幕，該機最可能於哪段年份發表？", options: ["2007-2012 年代", "2020-2024 年代", "1990-1999 年代", "2018-2019 年代"], correct: 0 },

            // 額外難題：舊款冷門規格與陷阱 (選項會包含相似或易混淆的型號)
            { question: "某舊款手機標明 'QWERTY 實體鍵盤'     2.8 吋螢幕，哪類品牌/型號最可能？", options: ["BlackBerry 類或早期商務機", "最新 iPhone", "Galaxy S Ultra", "Sony Xperia Pro"], correct: 0 },
            { question: "陷阱   ：列出兩個相似型號 'Alpha 7' 和 'Alpha 7i'，若只有一個支援無線充電，如何選出？", options: ["看官方規格標記 wireless charging", "看相機像素較高者", "看螢幕大小較大者", "價格較低者"], correct: 0 },
            { question: "列出多個處理器選項讓玩家猜手機搭載的晶片品牌：哪個選項屬於 MediaTek 的高階命名？", options: ["Dimensity 9000/9500 系列", "Snapdragon 655", "Exynos 2100", "Apple A14"], correct: 0 },
            { question: "列出型號並問其螢幕刷新率，選項包含 60/90/120/144Hz，若該機為 2024 年旗艦通常會選哪個？", options: ["120Hz", "60Hz", "30Hz", "10Hz"], correct: 0 },

            // 防塵防水/抗摔判斷題
            { question: "若題目要求判斷型號是否有抗塵抗水等級，並給出幾個   號，最可靠的判斷方式是？", options: ["參考官方規格與 IP 等級說明", "看相機像素大小", "看螢幕尺寸", "隨意猜測"], correct: 0 },
            { question: "某款手機標示 IP68 與 MIL-STD-810H，最能說明該機為何種特性？", options: ["防塵防水且具軍規抗震/抗摔保護", "僅支援無線充電", "只有防刮玻璃", "不具防水功能"], correct: 0 },
            { question: "列出型號並問 '此機是否支援 eSIM?' 最準確的資訊來源是？", options: ["官方技術規格或電信商說明", "社群討論", "隨機猜測", "查看是否有實體 SIM 卡槽"], correct: 0 }
        ];

        // 在初始化時合併額外題庫並去重（以 question 文本為鍵）
        (function mergeExtras() {
            function mergeDedupe(targetArray, extras) {
                // 防禦性檢查：如果目標陣列不存在或 extras 為空，直接返回
                if (!targetArray) return;
                if (!extras || !extras.length) return;
                const map = new Map();
                //    把原本的加進 map
                (targetArray || []).forEach(q => { if (q && q.question) map.set(q.question, q); });
                extras.forEach(q => { if (q && q.question && !map.has(q.question)) map.set(q.question, q); });
                // 清空並重寫原陣列
                targetArray.length = 0;
                map.forEach(v => targetArray.push(v));
            }

            try {
                if (typeof aiQuestions !== 'undefined') mergeDedupe(aiQuestions, typeof aiQuestionsExtraLocal2 !== 'undefined' ? aiQuestionsExtraLocal2 : []);
                if (typeof computerConfigQuestions !== 'undefined') mergeDedupe(computerConfigQuestions, typeof computerConfigQuestionsExtra !== 'undefined' ? computerConfigQuestionsExtra : []);
                if (typeof databaseDatabase !== 'undefined') mergeDedupe(databaseDatabase, typeof databaseDatabaseExtra !== 'undefined' ? databaseDatabaseExtra : []);
                if (typeof businessMarketingQuestions !== 'undefined') mergeDedupe(businessMarketingQuestions, typeof businessMarketingQuestionsExtra !== 'undefined' ? businessMarketingQuestionsExtra : []);
                if (typeof hkMusicQuestions !== 'undefined') mergeDedupe(hkMusicQuestions, typeof hkMusicQuestionsExtra !== 'undefined' ? hkMusicQuestionsExtra : []);
                if (typeof mobileQuestions !== 'undefined') mergeDedupe(mobileQuestions, typeof mobileQuestionsExtra !== 'undefined' ? mobileQuestionsExtra : []);
            } catch (e) {
                console.error('Error merging extra question banks:', e);
            }
        })();


        // 新增：遊戲   件開發題庫（gameDev）
        const gameDevQuestions = [
            { question: "以下哪個是常用的遊戲引擎？", options: ["Unity", "Laravel", "Django", "Rails"], correct: 0 },
            { question: "哪種語言通常用於 Unity 腳本開發？", options: ["C#", "Python", "PHP", "Ruby"], correct: 0 },
            { question: "哪個引擎以視覺腳本(Visual Scripting)支援聞名   ", options: ["Unreal Engine", "MySQL", "Express", "Flask"], correct: 0 },
            { question: "A* 演算法在遊戲中主要用於？", options: ["路徑尋找", "音效處理", "UI排版", "資源管理"], correct: 0 },
            { question: "哪個資料結構適合做空間分割以加速碰撞檢測？", options: ["四叉樹(Quadtree)", "鏈表(LinkedList)", "哈希表(Hash)", "堆(Heap)"], correct: 0 },
            { question: "多人即時遊戲常用哪種協定以降低延遲？", options: ["TCP", "UDP", "SMTP", "FTP"], correct: 1 },
            { question: "遊戲伺服器採取授權伺服器(Authoritative Server)的主要好處為何？", options: ["客戶端完全控制遊戲邏輯", "減少作弊並保持一致性", "完全不用伺服器", "降低延遲為首要任務"], correct: 1 },
            { question: "使用物件池(Object Pool)的主要目的為   ？", options: ["減少物件頻繁分配/銷毀成本", "增加畫面特效", "提高網路延遲", "改善音效品質"], correct: 0 },
            { question: "在網路同步中常用以改善延遲體驗的技術是？", options: ["客戶端預測(Client-side prediction)", "即時重傳", "阻塞同步", "服務端渲染"], correct: 0 },
            { question: "哪種資料庫適合儲存遊戲的時序事件與遙測？", options: ["關聯式(RDBMS)", "時序資料庫(Time-series)", "圖形資料庫(Graph)", "文件型(NoSQL)"], correct: 1 },
            { question: "在遊戲 UI 設計中，哪項能顯著提升可讀性？", options: ["高對比度文字與清晰按鈕", "過多動態效果", "超小字體", "多層半透明疊加"], correct: 0 },
            { question: "遊戲部署時，版本控制最重要的用途是？", options: ["管理資產與程式碼的變更", "提高FPS", "自動生成關卡", "減少測試"], correct: 0 },
            { question: "關於遊戲性能優化，   列哪項是正確做法？", options: ["減少每幀分配與垃圾回收", "增加密幀   憶體分配", "關閉所有物件回收", "不做任何優化"], correct: 0 },
            { question: "哪個技術常用於降低伺服器負載並水平擴充?", options: ["負載平衡(Load Balancing)", "單體伺服器擴容", "關閉日誌", "直接將所有資料寫到單一磁碟"], correct: 0 },
            { question: "在大型遊戲架構中，哪種模式適合將功能拆分以便維護與擴展？", options: ["微服務(Microservices)", "單一巨型伺服器", "桌面應用", "嵌入式系統"], correct: 0 },
            { question: "哪種設計能減少網路頻寬使用與延遲影響？", options: ["狀態差分(Snapshot Delta) 與壓縮", "頻繁同步全部狀態", "在客戶端儲存所有狀態", "每幀重播整個   景"], correct: 0 },
            { question: "常見的防作弊措施不包括下列哪一項？", options: ["客戶端權威驗證", "伺服器端重新計算關鍵事件", "完全信任客戶端數據", "加密通訊與完整性驗證"], correct: 2 },
            { question: "以下哪個工具常用於分析遊戲性能（FPS、CPU、GPU）？", options: ["Profiler (例如 Unity Profiler)", "Photoshop", "Excel", "Postman"], correct: 0 },
            { question: "在多人遊戲中，負載均衡器（Load Balancer）的主要作用是？", options: ["分散玩家連線到多台伺服器以提高可用性", "減少客戶端渲染負擔", "壓縮遊戲資源", "管理版本控制"], correct: 0 }
        ];

        // 網頁開發題庫
        const webQuestions = [
            { question: "HTML代表什麼？", options: ["HyperText Markup Language", "High Tech Modern Language", "Home Tool Markup Language", "Hyperlinks and Text Markup Language"], correct: 0 },
            { question: "CSS 的主要用途是什麼？", options: ["數據管理", "樣式設計", "伺服器配置", "程式邏輯"], correct: 1 },
            { question: "以下哪個是前端框架？", options: ["Django", "Flask", "React", "Laravel"], correct: 2 },
            { question: "什麼是響應式設計？", options: ["快速響應的設計", "適應不同螢幕尺寸的設計", "自動回覆的設計", "高性能的設計"], correct: 1 },
            { question: "以下哪個不是JavaScript框架？", options: ["Vue.js", "Angular", "Bootstrap", "Svelte"], correct: 2 },
            { question: "什麼是 DOM？", options: ["數據庫管理系統", "文檔物件模型 (Document Object Model)", "數字操作模式", "動態對象方法"], correct: 1 },
            { question: "CSS 中的 Flexbox 用於什麼？", options: ["彈性佈局", "動畫效果", "顏色管理", "字體設計"], correct: 0 },
            { question: "以下哪個是後端語言？", options: ["HTML", "CSS", "JavaScript", "PHP"], correct: 3 },
            { question: "什麼是AJAX？", options: ["一種清潔劑", "異步JavaScript和XML", "高級Java擴展", "   動化JavaScript應用"], correct: 1 },
            { question: "以下哪個HTTP狀態碼表示成功？", options: ["404", "500", "200", "301"], correct: 2 },
            { question: "什麼是Webpack？", options: ["網頁包裝紙", "模塊打包工具", "網站主機", "編程語言"], correct: 1 },
            { question: "REST API中的REST代表什麼？", options: ["Representational State Transfer", "Remote Error System Transfer", "Real Estate System Technology", "Responsive State Template"], correct: 0 },
            { question: "以下哪個是CSS預處理器？", options: ["Sass", "React", "Node.js", "Express"], correct: 0 },
            { question: "什麼是SPA（單頁應用）？", options: ["水療中心應用", "不需要重新加載頁面的應   ", "簡單程序應用", "靜態頁面應用"], correct: 1 },
            { question: "localStorage和sessionStorage的區別是什麼？", options: ["沒有區別", "localStorage永久存儲，sessionStorage會話結束後清除", "sessionStorage容量更大", "localStorage速度更快"], correct: 1 },
            { question: "什麼是CDN？", options: ["內容   發網絡", "中央數據網絡", "客戶端數據節點", "編碼解碼網絡"], correct: 0 },
            { question: "以下哪個是Node.js的包管理器？", options: ["pip", "npm", "gem", "apt"], correct: 1 },
            { question: "什麼是WebSocket？", options: ["網頁插座", "實時雙向通信協議", "Web服務器", "網頁工具包"], correct: 1 },
            { question: "CSS Grid用於什麼？", options: ["網格佈局", "圖像處理", "動畫效果", "數據可視化"], correct: 0 },
            { question: "什麼是Progressive Web App（PWA）？", options: ["專業網頁應用", "具有原生應用特性的網頁應用", "漸進式網頁廣告", "付費網頁應用"], correct: 1 }
        ];

    // 多媒體製作題庫（圖像設計、影音製作、動畫、直播、後期、燈光音效等）
        const multimediaQuestions = [
            { question: "圖像設計中常用的點陣與向量格式分別是？", options: ["JPEG / SVG", "PNG / PNG", "SVG / JPEG", "GIF / BMP"], correct: 0 },
            { question: "影片剪輯軟體中常用於多軌編輯並支援多種格式的是？", options: ["Adobe Photoshop", "Adobe Premiere Pro", "Microsoft Word", "Audacity"], correct: 1 },
            { question: "製作動畫特效與合成常用哪個軟體？", options: ["After Effects", "Excel", "Lightroom", "Notepad"], correct: 0 },
            { question: "直播時常見的開源推播軟體是？", options: ["OBS Studio", "VMware", "Final Cut", "Pro Tools"], correct: 0 },
            { question: "音頻處理中用於調整頻段的工具叫做？", options: ["Compressor", "Limiter", "EQ (Equalizer)", "Reverb"], correct: 2 },
            { question: "拍攝影片時想要淺景深（背景模糊）應該使用什麼設置？", options: ["小光圈(高 f 值)", "大光圈(低 f 值)", "高快門速度", "低 ISO"], correct: 1 },
            { question: "後期去背常用的技術名稱是？", options: ["色鍵(Chroma Key)", "降噪(Noise Reduction)", "轉場(Transition)", "壓縮(Compression)"], correct: 0 },
            { question: "修圖時批次色彩調整常用的軟體是？", options: ["Lightroom", "Premiere Pro", "Blender", "OBS"], correct: 0 },
            { question: "哪個軟體常用於3D建模與渲染、並且免費且   源？", options: ["Maya", "3ds Max", "Blender", "Cinema 4D"], correct: 2 },
            { question: "直播中要讓觀眾聽得更清楚，常用   項設備？", options: ["混音器(Audio Mixer)", "滑鼠", "硬碟", "螢幕保護貼"], correct: 0 },
            { question: "在舞台燈光控制台中，常用來快速切換場景的是？", options: ["Cue", "Bitrate", "FPS", "Latency"], correct: 0 },
            { question: "音訊處理中，用於減少音量突變並平衡動態的處理器是？", options: ["Equalizer", "Compressor", "Limiter", "Reverb"], correct: 1 },
            { question: "拍攝時提高快門速度會影響畫面表現為？", options: ["運動模糊增加", "運動模糊減少", "景深變淺", "色彩飽和度改變"], correct: 1 },
            { question: "為了直播順暢，網路上傳頻寬建議至少是多少（1080p 30fps）？", options: ["1 Mbps", "3-6 Mbps", "50 Mbps", "100 Mbps"], correct: 1 },
            { question: "3D渲染時常用到的法線貼圖(Normal Map)用於？", options: ["改變顏色", "模擬細節光照而不增加幾何", "增加檔案大小", "移除雜訊"], correct: 1 },
            { question: "在影像後製中，什麼是色鍵(Chroma Key)通常用來去掉哪種顏色   景？", options: ["黑色", "白色", "綠色或藍色", "紅色"], correct: 2 },
            { question: "VR/AR內容開發常用於哪種場景？", options: ["沉浸式培訓與互動體驗", "文本編輯", "資料庫備份", "靜態網頁"], correct: 0 },
            { question: "常見的無損音訊格式？", options: ["MP3", "AAC", "WAV/FLAC", "OGG"], correct: 2 },
            { question: "直播時為了降低回音與雜音，常用哪項設備或處理？", options: ["使用心型指向性麥   風並在軟體中使用噪音門和降噪處理", "關閉麥克風增益", "提高輸出音量", "使用內建麥克風"], correct: 0 },
            { question: "在音訊後製中，為了讓語音更清晰，常見的處理順序是？", options: ["EQ -> Compressor -> De-esser -> Limiter", "Limiter -> De-esser -> EQ -> Compressor", "隨機處理", "只用Reverb"], correct: 0 }
        ];

        // 編程開發題庫
        const programmingQuestions = [
            { question: "以下哪個是編譯型語言   ", options: ["Python", "JavaScript", "C++", "Ruby"], correct: 2 },
            { question: "什麼是變數？", options: ["固定的值", "存儲數據的容器", "程式的名稱", "函數的返回值"], correct: 1 },
            { question: "以下哪個是物件導向程式設計的特性？", options: ["封裝", "編譯", "解析", "運算"], correct: 0 },
            { question: "Git是什麼？", options: ["程式語言", "版本控   系統", "資料庫", "操作系統"], correct: 1 },
            { question: "以下哪個不是循環結構？", options: ["for", "while", "if", "do-while"], correct: 2 },
            { question: "什麼是API？", options: ["應用程式介面", "高級程式指令", "自動程式集成", "應用程式識別"], correct: 0 },
            { question: "以下哪個是動態類型語言？", options: ["Java", "C#", "Python", "C++"], correct: 2 },
            { question: "什麼是遞歸？", options: ["函數調用自己", "重複的循環", "變數的賦值", "數組的遍歷"], correct: 0 },
            { question: "以下哪個是IDE？", options: ["GitHub", "Visual Studio Code", "Chrome", "Docker"], correct: 1 },
            { question: "什麼是Stack（堆疊）？", options: ["先進先出的數據結構", "後進先出的數據結構", "隨機存取的數據結構", "樹狀的數數據結構"], correct: 1 },
            { question: "什麼是多態性（Polymorphism）？", options: ["多個形態", "同一介面不同實現", "多個變數", "多個函數"], correct: 1 },
            { question: "以下哪個是排序算法？", options: ["二分搜索", "快速排序", "哈希表", "鏈表"], correct: 1 },
            { question: "什麼是閉包（Closure）？", options: ["關閉程序", "函數能訪問外部變數", "循環結束", "文件關閉"], correct: 1 },
            { question: "Big O表示法用於描述什麼？", options: ["代碼美觀度", "算法複雜度", "變數大小", "函數數量"], correct: 1 },
            { question: "什麼是繼承（Inheritance）？", options: ["遺產分配", "子類獲得父類特性", "變數傳遞", "函數調用"], correct: 1 },
            { question: "以下哪個是設計模式？", options: ["單例模式", "循環模式", "變數模式", "編譯模式"], correct: 0 },
            { question: "什麼是異常處理？", options: ["刪除錯誤", "捕獲和處理錯誤", "避免運行", "重啟程序"], correct: 1 },
            { question: "以下哪個是數據結構？", options: ["循環", "條件", "鏈表", "變數"], correct: 2 },
            { question: "什麼是DEBUG？", options: ["製造錯誤", "查找和修復錯誤", "運行程序", "編寫代碼"], correct: 1 },
            { question: "以下哪個是函數式編程   言？", options: ["C", "Java", "Haskell", "Assembly"], correct: 2 }
        ];

        // 文字輸入題庫 - 編程相關
        const programmingTextQuestions = [
            { question: "請寫出一種編譯型程式語言的名稱（例    C、C++、Java）", correctText: "C++", type: "text" },
            { question: "什麼是 Git？請用一句話解釋", correctText: "版本控制系統", type: "text" },
            { question: "OOP 中表示'封裝'的英文縮寫是什麼？", correctText: "Encapsulation", type: "text" },
            { question: "請寫出一個常見的設計模式名稱", correctText: "單例模式", type: "text" },
            { question: "什麼是 API？用英文縮寫或中文解釋", correctText: "應用程式介面", type: "text" }
        ];

        // 網   雲端保安題庫
        const securityQuestions = [
            // 原有題目
            { question: "什麼是防火牆？", options: ["防止火災的牆", "網絡安全系統", "數據備份工具", "加密軟件"], correct: 1 },
            { question: "HTTPS中的S代表什麼？", options: ["Speed", "Secure", "Server", "System"], correct: 1 },
            { question: "什麼是DDoS攻擊？", options: ["數據刪除攻擊", "分散式阻斷服務攻擊", "直接數據攻擊", "動態域名攻擊"], correct: 1 },
            { question: "以下哪個是雲端服務提供商？", options: ["Adobe", "AWS", "Oracle", "Linux"], correct: 1 },
            { question: "什麼是VPN？", options: ["病毒防護網絡", "虛擬私人網絡", "視頻播放網絡", "驗證程序節點"], correct: 1 },
            { question: "以下哪個是加密算法？", options: ["HTTP", "FTP", "AES", "DNS"], correct: 2 },
            { question: "什麼是雙因素認證？", options: ["使用兩個密碼", "使用兩種驗證方式", "兩個人同時登錄", "兩台設備同步"], correct: 1 },
            { question: "什麼是釣魚攻擊（Phishing）？", options: ["捕魚遊戲", "欺騙用戶洩露信息", "網絡測速", "數據分析"], correct: 1 },
            { question: "以下哪個是雲端部署模型？", options: ["公有雲", "開放雲", "免費雲", "快速雲"], correct: 0 },
            { question: "什麼是 SQL 注入（SQL Injection）？", options: ["數據庫備份", "惡意構造的 SQL 語句注入以提取或破壞資料", "數據查詢優化", "SQL 語法錯誤"], correct: 1 },

            // 新增網絡保安題目
            { question: "網絡安全(Cybersecurity)是指什麼?", options: ["只保護硬件", "保護電腦、網路、程式、系統和資料免受數位威脅", "只保護軟件", "只保護網絡"], correct: 1 },
            { question: "安全漏洞可以分為哪三類?", options: ["硬體、軟體   人為", "內部、外部和混合", "高、中、低危險", "已知、未知和零日"], correct: 0 },
            { question: "防火牆(Firewall)的主要作用是?", options: ["加速網絡", "監控和控制網絡流量", "儲存數據", "加密文件"], correct: 1 },
            { question: "釣魚攻擊(Phishing)是指什麼?", options: ["網絡釣魚遊戲", "通過偽造郵件或網站騙取敏感資訊", "捕魚軟件", "網絡速度測試"], correct: 1 },
            { question: "勒索軟體(Ransomware)的主要目的是?", options: ["刪除數據", "加密數據並勒索贖金", "監控用戶", "加速電腦"], correct: 1 },
            { question: "惡意軟體 (Malware) 的全稱是?", options: ["Malicious Software", "Malfunction Software", "Malfeasance Software", "Malformed Software"], correct: 0 },
            { question: "入侵檢測系統(IDS)的主要功能是?", options: ["阻止所有流量", "檢測可疑活動和潛在威脅", "加密數據", "備份系統"], correct: 1 },
            { question: "後門(Backdoor)在安   漏洞中是指什麼?", options: ["建築物的後門", "繞過正常認證的秘密訪問方   ", "防火牆的出口", "數據備份通道"], correct: 1 },
            { question: "威脅情報 (Threat Intelligence) 的作用是?", options: ["收集和分析潛在威脅信息", "監控員工活動", "加密通訊", "備份數據"], correct: 0 },
            { question: "數據遺失防護(DLP)主要用於?", options: ["恢復丟失數據", "防止敏感數據外洩", "加速數據傳輸", "   縮數據"], correct: 1 },
            { question: "SIEM的全全稱是?", options: ["Security Information and Event Management", "System Information and Error Management", "Security Internet and Email Management", "System Integration and Event Monitoring"], correct: 0 },
            { question: "加密技術在網絡保安中的主要作用是?", options: ["加速傳輸", "保護數據機密性", "壓縮文件", "刪除病毒"], correct: 1 },
            { question: "雙因素認證(2FA)的優勢是?", options: ["登入更快", "提供額外安全層", "不需要密碼", "自動登入"], correct: 1 },
            { question: "零日漏洞 (Zero-day) 是指?", options: ["已修復的漏洞", "尚未被發現或修補的安全漏洞", "發布零天的軟件", "零風險的系統"], correct: 1 },
            { question: "VPN的主要用途是?", options: ["加速網絡", "建立加密的網絡連接", "下載文件", "玩遊戲"], correct: 1 },

            // 新增雲端服務題目
            { question: "IaaS 的全稱是?", options: ["Internet as a Service", "Infrastructure as a Service", "Information as a Service", "Integration as a Service"], correct: 1 },
            { question: "PaaS的全稱是?", options: ["Platform as a Service", "Programming as a Service", "Protocol as a Service", "Protection as a Service"], correct: 0 },
            { question: "SaaS的全稱是?", options: ["Security as a Service", "System as a Service", "Software as a Service", "Server as a Service"], correct: 2 },
            { question: "AWS是哪家公司的雲端服務?", options: ["微軟", "谷歌", "亞馬遜", "蘋果"], correct: 2 },
            { question: "Microsoft Azure是什麼?", options: ["操作系統", "雲端運算平台", "瀏覽器", "辦公軟體"], correct: 1 },
            { question: "Google Cloud Platform(GCP)提供什麼服務?", options: ["只提供郵箱", "只提供搜索", "雲端運算和存儲服務", "只提供地圖"], correct: 2 },
            { question: "雲端儲存的主要優勢是?", options: ["完全免費", "可擴展性和遠程訪問", "不需要網絡", "永不損壞"], correct: 1 },
            { question: "混合雲 (Hybrid Cloud) 是指?", options: ["只使用公有雲", "結合公有雲和私有雲", "   使用私有雲", "不使用雲服務"], correct: 1 },
            { question: "雲端安全的主要挑戰是?", options: ["成本太低", "數據隱私和訪問   制", "速度太快", "容量太小"], correct: 1 },
            { question: "雲端服務中的多租戶(Multi-tenancy)是指?", options: ["一個用戶使用多個服務", "多個用戶共享同一基礎設施", "一個伺服器", "多個數據中心"], correct: 1 },
            { question: "CDN(Content Delivery Network)的主要作用是?", options: ["儲存數據", "加速內容分發", "加密文件", "備份系統"], correct: 1 },
            { question: "雲端災難恢復(Disaster Recovery)的目的是?", options: ["預防所有災難", "快速恢復業務運作", "刪除舊數據", "升級系統"], correct: 1 },
            { question: "無服務器運算 (Serverless) 的特點是?", options: ["真的沒有服務器", "開發者不需管理底層伺服器，依事件或函數收費", "永   免費", "速度最慢"], correct: 1 },
            { question: "在雲端安全中，何者有助於   護儲存的敏感資料？", options: ["未加密的公共儲存", "使用靜態資料加密 (At-rest encryption) 與存取控制", "開啟公共讀取權限", "在客戶端保存憑證"], correct: 1 },
            { question: "下列何者屬於基本的入侵檢測/防禦實為？", options: ["啟用日誌並監控異常行為、設置入侵偵測系統(IDS)/入侵防禦系統(IPS)", "關閉所有日誌", "只信任外部網路", "移除憑證管理"], correct: 0 },
            { question: "   端中的容器化(Containerization)主要使用什麼技術?", options: ["虛擬機", "Docker", "防火牆", "路由器"], correct: 1 },
        ];

        // 數據庫管理題庫
        const databaseQuestions = [
            { question: "SQL代表什麼？", options: ["Structured Query Language", "Simple Question Language", "System Query Logic", "Structured Question List"], correct: 0 },
            { question: "以下哪個是關聯式資料庫？", options: ["MongoDB", "Redis", "MySQL", "Cassandra"], correct: 2 },
            { question: "什麼是主鍵（Primary Key）？", options: ["最重要的數據", "唯一標識記錄的欄位", "第一個創建的欄位", "主要的查詢"], correct: 1 },
            { question: "以下哪個是NoSQL資料庫？", options: ["PostgreSQL", "Oracle", "MongoDB", "SQL Server"], correct: 2 },
            { question: "什麼是索引（Index）？", options: ["數據的備份", "提高查詢速度的數據結構", "數據的目錄", "數據的排序"], correct: 1 },
            { question: "SELECT語句用於什麼？", options: ["插入數據", "查詢數據", "刪除數據", "更新數據"], correct: 1 },
            { question: "什   是正規化（Normalization）？", options: ["數據備份", "消除數據冗餘的過程", "數據加密", "數據壓縮"], correct: 1 },
            { question: "以下哪個是數據庫事務的特性？", options: ["ACID", "BASE", "SOLID", "DRY"], correct: 0 },
            { question: "什麼是外鍵（Foreign Key）？", options: ["外部的密鑰", "引用其他表主鍵的欄位", "備份的鍵值", "臨時的鍵值"], correct: 1 },
            { question: "JOIN操作用於什麼？", options: ["合併數據表", "分割數據表", "刪除數據", "創建索引"], correct: 0 }
        ];

        // 零售管理系統題庫
        const retailSystemQuestions = [
            // 銷售與交易處理
            { question: "POS系統中的POS是什麼的縮寫？", options: ["Point of Sale", "Power of System", "Process of Service", "Position of Store"], correct: 0 },
            { question: "在零售POS系統中，什麼是「沽清」功能？", options: ["商品打折促銷", "標記商品已售罄", "退貨處理", "盤   庫存"], correct: 1 },
            { question: "以下哪種付款方式在香港零售業最普及？", options: ["現金", "八達通", "支付寶/微信支付", "   上皆是"], correct: 3 },
            { question: "什麼是「拆單」功能？", options: ["將訂單分成多個付款方式", "取消訂單", "合併多個訂單", "列印收據"], correct: 0 },
            { question: "POS系統中的「開台」和「清台」通常用於哪類業務？", options: ["超市", "餐飲業", "服裝店", "書店"], correct: 1 },
            { question: "在零售交易中，什麼是「退款」(Refund)？", options: ["商品促銷", "將已售商品退貨並退錢給顧客", "會員積分", "商品調撥"], correct: 1 },
            { question: "什麼是「掛單」功能？", options: ["暫停當前交易保存待稍後處理", "取消訂單", "列印發票", "查詢庫存"], correct: 0 },

            // 庫存核心管理
            { question: "什麼是「安全庫存   (Safety Stock)？", options: ["保險箱內的存貨", "為防止缺貨而保留的最低庫存量", "最   貴的庫存", "已過期的庫存"], correct: 1 },
            { question: "FIFO庫存管理方法   表什麼？", options: ["First In First Out (先進先出)", "Fast Inventory For Orders", "Final Inventory Freeze Out", "First Item For Online"], correct: 0 },
            { question: "什麼是「盤點」(Stock Take)？", options: ["計算銷售額", "實際清點庫存數量", "訂購新貨", "退回供應商"], correct: 1 },
            { question: "「負庫存   通常表示什麼問題？", options: ["存貨過多", "系統數據與實際庫存不符", "商品已過期", "商品需要退貨"], correct: 1 },
            { question: "什麼是「補貨點」(Reorder Point)？", options: ["供應商地址", "需要重新訂貨的庫存水平", "倉庫位置", "退貨時間"], correct: 1 },
            { question: "ABC庫存分類法中，A類商品通常指什麼？", options: ["價值最低但數量最多", "價值最高且對業務最重要", "按字母順序排列", "新上市商品"], correct: 1 },
            { question: "什麼是「即時庫存」(Real-time Inventory)？", options: ["每天結束時更新", "交易發生時立即更新", "每週更新一次", "手動更新"], correct: 1 },
            { question: "「批次管理」(Batch Management)主要用於追蹤什麼？", options: ["客戶訂單", "商品生產日期和批號", "員工排班", "店鋪位置"], correct: 1 },
            { question: "什麼是「調撥」功能？", options: ["商品打折", "將庫存從一個倉庫/店鋪轉移到另一個", "退貨處理", "會員管理"], correct: 1 },
            { question: "「SKU」代表什麼？", options: ["Stock Keeping Unit (庫存單位)", "Sales Key Update", "Store Knowledge Unit", "System Key Upload"], correct: 0 },

            // 分析與報表
            { question: "什麼是「毛利率」(Gross Profit Margin)？", options: ["總收入", "（銷售額-成本）÷ 銷售額", "純利潤", "營業額"], correct: 1 },
            { question: "在零售分析中，「坪效」是指什麼？", options: ["每平方呎的銷售額", "店鋪評分", "員工效率", "庫存周轉率"], correct: 0 },
            { question: "什麼是「暢銷品分析」(Best Seller Analysis)？", options: ["分析銷量最高的商品", "分析最貴的商品", "分析庫存最多的商品", "分析退貨最多的商品"], correct: 0 },
            { question: "「同店銷售增長」(Same-Store Sales Growth)是比較什麼？", options: ["不同店鋪的銷售", "同一店鋪不同時期的銷售", "線上線下銷售", "不同商品的銷售"], correct: 1 },
            { question: "什麼是「庫存周轉率」(Inventory Turnover)？", options: ["庫存移動的速度", "銷售成本÷平均庫存", "員工輪班次數", "退貨率"], correct: 1 },
            { question: "什麼是「ABC分析法」在零售中的應用？", options: ["按價   分類", "按銷售貢獻度分類商品（80/20法則）", "按顏色分類", "按品牌分類"], correct: 1 },
            { question: "「平均客單價」(Average Transaction Value)怎麼計算？", options: ["總銷售額÷交易筆數", "總庫存÷店鋪數", "總成本÷銷售額", "總利潤÷員工數"], correct: 0 },

            // 會員及行銷管理
            { question: "CRM系統中的CRM代表什麼？", options: ["Customer Relationship Management", "Cash Register Machine", "Central Retail Manager", "Customer Return Method"], correct: 0 },
            { question: "什麼是「積分回贈計劃」？", options: ["退貨政策", "根據消費累積積分獎勵顧客", "員工獎勵計劃", "供應商折扣"], correct: 1 },
            { question: "「RFM分析」中的三個維度是什麼？", options: ["Revenue, Frequency, Margin", "Recency, Frequency, Monetary", "Return, Feedback, Member", "Region, Format, Market"], correct: 1 },
            { question: "什麼是「會員分級制度」？", options: ["按員工級別分   ", "根據消費金額或頻率劃分會員等級", "按年齡分組", "按地區分類"], correct: 1 },
            { question: "「電子優惠券   (E-coupon)的主要優勢是什麼？", options: ["成本低且易於追蹤使用情況", "只能線下使用", "不會過期", "無法追蹤"], correct: 0 },
            { question: "什麼是「會員生命   期價值」(CLV - Customer Lifetime Value)？", options: ["會員年齡", "客戶在整個關係期間預計帶來的總價值", "會員卡費用", "首次購買金額"], correct: 1 },
            { question: "在零售行銷中，什麼是「交叉銷售」(Cross-selling)？", options: ["跨國銷售", "向顧客推薦相關或互補商品", "退貨處理", "打折促銷"], correct: 1 },

            // 權限及安全控制
            { question: "什麼是「角色權限管理」(RBAC - Role-Based Access Control)？", options: ["按員工姓名分配權限", "根據職位角色分配系統權限", "所有人權限相同", "只有老闆有權限"], correct: 1 },
            { question: "POS系統中「作廢交易」權限通常分配給誰？", options: ["所有收銀員", "主管級別或以上", "清潔工", "顧客"], correct: 1 },
            { question: "什麼是「操作日誌」(Audit Log)？", options: ["員工出勤記錄", "記錄所有系統操作的歷史紀錄", "銷售清單", "庫存清單"], correct: 1 },
            { question: "「雙重認證」(Two-Factor Authentication)通常用於什麼？", options: ["提高系統登入安全性", "加快收銀速度", "列印收據", "計   找贖"], correct: 0 },
            { question: "為什麼POS系統需要限制「價格修   」權限？", options: ["加快操作速度", "防止未授權的折扣或舞弊", "節省紙張", "方便盤點"], correct: 1 },

            // 財務管理
            { question: "什麼是「交更對數」(Shift Reconciliation)？", options: ["員工換班", "核對當班收入與系統記錄是否相符", "整理貨架", "清潔店鋪"], correct: 1 },
            { question: "「現金盤點」通常在什麼時候進行？", options: ["每週一次", "每個班次結束時", "每月一次", "從不進行"], correct: 1 },
            { question: "什麼是「長短   」(Cash Over/Short)？", options: ["衣服尺寸", "實際現金與系統記錄的差異", "營業時間", "貨物長度"], correct: 1 },
            { question: "「日結報表」(Daily Sales Report)通常包含什麼資訊？", options: ["員工生   ", "當日銷售總額、交易數、付款方式分析等", "明天天氣", "股市行   "], correct: 1 },
            { question: "什麼是「浮動備用金」(Float/Petty Cash)？", options: ["員工薪水", "用於找贖和小額支出的現金", "銀行貸款", "退休金"], correct: 1 },

            // 儀表板與報表
            { question: "零售儀表板(Dashboard)的主要功能是什麼？", options: ["裝飾店面", "即時顯示關鍵業務指標", "播放音樂", "控制燈光"], correct: 1 },
            { question: "什麼是「即時銷售監控」？", options: ["觀看監控錄影", "實時查看當前銷售數據", "檢查員工", "盤點庫存"], correct: 1 },
            { question: "KPI在零售業中代表什麼？", options: ["Key Product Information", "Key Performance Indicator", "Keep Products Inside", "Keyboard Password Input"], correct: 1 },
            { question: "零售儀表板中常見的KPI不包括哪項？", options: ["今日銷售額", "客流量", "員工血型", "平均交易額"], correct: 2 },

            // 銷售渠道整合 & 線上線下
            { question: "什麼是「全渠道零售」(Omnichannel Retail)？", options: ["只開設實體店", "整合線上線   提供無縫購物體驗", "只做網店", "批發業務"], correct: 1 },
            { question: "「線上下      門店取貨」(Click and Collect)的英文縮寫是？", options: ["CAC", "BOPIS (Buy Online Pick-up In Store)", "OTD", "POS"], correct: 1 },
            { question: "整合線上線下庫存   主要好處是什麼？", options: ["增加複雜度", "提高庫存準確性和可見性", "減少銷售", "增加成本"], correct: 1 },
            { question: "什麼是「社交電商」(Social Commerce)？", options: ["員工社交活動", "通過社交媒體平台直接銷售商品", "實體店銷售", "批發渠道"], correct: 1 },
            { question: "「O2O」(Online to Offline)模式的核心是什   ？", options: ["只做線上", "將線上流量引導至線下門店消費", "關閉實體店", "只做批發"], correct: 1 },
            { question: "什麼是「門店發貨」(Ship from Store)？", options: ["顧客自提", "利用門店庫存完成線上訂單配送", "供應商直送", "退貨處理"], correct: 1 },
            { question: "「統一商品目錄」在全渠道零售中的作作用是什麼？", options: ["分開管理", "確保線上線下商品信息一致", "只顯示線上商品", "只顯示線下商品"], correct: 1 },

            // 系統及技術架構
            { question: "「雲端POS系統」相比傳統POS的主要優勢是什麼？", options: ["只能離線使用", "可遠程訪問、自動更新、數據雲端備份", "更昂貴", "功能更少"], correct: 1 },
            { question: "什麼是「API整合」？", options: ["一種硬件設備", "不同軟件系統之間的數據對接", "   工培訓方法", "店鋪裝修風格"], correct: 1 },
            { question: "「微服務架構」(Microservices)的特點是什麼？", options: ["單一龐大程式", "將系統拆分成多個獨立小服務", "只能小商戶使用", "不需要網絡"], correct: 1 },
            { question: "為什麼零售系統需要「高可用於」(High Availability)？", options: ["降低成本", "確保系統持續運行減少停機時間", "增加複雜度", "裝飾作用"], correct: 1 },
            { question: "什麼是「負載平衡」(Load Balancing)？", options: ["員工工作分配", "將系統流量分配到多個服務器", "搬運貨物", "設定價格"], correct: 1 },

            // 硬件週邊整合
            { question: "以下哪項不是POS系統的常見硬件週邊？", options: ["條碼掃描器", "收據打印機", "咖啡機", "錢箱"], correct: 2 },
            { question: "「條碼掃描器」主要用於什麼？", options: ["裝飾", "快速讀取商品條碼進行交易", "   放音樂", "照明"], correct: 1 },
            { question: "什麼是「客戶顯示屏」(Customer Display)？", options: ["員工培訓屏幕", "向顧客展示交易金額的螢幕", "廣告牌", "監控螢幕"], correct: 1 },
            { question: "「錢箱」(Cash Drawer)通常如何觸發開啟？", options: ["手動鑰匙或POS系統指令", "語音控制", "腳踏開關", "自動定時開啟"], correct: 0 },
            { question: "「電子秤」(Electronic Scale)整合到POS系統主要用於哪類商麼？", options: ["服裝", "以重量計價的生鮮食品", "電子產品", "書籍"], correct: 1 },
            { question: "「RFID讀取器」相比傳統條碼的優勢是什麼？", options: ["更便宜", "可同時讀取多個標籤且無需視線對準", "更簡單", "只能讀一次"], correct: 1 },
            { question: "「信用卡終端機   (Card Terminal)主要用於處理什麼？", options: ["現金", "信用卡和借記卡付款", "積分兌換", "退貨"], correct: 1 },
            { question: "「收據打印機」的熱敏式和針式有何主要區別？", options: ["價格相同", "熱敏式無需色帶、   印快但保存期短", "針式只能彩色打印", "沒有區別"], correct: 1 },

            // 軟體及API整合
            { question: "零售系統常整合「會計軟件」(如QuickBooks)的目的是什麼？", options: ["玩遊戲", "自動同步財務數據減少手動輸入", "存儲圖片", "發送郵件"], correct: 1 },
            { question: "「支付閘道」(Payment Gateway)的作用是什麼？", options: ["物理門禁", "處   線上支付交易的中介", "倉庫大門", "員工通道"], correct: 1 },
            { question: "整合「電郵營銷系統」(如Mailchimp)可以實現什麼？", options: ["自動發送庫存通知", "根據購買行為發送個性化營銷郵件", "控制空調", "播放背景音樂"], correct: 1 },
            { question: "「ERP系統」與POS系統整合的主要好處是什麼？", options: ["增加遊戲功能", "打通財務、庫存、採購等全業務流程", "只是裝飾", "降低銷售"], correct: 1 },
            { question: "「Webhook」在零售系統中常用於什麼？", options: ["釣魚", "實時推送事件通知到其他系統", "存存儲密碼", "打印文件"], correct: 1 },

            // 部署方式
            { question: "零售系統採用容器化部署的主要優點是？", options: ["更難管理", "更容易做彈性擴充與持續交付", "無法自動化", "需要專用硬體"], correct: 1 },
            { question: "邊緣部署(Edge Deployment)在零售現場常見用途為何？", options: ["替代雲端儲存", "就近處理關鍵POS交易以減少延遲與斷線影響", "只用於備份", "僅供開發測試使用"], correct: 1 },

            // 資料安全及備份
            { question: "零售系統常見的資料備份策略是？", options: ["僅保存在本地POS", "定期備份到雲端與異地備援(Offsite Backup)", "不備份", "備份到USB隨身碟並帶回家"], correct: 1 },
            { question: "在處理支付資料時，遵循哪個標準對提高安全性最重要？", options: ["PCI-DSS", "ISO9001", "GDPR", "HTML5"], correct: 0 },

            // 行動化與平板POS、自助系統
            { question: "行動POS (mPOS) 的優勢包括？", options: ["只能線下使用", "靈活、降低硬體成本、快速佈署", "價格昂貴無法移動", "無法與支付閘道整合"], correct: 1 },
            { question: "自助結帳(Kiosk) 常見風險為何？", options: ["提高人力成本", "可能面臨誤掃或付款失敗的使用者體驗問題", "不支援離線交易", "必須由店長操   "], correct: 1 },

            // 不同行業POS差異
            { question: "餐飲業 POS 與零售 POS 的主要差別通常在於？", options: ["外觀顏色", "餐飲需支援桌號、廚單、菜單組合與開台/清台功能", "只支援現金", "不需收據打印"], correct: 1 },
            { question: "超市型 POS 常見特殊需求是？", options: ["支持稱重商品和條碼/PLU 目錄", "只支援會員卡刷臉", "不需條碼掃描器", "必須支援AR展示"], correct: 0 },

            // 系統整合測試與監控
            { question: "零售系統要達到高可用性，通常會採用哪些方法？", options: ["單單一服務器一直運行", "主從/冗餘部署、負載平衡與健康檢查監控", "只備份不監控", "每天重啟系統"], correct: 1 },

            // 硬體與周邊維運
            { question: "在零售環境中，條碼標籤打印機常需要注意什麼？", options: ["選擇適合耐久度與紙張規格、設定正確驅動與連接方式", "顏色越鮮豔越好", "必須使用特殊燃料", "只在室外使用"], correct: 0 },

            // API 與軟體擴充性
            { question: "零售系統提供清晰文件的 API 有何好處？", options: ["減少第三方整合時間、降低錯誤、加速合作伙伴接入", "提高硬體成本", "限制系統擴充", "使系統封閉"], correct: 0 },

            // 補充：技術架構安全
            { question: "對於零售後端，常見的資安防護措施不包含下列哪項？", options: ["網路分段(Network Segmentation)", "最小權限原則(Least Privilege)", "公開開放所有金鑰以便快速開發", "加密靜態與傳輸中的資料"], correct: 2 },
            { question: "「SaaS」(Software as a Service)零   系統的特點是什麼？", options: ["需要自行購買服務器", "通過訂閱方式使用雲端軟件", "只能單機使用", "必須自己開發"], correct: 1 },
            { question: "「本地部署」(On-Premise)系統的主要特點是什麼？", options: ["數據存儲在雲端", "系統安裝在商戶自己的服務器", "免費使用", "無需維護"], correct: 1 },
            { question: "「混合部署」(Hybrid Deployment)是指什麼？", options: ["只用雲端", "結合本地和雲端部署", "只用本地", "不使用任何系統"], correct: 1 },
            { question: "雲端POS系統的主要計費模式通常是？", options: ["一次性買斷", "按月/年訂閱收費", "完全免費", "按交易量計費"], correct: 1 },

            // 資料安全及備份
            { question: "「資料加密」(Data Encryption)的目的是什麼？", options: ["加快速度", "保護敏感數據不被未授權訪問", "節省空間", "美化界面"], correct: 1 },
            { question: "零售系統應該多久進行一次「數據備份」？", options: ["從不備份", "定期備份（每天或實時）", "只在關店時", "十年一次"], correct: 1 },
            { question: "「PCI DSS」標準與什麼相關？", options: ["員工管理", "信用卡支付數據安全", "店鋪   修", "產品設計"], correct: 1 },
            { question: "什麼是「災難恢復計劃」(Disaster Recovery Plan)？", options: ["防火演習", "確保系統故障後能快速恢復數據和業務", "購買保險", "員工培訓"], correct: 1 },
            { question: "「SSL證書」在電商網站中的作用是什麼？", options: ["裝飾網站", "加密網站數據傳輸保護用戶資訊", "加快網速", "改變顏色"], correct: 1 },

            // 行動化與平板POS
            { question: "「移動POS」(mPOS)通常使用什麼設備？", options: ["桌上電腦", "平板或智能手機", "傳統收銀機", "計算機"], correct: 1 },
            { question: "移動POS的主要應用場景不包括哪項？", options: ["快閃店", "外賣送貨", "展會銷售", "大型倉庫管理"], correct: 3 },
            { question: "平板POS相比傳統收銀機的優勢是   麼？", options: ["更重", "便攜、成本低、易於部署", "功能更少", "只能離線使   "], correct: 1 },
            { question: "「店員助手App」通常具備什麼功能？", options: ["玩遊戲", "移動查詢庫存、協助顧客下單", "看電影", "聊天"], correct: 1 },

            // 自助系統
            { question: "「自助結賬系統」(Self-Checkout)的主要好處是什麼？", options: ["增加員工", "減少排隊時間、降低人力成本", "增加錯誤", "更複雜"], correct: 1 },
            { question: "自助點餐機(Kiosk)常見於哪類業務？", options: ["     餐店", "銀行", "醫院", "以上皆是"], correct: 3 },
            { question: "自助系統中常中常用的防盜措施是什麼？", options: ["不設防盜", "重量感應器、監控攝像頭", "只靠信任", "鎖門"], correct: 1 },
            { question: "「自助退貨機」可以實現什麼？", options: ["自動烹飪", "顧客自行掃描商品辦理退貨", "自動送貨", "自動盤點"], correct: 1 },

            // 不同產業POS
            { question: "餐飲業POS系統特有的功能是什麼？", options: ["尺寸選擇", "餐桌管理、廚房打印", "會員積分", "退貨處理"], correct: 1 },
            { question: "服   零售POS系統常需要支持什麼？", options: ["餐桌管理", "多尺寸、多顏色的SKU管理", "廚房訂單", "房間預訂"], correct: 1 },
            { question: "超市POS系統通常需要整合什麼硬件？", options: ["美容儀器", "條碼掃描器、電子秤", "按摩椅", "跑步機"], correct: 1 },
            { question: "酒店POS系統常需要與什麼系統整合？", options: ["遊戲機", "客房管理系統(PMS)", "音響系統", "天氣預報"], correct: 1 },
            { question: "美容院POS系統的特殊需求是什麼？", options: ["快速結賬", "預約管理、服務時長記錄", "外賣配送", "庫存周轉"], correct: 1 },
            { question: "藥房POS系統需要特別注意什麼？", options: ["時尚設計", "處方藥管理和合規性", "遊戲功能", "音樂播放"], correct: 1 },
            { question: "「預訂制」商家(如烘焙店)POS需要什麼功能？", options: ["即時交易", "預訂單管理、取貨時間提醒", "外賣配送", "視頻會議"], correct: 1 },

            // 進階功能
            { question: "什麼   「智能推薦」功能？", options: ["員工推薦", "基   購買歷史推薦相關商品", "推薦餐廳", "推薦路線"], correct: 1 },
            { question: "「電子發票」相比紙質發票的優勢是什麼？", options: ["更貴", "環保、易於管理和查詢", "更慢", "容易丟失"], correct: 1 },
            { question: "「動態定價」(Dynamic Pricing)是什麼？", options: ["固定價格", "根據需求、時間等因素自動調整價格", "隨機價格", "免費贈送"], correct: 1 },
            { question: "什麼是「聯營扣點」模式？", options: ["打折促銷", "商場與品牌按銷   額分成", "批發模式", "直營模式"], correct: 1 },
            { question: "「掃碼購」(Scan & Go)是什麼？", options: ["員工掃碼", "顧客用手機掃碼自助購物結賬", "掃描文件", "掃描備份證"], correct: 1 },
            { question: "「客流分析」系統通常使用什麼技術？", options: ["人工計數", "攝像頭+AI視覺識別", "問卷調查", "猜測"], correct: 1 },
            { question: "什麼是「缺貨預警」功能？", options: ["商品過多提醒", "庫存低於設定值時自動提醒", "員工遲到提醒", "系統故障提醒"], correct: 1 },
            { question: "「電子價簽」(ESL)的主要優勢是什麼？", options: ["手寫更清楚", "可遠程批量更新價格", "更便宜", "防水"], correct: 1 },
            { question: "「智能排班系統」根據什麼優化員工安排？", options: ["員工喜好", "銷售高峰及客流量數據", "隨機分配", "抽籤"], correct: 1 },
            { question: "「供應鏈協同」是指什麼？", options: ["員工協作", "零售商與供應商系統對接實現信息共享", "顧客合作", "競爭爭手合作"], correct: 1 }
        ];

        // 新增：遠足郊遊及露營/宿營題庫
        const hikingCampingQuestions = [
            // 遠足/行山/郊遊注意事項
            { question: "遠足前最重要的準備是什麼？", options: ["購買最貴的裝備", "了解路線難度及天氣狀況", "邀請最多朋友", "帶最多食物"], correct: 1 },
            { question: "行山時遇到雷暴應該怎麼做？", options: ["繼續前進", "躲在樹下", "遠離高處及樹木，蹲低身體", "站在山頂等待"], correct: 2 },
            { question: "在香港行山，以下哪種顏色的郊遊徑最困難？", options: ["綠色", "藍色", "紅色", "黃色"], correct: 2 },
            { question: "遠足時最基本的「留低不留白」原則是指？", options: ["不要留下垃圾", "不要留下腳印", "不要留白照片", "不要留下記   "], correct: 0 },
            { question: "行山時應該穿什麼類型的鞋？", options: ["拖鞋", "高跟鞋", "行山鞋或運動鞋", "涼鞋"], correct: 2 },
            { question: "遠足時遇到野生動物應該怎麼做？", options: ["餵食牠們", "追趕牠們", "保持距離，不要驚擾", "拍照合影"], correct: 2 },
            { question: "行山時最好的時間是？", options: ["中午烈日當空", "清晨或下午較涼爽時段", "深夜", "隨時都可以"], correct: 1 },
            { question: "在郊外遇到蛇應該怎麼做？", options: ["用棍子打牠", "保持距離，慢慢退開", "捉住牠拍照", "追趕牠"], correct: 1 },
            { question: "夏天行山最重要注意什麼？", options: ["穿最少衣服", "防曬及補充水分", "走最快", "不用帶水"], correct: 1 },
            { question: "行山時發現自己迷路應該怎麼做？", options: ["繼續亂走", "停下來確認位置並求助", "加快腳步", "往下坡走"], correct: 1 },

            // 出發前 了解詳情（規劃路線及行程）
            { question: "規劃行山路線時應該查看什麼資料？", options: ["只看照片", "路線長度、難度、所需時間及天氣", "朋友意見", "隨意選擇"], correct: 1 },
            { question: "查看天氣預報時，特別要留意什麼？", options: ["氣溫和降雨機會", "明天的天氣", "上週的天氣", "其他國家天氣"], correct: 0 },
            { question: "行山前應該告訴誰你的行程？", options: ["不用告訴任何人", "家人或朋友", "陌生人", "社交媒體所有人"], correct: 1 },
            { question: "預計行山時間時應該怎麼計算？", options: ["只計算行走時間", "包括休息、拍照及預留緩衝時間", "越短越好", "不用計算"], correct: 1 },
            { question: "選擇行山路線時應該考慮什麼？", options: ["只選最難的", "配合自己體能和經驗", "跟隨潮流", "隨機選擇"], correct: 1 },
            { question: "使用行山App的主要目的是？", options: ["玩遊戲", "記錄路線、導航及緊急求助", "聽音樂", "看影片"], correct: 1 },
            { question: "出發前應該檢查什麼？", options: ["只檢查天氣", "裝備、糧水、路線及通訊工具", "不用檢查", "只檢查衣服"], correct: 1 },
            { question: "評估路線時，「來回時間」是指？", options: ["單程時間", "來回總時間包   休息", "不包括休息", "只計下山時間"], correct: 1 },
            { question: "選擇行山日   時應該避免？", options: ["週末", "天氣惡劣或颱風警告日子", "假期", "早上"], correct: 1 },
            { question: "規劃路線時應該預留多少緩衝   間？", options: ["完全不用", "至少20-30%額外時間", "1分鐘", "只需5分鐘"], correct: 1 },

            // 需要攜帶的物品
            { question: "行山時必須攜帶足夠的什麼？", options: ["零食", "飲用水", "書本", "玩具"], correct: 1 },
            { question: "行山時建議攜帶哪種食物？", options: ["即食麵", "能量棒、乾糧、水果", "雪糕", "燒烤食物"], correct: 1 },
            { question: "行山時應該帶什麼類型的背包？", options: ["手提袋", "登山背包或行山背囊", "公文包", "塑膠袋"], correct: 1 },
            { question: "防曬用品包括什麼？", options: ["雨傘", "防曬霜、太陽帽、太陽眼鏡", "外套", "手套"], correct: 1 },
            { question: "行山時應該帶什麼衣物？", options: ["厚重外套", "吸汗快乾衣物及後備衣服", "西裝", "睡衣"], correct: 1 },
            { question: "雨天行山應該帶什麼？", options: ["太陽傘", "雨衣或防水外套", "游泳衣", "拖鞋"], correct: 1 },
            { question: "行山時建議攜帶什麼照明工具？", options: ["蠟燭", "電筒或頭燈", "打火機", "熒光棒"], correct: 1 },
            { question: "行山時帶手機的主要用途是？", options: ["玩遊戲", "緊急通訊及導航", "聽音樂", "看影片"], correct: 1 },
            { question: "行山時應該帶什麼個人衛生用品？", options: ["化妝品", "紙巾、濕紙巾、垃圾袋", "香水", "吹風機"], correct: 1 },
            { question: "炎熱天氣下行山應該額外帶什麼？", options: ["保溫瓶", "充足飲用水及電解質飲料", "熱咖啡", "厚衣服"], correct: 1 },

            // 必須攜帶的用品
            { question: "以下哪項是行山必備物品？", options: ["遊戲機", "手機、地圖、指南針", "筆記本電腦", "電視"], correct: 1 },
            { question: "急救包應該包含什麼？", options: ["化妝品", "繃帶、消毒藥水、止痛藥", "零食", "玩具"], correct: 1 },
            { question: "行山時為什麼要帶哨子？", options: ["嚇走動物", "緊急求救信號", "娛樂", "指揮他人"], correct: 1 },
            { question: "為什麼要帶後備電池或充電器？", options: ["聽音樂用", "確保手機有足夠電量應急", "給他人充電", "不需要帶"], correct: 1 },
            { question: "行山時必須帶的證件是？", options: ["護照", "身份證", "駕駛執照", "學生證"], correct: 1 },
            { question: "為什麼要帶地圖或GPS裝置？", options: ["娛樂", "導航及確認位置", "送給別人", "不需要"], correct: 1 },
            { question: "行山繩索的主要用途是？", options: ["   耍", "緊急情況下使用", "裝飾", "綁東西"], correct: 1 },
            { question: "為什麼要帶垃圾袋   ", options: ["裝戰利品", "帶走自己的垃圾", "送給別人", "不需要帶"], correct: 1 },
            { question: "防蟲劑在什麼季節特別重要？", options: ["冬天", "夏天及潮濕季節", "秋天", "不需要"], correct: 1 },
            { question: "行山時應該帶多少水？", options: ["不用帶", "至少每人1-2公升或更多", "一口就夠", "100毫升"], correct: 1 },

            // 萬一遇上突發事故
            { question: "行山時遇到受傷應該怎麼做？", options: ["繼續行走", "停下來評估傷勢，嚴重時致電999", "自己處理", "不理會"], correct: 1 },
            { question: "香港緊急求助電話號碼是？", options: ["911", "999", "000", "112"], correct: 1 },
            { question: "使用哨子求救的國際信號是？", options: ["吹一聲", "連續吹六聲，停一分鐘後重複", "隨意吹", "不停吹"], correct: 1 },
            { question: "遇到突發事故時，應該向救援人員提供什麼資訊？", options: ["只說姓名", "位置、人數、傷勢及聯絡方法", "隨便說", "不用說"], correct: 1 },
            { question: "如果手機沒有信號應該怎麼辦？", options: ["放棄求救", "移動到較高位置嘗試", "繼續亂走", "大叫"], correct: 1 },
            { question: "遇到山火應該怎麼做？", options: ["向山上跑", "立即報警並往下風及開闊地方撤離", "嘗試撲滅", "拍照"], correct: 1 },
            { question: "遇到有人中暑應該怎麼做？", options: ["繼續行走", "移到陰涼處、補充水分、降溫", "曬太陽", "不理會"], correct: 1 },
            { question: "發現有人失蹤應該怎麼辦？", options: ["繼續前進", "立即報警並告知最後見到的位置", "自己尋找", "回家"], correct: 1 },
            { question: "行山時扭傷應該怎麼處理？", options: ["繼續行走", "停止活動、冷敷、包紮及求助", "按摩", "熱敷"], correct: 1 },
            { question: "遇到惡劣天氣應該怎麼做？", options: ["繼續前進", "尋找安全地方暫避或立即撤退", "加快速度", "不理會"], correct: 1 },

            // 獨自出行？幾人出行？
            { question: "行山時最理想的人數是？", options: ["一個人", "3-8人結伴同行", "100人", "兩個人"], correct: 1 },
            { question: "   什麼不建議獨自行山？", options: ["太悶", "遇到意外無人協助", "太快", "太慢"], correct: 1 },
            { question: "結伴行山時應該注意什麼？", options: ["各自行動", "保持團隊，不要分散", "競賽速度", "   理會他人"], correct: 1 },
            { question: "如果一定要獨自行山，最重要做什麼？", options: ["不告訴任何人", "告知他人行程及定時報平安", "隨意行走", "不帶手機"], correct: 1 },
            { question: "團隊行山時應該跟隨誰的速度？", options: ["最快的人", "最慢的成員", "領隊", "隨意"], correct: 1 },
            { question: "行山團隊中應該有什麼角色？", options: ["全部一樣", "領隊、尾隊及互相照應", "不用分工", "各自為政"], correct: 1 },
            { question: "帶   朋友行山時要特別注意什麼？", options: ["讓他們跑在前面", "選擇簡易路線並時刻看顧", "不用特別注意", "讓他們獨自行走"], correct: 1 },
            { question: "如果團隊中有人體力不支應該怎麼辦？", options: ["拋下他繼續", "放慢速度或安排休息/撤退", "責罵他", "不理會"], correct: 1 },
            { question: "為什麼需要有尾隊？", options: ["監視大家", "確保沒有人掉隊", "拍照", "不需要"], correct: 1 },
            { question: "獨自行山者應該選擇什麼路線？", options: ["最難的", "熟悉、熱門   較簡單的路線", "未開發的", "隨便"], correct: 1 },

            // 評估相關地點危險性
            { question: "評估行山路線危險性時應該考慮什麼？", options: ["只看長度", "地形、天氣、難度及自身能力", "隨意評估", "不用評估"], correct: 1 },
            { question: "懸崖邊行走時應該怎麼做？", options: ["跑步", "小心慢行，遠離邊緣", "跳躍", "不看路"], correct: 1 },
            { question: "什麼天氣情況下應該避免行山？", options: ["晴天", "颱風、暴雨、雷暴警告", "多雲", "微風"], correct: 1 },
            { question: "遇到濕滑石頭應該怎麼做？", options: ["快速跑過", "小心行走或繞道", "跳過去", "不理會"], correct: 1 },
            { question: "在陡峭山徑上應該注意什麼？", options: ["快速下山", "使用行山杖保持平衡、小心踏穩", "奔跑", "閉眼   走"], correct: 1 },
            { question: "為什麼要避免在天黑後行山？", options: ["太冷", "視線不佳容易迷路或受傷", "太累", "沒有原因"], correct: 1 },
            { question: "遇到未標示的山徑應該怎麼做？", options: ["探險", "避免進入或詢問有經驗人士", "隨便走", "一定要走"], correct: 1 },
            { question: "看到「危險」或「禁止進入」標誌應該怎麼做？", options: ["無視", "遵守指示不要進入", "拍照留念", "挑戰一下"], correct: 1 },
            { question: "評估溪流是否可以涉水的條件是？", options: ["水深不超過膝蓋且水流平穩", "隨便過", "一定要過", "游泳過"], correct: 0 },
            { question: "什麼情況下應該立即中止行程？", options: ["天氣良好", "出現嚴重天氣、有人受傷或迷路", "有點累", "時間充足"], correct: 1 },

            // 緊急的聯絡方法
            { question: "行山時手機沒電怎麼辦？", options: ["放棄求救", "使用後備電池或向他人借用", "大叫", "不理會"], correct: 1 },
            { question: "在山上如何增加手機信號？", options: ["埋在地下", "移到較高、開闊位置", "關機", "放水裡"], correct: 1 },
            { question: "除了999，還可以使用什麼求救方法？", options: ["等待", "哨子、鏡子反光、SOS信號", "大叫", "不理會"], correct: 1 },
            { question: "「一人有事，全隊停止」的原則是指？", options: ["不用理會", "團隊成員互相照應", "繼續前進", "各走各路"], correct: 1 },
            { question: "使用手機求救時應該提供什麼資訊？", options: ["只說   命", "位置、人數、情況及聯絡方法", "隨便說", "不用說"], correct: 1 },
            { question: "什麼是GPS定位？", options: ["遊戲", "通過衛星確定位置的技術", "音樂播放", "拍照功能"], correct: 1 },
            { question: "在香港，郊野公園求救柱的作用是？", options: ["裝飾", "標示位置方便報告位置", "坐下休息", "掛衣服"], correct: 1 },
            { question: "如果團隊中有人需要救援，其他人應該怎麼做？", options: ["全部離開", "留下照顧者，其他人求救   等待", "繼續玩樂", "不理會"], correct: 1 },
            { question: "為什麼出發前要告訴家人預計回程時間？", options: ["炫耀", "如果逾時未歸可以及時報警", "隨便說", "不用告訴"], correct: 1 },
            { question: "行山App的「離線地圖」功能為什麼重要？", options: ["節省流量", "即使沒有網絡也能導航", "好玩", "不重要"], correct: 1 },

            // 露營宿營攜帶什麼
            { question: "露營最基本的裝備是什麼？", options: ["電視", "帳篷、睡袋、睡墊", "沙發", "冰箱"], correct: 1 },
            { question: "露營時應該選擇什麼類型的帳篷？", options: ["紙帳篷", "防水、適合人數的露營帳篷", "玩具帳篷", "透明帳篷"], correct: 1 },
            { question: "睡袋的選擇應該考慮什麼？", options: ["顏色", "溫度適應範圍及季節", "品牌", "大小"], correct: 1 },
            { question: "露營時為什麼需要睡墊？", options: ["裝飾", "隔絕地面濕氣及寒冷", "坐著玩", "不需要"], correct: 1 },
            { question: "露營時應該帶什麼煮食工具？", options: ["微波爐", "營爐、鍋具、餐具", "烤箱", "不用煮食"], correct: 1 },
            { question: "露營時應該帶什麼照明工具？", options: ["蠟燭", "營燈、頭燈、電筒", "打火機", "不需要照明"], correct: 1 },
            { question: "露營時為什麼要帶防潮墊？", options: ["玩遊戲", "保護帳篷底部及防潮", "裝飾", "不需   "], correct: 1 },
            { question: "露營時應該準備什麼飲用水？", options: ["不用帶水", "足夠的瓶裝水或濾水器", "海水", "雨水"], correct: 1 },
            { question: "露營時為什麼要帶垃圾袋？", options: ["裝戰利品", "收集垃圾保持環境清潔", "送禮", "不需要"], correct: 1 },
            { question: "露營時應該穿什麼衣服？", options: ["西裝", "多層次、保暖、防水衣物", "泳衣", "睡衣"], correct: 1 },
            { question: "露營時為什麼要帶急救包？", options: ["裝飾", "處理小傷或緊急情況", "送禮", "不需要"], correct: 1 },
            { question: "露營時應該帶什麼個人衛生用品？", options: ["化妝品", "牙刷、毛巾、肥皂、紙巾", "香水", "不需要"], correct: 1 },
            { question: "為什麼露營要帶繩索？", options: ["玩遊戲", "固定帳篷、晾衣服等用途", "不需要", "裝飾"], correct: 1 },
            { question: "露營時應該帶什麼防蟲用品？", options: ["不需要", "防蟲劑、蚊帳", "糖果", "香水"], correct: 1 },
            { question: "宿營時應該選擇什麼地點搭帳篷？", options: ["河邊", "平坦、排水良好、遠離危險的地方", "山頂", "懸崖邊"], correct: 1 },
            { question: "露營時為什麼要帶防水袋？", options: ["玩水", "保護重要物品不被淋濕", "裝垃圾", "不需要"], correct: 1 },
            { question: "露營時應該帶什麼後備衣物？", options: ["禮服", "乾爽的替換衣服及保暖衣物", "泳衣", "不用帶"], correct: 1 },
            { question: "露營時為什麼需要帶指南針或GPS？", options: ["玩具", "導航及定位", "裝飾", "不需要"], correct: 1 },
            { question: "露營結束後應該怎麼做？", options: ["留下垃圾", "清理所有垃圾，恢復原狀", "燒掉帳篷", "不理會"], correct: 1 },
            { question: "露營時選擇營地應該避免什麼地方？", options: ["平地", "低窪地、河床、山崖下", "草地", "開闊地"], correct: 1 }
        ];

        // 新增：日本深度探究之旅題庫
        const japanDeepDiveQuestions = [
            // 日本文化
            { question: "日本傳統   飾「和服」中，男性和女性穿著的主要區別是什麼？", options: ["顏色鮮豔程度", "袖子長度和腰帶寬度", "材質不同", "沒有區別"], correct: 1 },
            { question: "日本茶道的核心精神是什麼？", options: ["速度與效率", "和敬清寂", "奢華炫耀", "競爭比賽"], correct: 1 },
            { question: "「鳥居」通常出現在什麼地方？", options: ["佛寺入口", "神社入口", "城堡門口", "皇宮門口"], correct: 1 },
            { question: "日本的「盂蘭盆節」（お盆）主要是為了什麼？", options: ["慶祝豐收", "祭祀祖先", "慶祝新年", "賞櫻花"], correct: 1 },
            { question: "日本傳統藝能「歌舞伎」的特色是什麼？", options: ["全部由女性演出", "全部由男性演出", "男女混合演出", "兒童演出"], correct: 1 },
            { question: "「榻榻米」的標準尺寸大約是多少？", options: ["1米×2米", "90公分×180公分", "2米×2米", "60公分×120公分"], correct: 1 },
            { question: "日本的「三大祭」不包括以下哪一個？", options: ["京都祇園祭", "大阪天神祭", "東京神田祭", "札幌雪祭"], correct: 3 },
            { question: "「俳句」的基本格式是多少個音節？", options: ["5-7-5", "7-7-7", "5-5-7", "7-5-7"], correct: 0 },

            // 日本歷史
            { question: "日本歷史上哪個時期是武士階級掌權的時代？", options: ["平安時代", "江戶時代", "明治時代", "昭和時代"], correct: 1 },
            { question: "日本的首都從京都遷至東京是在哪個時期？", options: ["江戶時代", "明治維新時期", "大正時代", "平成時代"], correct: 1 },
            { question: "日本戰國三傑不包括以下哪一位？", options: ["織田信長", "豐臣秀吉", "德川家康", "武田信玄"], correct: 3 },
            { question: "日本的「鎖國政策」是在哪個時代實施的？", options: ["戰國時代", "江戶時代", "明治時代", "平安時代"], correct: 1 },
            { question: "二戰後，日本天皇發表「人間宣言」的是哪位天皇？", options: ["明治天皇", "大正天皇", "昭和天皇", "平成天皇"], correct: 2 },

            // 日本地理
            { question: "日本最高的山是哪一座？", options: ["富士山", "北岳", "奧穗高岳", "槍岳"], correct: 0 },
            { question: "日本由幾個主要島嶼組成？", options: ["3個", "4個", "5個", "6個"], correct: 1 },
            { question: "日本   大的湖泊是？", options: ["琵琶湖", "霞浦湖", "豬苗代湖", "中海"], correct: 0 },
            { question: "日本最北端的都道府縣是？", options: ["青森縣", "北海道", "秋田縣", "岩手縣"], correct: 1 },
            { question: "日本最南端的縣是？", options: ["沖繩縣", "鹿兒島縣", "宮崎縣", "高知縣"], correct: 0 },
            { question: "日本共有幾個都道府縣？", options: ["43個", "45個", "47個", "50個"], correct: 2 },
            { question: "「瀨戶內海」位於日本哪幾個島之間？", options: ["本州與北海道", "本州與四國", "四國與九州", "九州與沖繩"], correct: 1 },

            // 日本美食
            { question: "「壽司」中的「握壽司」日文叫什麼？", options: ["巻き寿司", "握り寿司", "押し寿司", "ちらし寿司"], correct: 1 },
            { question: "日本三大和牛不包括以下哪一個？", options: ["神戶牛", "松阪牛", "近江牛", "宮崎牛"], correct: 3 },
            { question: "「拉麵」的發源地據說是日本哪個城市？", options: ["東京", "札幌", "福岡", "橫濱"], correct: 3 },
            { question: "「天婦羅」是在哪個時期傳入日本   ？", options: ["平安時代", "鎌倉時代", "室町時代", "江戶時代"], correct: 2 },
            { question: "「味噌」主要是由什麼原料製成？", options: ["大豆", "米", "小麥", "玉米"], correct: 0 },
            { question: "日本料理中「旨味」是第幾種基本味道？", options: ["第三種", "第四種", "第五種", "第六種"], correct: 2 },
            { question: "「懷石料理」最初是在什麼場合食用的？", options: ["宴會", "茶道", "祭典", "婚禮"], correct: 1 },
            { question: "「章魚燒」的發源地是日本哪個城市？", options: ["東京", "大阪", "京都", "名古屋"], correct: 1 },

            // 日本旅遊景點
            { question: "「金閣寺」位於日本哪個城市？", options: ["東京", "大阪", "京都", "奈良"], correct: 2 },
            { question: "「嚴島神社」的大鳥居位於哪個縣？", options: ["廣島縣", "岡山縣", "島根縣", "鳥取縣"], correct: 0 },
            { question: "「奈良的鹿」主要聚集在哪個公園？", options: ["上野公園", "奈良公園", "代代木公園", "新宿御苑"], correct: 1 },
            { question: "日本三大名園不包括以下哪一個？", options: ["兼六園", "後樂園", "偕樂園", "六義園"], correct: 3 },
            { question: "「東京晴空塔」的高度是多少米？", options: ["634米", "600米", "650米", "700米"], correct: 0 },
            { question: "「白川鄉合掌村」位於哪個縣？", options: ["岐阜縣", "富山縣", "石川縣", "長野縣"], correct: 0 },
            { question: "「箱根」以什麼著稱？", options: ["滑雪勝地", "溫泉勝地", "海灘度假", "購物天堂"], correct: 1 },

            // 日本生活常識
            { question: "在日本進入室內通常要做什麼？", options: ["脫帽", "脫鞋", "脫外套", "洗手"], correct: 1 },
            { question: "日本的垃圾分類通常分為幾大類？", options: ["2類", "3類", "4類以上", "不用分類"], correct: 2 },
            { question: "日本的便利店「7-11」日文叫什麼？", options: ["セブンイレブン", "コンビニ", "ローソン", "ファミマ"], correct: 0 },
            { question: "日本的新幹線最高時速可達多少公里？", options: ["200公里", "300公里", "320公里", "350公里"], correct: 2 },
            { question: "日本的法定成年年齡是幾歲？", options: ["18歲", "19歲", "20歲", "21歲"], correct: 0 },
            { question: "日   的「黃金週」通常是指哪段時間？", options: ["1月初", "4月底5月初", "8月中旬", "12月底"], correct: 1 },
            { question: "日本的電壓是多少伏特？", options: ["100V", "110V", "220V", "240V"], correct: 0 },
            { question: "在日本搭乘電扶梯時，通常站在哪一側？", options: ["左側（東京）", "右側（東京）", "中間", "隨意"], correct: 0 },
            { question: "日本的「居酒屋」主要是什麼類型的場所？", options: ["咖啡店", "小酒館", "快餐店", "茶館"], correct: 1 },
            { question: "日本的「溫泉」在進入前必須做什麼？", options: ["穿泳衣", "先淋浴清潔身體", "戴泳帽", "不用準備"], correct: 1 }
        ];

        // 新增：多啦A夢題庫（doraemon）
        const doraemonQuestions = [
            // 角色認知
            { question: "多啦A夢的身體是什麼顏色？", options: ["紅色", "藍色", "黃色", "綠色"], correct: 1 },
            { question: "多啦A夢最害怕什麼動物？", options: ["蛇", "蜘蛛", "老鼠", "蟑螂"], correct: 2 },
            { question: "大雄的好朋友靜香（宜靜）最喜歡什麼活動？", options: ["唱歌", "洗澡/沐浴", "畫畫", "跳舞"], correct: 1 },
            { question: "胖虎（技安）最喜歡做什麼？", options: ["踢足球", "唱歌", "讀書", "睡覺"], correct: 1 },
            { question: "小夫（阿福）最喜歡向朋友炫耀什麼？", options: ["成績", "玩具和財富", "運動能力", "外貌"], correct: 1 },
            { question: "多啦A夢來自哪個世紀？", options: ["21世紀", "22世紀", "23世紀", "24世紀"], correct: 1 },
            { question: "大雄最擅長什麼？", options: ["讀書", "運動", "翻花繩和射擊", "唱歌"], correct: 2 },
            { question: "多啦A夢的妹妹叫什麼名字？", options: ["多啦美", "多啦咪", "小叮鈴", "叮叮"], correct: 0 },
            { question: "大雄的媽媽經常因為什麼責罵大雄？", options: ["功課不好和懶惰", "不吃飯", "不洗澡", "玩遊戲"], correct: 0 },
            { question: "多啦A夢最喜歡吃什麼？", options: ["壽司", "銅鑼燒（豆沙餅）", "拉麵", "飯糰"], correct: 1 },

            // 道具認知
            { question: "可以去到任何地方的抽屜叫什麼？", options: ["時光機", "任意門", "神奇抽屜", "傳送門"], correct: 1 },
            { question: "可以變大變小的電筒叫什麼？", options: ["縮小燈", "放大燈", "縮小電筒", "放大縮小燈"], correct: 3 },
            { question: "可以穿越時空的道具是？", options: ["任意門", "時光機", "竹蜻蜓", "記憶麵包"], correct: 1 },
            { question: "可以飛行的道具是？", options: ["竹蜻蜓", "飛行器", "翅膀", "火箭"], correct: 0 },
            { question: "吃了可以記住書本內容的道具是？", options: ["聰明藥", "記憶麵包", "知識糖", "智慧餅"], correct: 1 },
            { question: "可以隱形的道具叫什麼？", options: ["隱形藥水", "隱形斗篷", "隱形帽", "透明人披風"], correct: 1 },
            { question: "可以預知未來的道具是？", options: ["未來鏡", "預言書", "時光電視", "水晶球"], correct: 2 },
            { question: "可以進入漫畫或圖畫世界的道具是？", options: ["漫畫門", "進入畫中鞋", "圖畫世界筆", "畫中世界"], correct: 1 },
            { question: "可以控制天氣的道具叫什麼？", options: ["天氣盒", "氣候控制器", "天氣棒", "雲朵製造機"], correct: 0 },
            { question: "可以復制任何物品的道具是？", options: ["複製機", "影印機", "倍增藥水", "複製鏡"], correct: 0 },

            // 故事情節
            { question: "多啦A夢為什麼會來到大雄身邊？", options: ["迷路了", "世修派來幫助大雄", "自己想來", "意外穿越"], correct: 1 },
            { question: "大雄長大後本來會跟誰結婚？", options: ["靜香", "胖妹（技子）", "小玉", "美美"], correct: 1 },
            { question: "多啦A夢為什麼身體是藍色的？", options: ["本來就是", "被老鼠咬掉耳朵後哭成藍色", "塗了藍色油漆", "生病變色"], correct: 1 },
            { question: "大雄最常在哪裡睡午覺？", options: ["床上", "課室", "公園", "走廊"], correct: 1 },
            { question: "胖虎開演唱會時，大家通常怎麼反應？", options: ["很開心", "想逃走", "鼓掌", "跟著唱"], correct: 1 },

            // 經典場景
            { question: "多啦A夢的道具通常從哪裡拿出來？", options: ["百寶袋（四次元口袋）", "背包", "抽屜", "帽子"], correct: 0 },
            { question: "大雄家的空地經常被用來做什麼？", options: ["種菜", "停車", "玩耍和打棒球", "野餐"], correct: 2 },
            { question: "靜香（宜靜）經常在做什麼時被大雄闖入？", options: ["做功課", "洗澡", "睡覺", "吃飯"], correct: 1 },
            { question: "胖虎經常在哪裡唱歌？", options: ["學校", "公園", "空地", "家裡"], correct: 2 },
            { question: "大雄遇到困難時最常說什麼？", options: ["怎麼辦", "多啦A夢救我", "不要緊", "沒關係"], correct: 1 },
            { question: "多啦A夢的道具經常會發生什麼問題？", options: ["壞掉", "被濫用導致麻煩", "不見了", "沒電"], correct: 1 }
        ];

        // 新增：香港駕駛題庫（hk-driving）
        const hkDrivingQuestions = [
            // 車輛基礎認識與控制
            { question: "私家車駕駛座位於車輛的哪一側？", options: ["左側", "右側", "中間", "沒有規定"], correct: 1 },
            { question: "手動波箱汽車中，離合器踏板位於哪個位置？", options: ["最左邊", "中間", "最右邊", "沒有離合器"], correct: 0 },
            { question: "油門踏板位於哪個位置   ", options: ["最左邊", "中間", "最右邊", "左起第二"], correct: 2 },
            { question: "剎車踏板位於哪個位置？", options: ["最   邊", "中間", "最右邊", "左起第二"], correct: 1 },
            { question: "自動波車輛的「P」檔代表什麼   ", options: ["泊車檔", "前進檔", "倒後檔", "空檔"], correct: 0 },
            { question: "自動波車輛   「D」檔代表什麼？", options: ["泊車檔", "前進檔", "倒後   ", "空檔"], correct: 1 },
            { question: "自動波車輛的   R」檔代表什麼？", options: ["泊車檔", "前進檔", "倒後檔", "空檔"], correct: 2 },
            { question: "自動波車輛的「N」檔代表什麼？", options: ["泊車檔", "前進檔", "倒後檔", "空檔"], correct: 3 },
            { question: "駕駛前應調校以下哪項以確保正   坐姿？", options: ["音響系統", "座椅位置和後視鏡", "空調溫度", "車窗位置"], correct: 1 },
            { question: "正確的駕駛坐姿中，雙手應握在軚盤的哪個位置？", options: ["12點和6點", "9點和3點（或10點和2點）", "12點和12點", "隨意位置"], correct: 1 },

            // 基本交通規則應用
            { question: "香港車輛行駛方向是？", options: ["靠右行駛", "靠左行駛", "中間行駛", "沒有規定"], correct: 1 },
            { question: "市區一般道路的車速限制（如無特別標示）是多少公里/小時？", options: ["30公里", "50公里", "70公里", "80公里"], correct: 1 },
            { question: "快速公路的一般車速限制是多少公里/小時？", options: ["50公里", "70公里", "80公里", "110公里"], correct: 3 },
            { question: "遇到黃燈時應該怎樣做？", options: ["加速通過", "準備停車，除非已經很接近停止線而急停會危險", "立即急停", "隨意選擇"], correct: 1 },
            { question: "紅燈時可以右轉嗎？", options: ["可以", "不可以，除非有特別指示", "隨時可以", "看情況"], correct: 1 },
            { question: "行人過路時駕駛者應該怎樣做？", options: ["加速通過", "停車讓路", "響號催促", "繼續行駛"], correct: 1 },
            { question: "在斑馬線前，即使沒有交通燈，駕駛者應該？", options: ["加速通過", "減速並準備停車讓行人", "響號警告", "不用理會"], correct: 1 },
            { question: "雙白線代表什麼？", options: ["可以隨意越線", "嚴禁越線或跨線行駛", "可以短暫越線", "只是裝飾"], correct: 1 },
            { question: "雙黃線代表什麼？", options: ["可以隨意越線", "嚴禁超車", "可以超車", "只是裝飾"], correct: 1 },
            { question: "單白虛線代表什麼？", options: ["嚴禁越線", "在安全情況下可以越線", "禁止停車", "巴士專線"], correct: 1 },

            // 分析路牌指示牌
            { question: "紅色圓形路牌通常代表什麼？", options: ["指示", "禁止", "警告", "指路"], correct: 1 },
            { question: "三角形路牌通常代表什麼？", options: ["禁止", "警告", "指示", "指路"], correct: 1 },
            { question: "藍色圓形路牌通常代表什麼？", options: ["禁止", "警告", "必須遵守的指示", "指路"], correct: 2 },
            { question: "「停」(STOP) 標誌是什麼形狀？", options: ["圓形", "三角形", "八角形", "方形"], correct: 2 },
            { question: "見到「讓路」標誌應該怎樣做？", options: ["加速通過", "減速並讓其他車輛先行", "停車等待", "響號"], correct: 1 },
            { question: "黃色之字形線代表什麼？", options: ["可以停車", "不准停車上落客貨", "巴士站", "的   站"], correct: 1 },
            { question: "紅色單   線路邊代表什麼？", options: ["可以停車", "不准停車", "可以短暫停車", "巴士專線"], correct: 1 },
            { question: "黃色單實線路邊代表什麼？", options: ["可以隨意停車", "不准停車，但可上落     貨（有時間限制）", "巴士站", "的士站"], correct: 1 },
            { question: "「單程路」標誌通常是什麼   色和形狀？", options: ["紅色圓形", "藍色方形或長方   ", "黃色三角形", "綠色圓形"], correct: 1 },
            { question: "見到「小心兒童」標誌應該怎樣做？", options: ["加速離開", "減速並提高警覺", "響號警告", "不用理會"], correct: 1 },

            // 車輛系統操作
            { question: "泊車時應該拉起什麼以防止車輛滑動？", options: ["油門", "手剎車", "   合器", "軚盤"], correct: 1 },
            { question: "轉向燈應在轉彎前多久打開？", options: ["轉彎時", "轉彎後", "轉彎前適當距離", "不用打燈"], correct: 2 },
            { question: "夜間駕駛時應該使用哪種燈？", options: ["泊車燈", "車頭大燈", "霧燈", "不用開燈"], correct: 1 },
            { question: "在大霧天氣應該使用哪種燈？", options: ["遠光燈", "霧燈和近光燈", "泊車燈", "不用開燈"], correct: 1 },
            { question: "遇到對頭車時應該使用哪種燈？", options: ["遠光燈", "近光燈", "霧燈", "不用開燈"], correct: 1 },
            { question: "雨刷的作用是？", options: ["清潔車窗", "清潔車身", "清潔車輪", "清潔車燈"], correct: 0 },
            { question: "擋風玻璃除霧應該使用什麼？", options: ["雨刷", "空調系統", "手動擦拭", "不用理會"], correct: 1 },
            { question: "安全帶的作用是？", options: ["裝飾", "在碰撞時保護乘客", "固定座椅", "舒適"], correct: 1 },
            { question: "駕駛時必須繫上安全帶嗎？", options: ["可以不繫", "必須繫上", "隨意", "只在高速公路需要"], correct: 1 },
            { question: "頭枕的正確高度應該調校到哪裡？", options: ["頸部", "頭部中央", "肩膊", "隨意"], correct: 1 },

            // 方向控制
            { question: "左轉時應該駛入哪條行車線？", options: ["最右線", "最左線", "中線", "隨意"], correct: 1 },
            { question: "右轉時應該駛入哪條行車線？", options: ["最右線", "最左線", "中線", "隨意"], correct: 0 },
            { question: "切線時應該先做什麼？", options: ["直   切線", "查看盲點並打燈", "響號", "加速"], correct: 1 },
            { question: "倒後時應該怎樣做？", options: ["只看後視鏡", "扭頭   後看並配合後視鏡", "加速倒後", "不用看"], correct: 1 },
            { question: "駛入迴旋處應該讓哪邊的車輛先行？", options: ["左邊", "右邊（已在迴旋處內的車）", "對面", "隨意"], correct: 1 },
            { question: "離開迴旋處時應該打什麼燈？", options: ["左燈", "右燈", "不用打燈", "雙閃燈"], correct: 1 },
            { question: "在斜路泊車時，車頭向上，車輪應該怎樣擺？", options: ["向左", "向右（遠離路邊）", "直", "隨意"], correct: 1 },
            { question: "在斜路泊車時，車頭向下，車輪應該怎麼擺？", options: ["向左（向路邊）", "向右", "直", "隨意"], correct: 0 },
            { question: "平行泊車時應該與前車保持多少距離？", options: ["貼近", "約1-1.5呎", "約5呎", "越遠越好"], correct: 1 },
            { question: "駛離路邊泊位時應該先做什麼？", options: ["直接駛出", "打燈並查看盲點", "響號", "加速"], correct: 1 },

            // 駕駛技巧
            { question: "「盲點」是指什麼位置？", options: ["車頭", "後視鏡看不到的位置", "車尾", "車底"], correct: 1 },
            { question: "怎樣檢查盲點？", options: ["只看後視鏡", "扭頭向後看", "不用檢查", "倒後鏡已足夠"], correct: 1 },
            { question: "在濕滑路面應該怎樣駕駛？", options: ["加速", "減速並   加跟車距離", "正常駕駛", "急剎"], correct: 1 },
            { question: "與前車應該保持多少距離？", options: ["越近越好", "最少兩秒車程", "隨意", "一個車位"], correct: 1 },
            { question: "高速公路行駛時應該使用哪條線？", options: ["最左線", "中線或右線（慢線），左線用作超車", "隨意", "最右線"], correct: 1 },
            { question: "遇到緊   車輛（如救護車）時應該怎樣做？", options: ["加速離開", "靠邊讓路", "繼續行駛", "響   "], correct: 1 },
            { question: "發生交通意外時首先應該做什麼？", options: ["離開現場", "確保安全並報警", "爭論", "拍照"], correct: 1 },
            { question: "在隧道內應該注意什麼？", options: ["加速", "開燈並保持車距", "可以隨意切線", "可以停車"], correct: 1 },
            { question: "遇到學校區域應該怎樣做？", options: ["加速通過", "減速並小心兒童", "響號", "不用理會"], correct: 1 },
            { question: "疲倦時應該怎樣做？", options: ["繼續駕駛", "停車休息", "加速完成旅程", "開大音樂"], correct: 1 },

            // 駕駛執照
            { question: "香港私家車駕駛執照的代號是？", options: ["1", "2", "3", "4"], correct: 1 },
            { question: "學習駕駛執照（學牌）的有效期是多少個月？", options: ["6個月", "12個月", "18個月", "24個月"], correct: 1 },
            { question: "持學牌者必須在車上展示什麼？", options: ["無需展示", "「L」字牌", "「P」字牌", "駕駛執照"], correct: 1 },
            { question: "持學牌者可以獨自駕駛嗎？", options: ["可以", "不可以，必須有持正式駕照的人陪同", "晚上可以", "日間可以"], correct: 1 },
            { question: "暫准駕駛執照（P牌）的有效期是多少個月？", options: ["6個月", "12個月", "18個月", "24個月"], correct: 1 },
            { question: "持P牌者必須在車上展示什麼？", options: ["無需展示", "「L」字牌", "「P」字牌", "駕駛執照"], correct: 2 },
            { question: "正式駕駛執照的   效期通常是多少年？", options: ["1年", "3年", "5年", "10年"], correct: 3 },
            { question: "駕駛執照過期後可以繼續駕駛嗎？", options: ["可以", "不可以", "3個月內可以", "1個月內可以"], correct: 1 },
            { question: "申請學牌的最低年齡是多少歲？", options: ["16歲", "18歲", "20歲", "21歲"], correct: 1 },
            { question: "駕駛時必須隨身攜帶什麼？", options: ["身份證", "駕駛執照", "車輛登記文件", "以上全部"], correct: 3 },

            // 法規
            { question: "酒後駕駛的法定酒精濃度上限（每100毫升血液）是多少毫克？", options: ["20毫克", "50毫克", "80毫克", "100毫克"], correct: 1 },
            { question: "使用手提電話駕駛會被罰款嗎？", options: ["不會", "會", "只在高速公路", "只在市區"], correct: 1 },
            { question: "不繫安全帶會被罰款嗎？", options: ["不會", "會", "只在高速公路", "只在市區"], correct: 1 },
            { question: "衝紅燈會被罰分嗎？", options: ["不會", "會，通常罰3分", "只會罰款", "只會警告"], correct: 1 },
            { question: "駕駛時吸煙違法嗎？", options: ["違法", "不違法，但不建議", "只在隧道違法", "只在學校區違法"], correct: 1 },
            { question: "新牌司機（P牌）被扣多少分會被暫停駕駛資格？", options: ["3分", "5分", "10分", "15分"], correct: 1 },
            { question: "正式駕照持有人被扣多少分會被取消資格？", options: ["5分", "10分", "15分", "20分"], correct: 2 },
            { question: "超速駕駛會被罰分嗎？", options: ["不會", "會，視乎超速程度", "只會罰款", "只會警告"], correct: 1 },
            { question: "不遵守交通燈號會被罰款嗎？", options: ["不會", "會", "只是警告", "沒有規定"], correct: 1 },
            { question: "在禁止停車的地方停車會被罰款嗎？", options: ["不會", "會，並可能被拖車", "只是警告", "沒有規定"], correct: 1 },

            // 車輛文件保險
            { question: "香港法例規定必須購買的汽車保險是？", options: ["全保", "第三者保險", "綜合保險", "不需要保險"], correct: 1 },
            { question: "第三者保險主要保   什麼？", options: ["自己的車輛", "對第三者造成的損害", "車輛失竊", "自己受傷"], correct: 1 },
            { question: "綜合保險（全保）額外保障什麼？", options: ["只有第三者", "自己的車輛和第三者", "行李", "寵物"], correct: 1 },
            { question: "車輛登記文件（俗稱   牌簿」）應該放在哪裡？", options: ["家中", "車內並隨時可查", "銀行", "不用保存"], correct: 1 },
            { question: "車輛需要每年續牌嗎？", options: ["不需要", "需要", "兩年一次", "五年一次"], correct: 1 },
            { question: "車輛牌照過期可以繼續駕駛嗎？", options: ["可以", "不可以", "一個月內可以", "三個月內可以"], correct: 1 },
            { question: "驗車（車輛檢驗）通常在車齡多少年後需要進行？", options: ["新車即要", "6年", "10年", "不需要"], correct: 1 },
            { question: "車輛改裝需要申報嗎？", options: ["不需要", "需要，某些改裝需要運輸署批准", "隨意", "只有大改才需要"], correct: 1 },
            { question: "車輛過戶需要什麼手續？", options: ["口頭協議", "到運輸署辦理過戶手續", "不用手續", "只需簽字"], correct: 1 },
            { question: "保險證明書（俗稱「保險紙」）需要放在車內嗎？", options: ["不需要", "需要", "只需要副本", "可以不帶"], correct: 1 },

            //    費新車及二手車到手程序
            { question: "購買新車後首先要做什麼？", options: ["直接上路", "到運輸署登記及領牌", "等一個月", "不用手續"], correct: 1 },
            { question: "新車登記需   什麼文件？", options: ["只需身份證", "身份證、住址證明、購車文件、保險證明等", "只需保險", "不用文件"], correct: 1 },
            { question: "購買二手車時應該檢查什麼？", options: ["只看外觀", "車輛狀況、車輛歷史記錄、文件齊全性", "只看價錢", "不用檢查"], correct: 1 },
            { question: "二手車過戶需要什麼？", options: ["口頭協議", "買賣雙方到運輸署辦理過戶", "只需簽字", "不用手續"], correct: 1 },
            { question: "牌費（車輛牌照費）需要每年繳交嗎？", options: ["不需要", "需要，續牌時繳交", "十年一次", "五年一次"], correct: 1 },
            { question: "購買車輛保險時需要提供什麼資料？", options: ["只需姓名", "車輛資料、駕駛者資料、用途等", "只需車牌", "不用資料"], correct: 1 },
            { question: "新車的首次登記稅（首期稅）是什麼？", options: ["每月繳交", "購買新車時一次性繳交的稅項", "不用繳稅", "每年繳交"], correct: 1 },
            { question: "車輛登記號碼（車牌）可以自選嗎？", options: ["不可以", "可以，但需要付費競投", "隨機分配", "先   先得"], correct: 1 },
            { question: "私人協議購買二手車時，建議先做什麼？", options: ["直接付款", "驗車和查詢車輛歷史", "立即過戶", "不用檢查"], correct: 1 },
            { question: "購車後多久內必須完成登記和領牌？", options: ["隨時", "一般要即時辦理才可合法駕駛", "一個月內", "一年內"], correct: 1 },

            // 檢查
            { question: "駕駛前應該檢查什麼？", options: ["只看外觀", "輪胎、燈號、鏡、機油、冷卻水、剎車等", "只看油錶", "不用檢查"], correct: 1 },
            { question: "輪胎氣壓不足會有什麼影響？", options: ["沒有影響", "增加油耗、影響操控和安全", "更舒適", "更快"], correct: 1 },
            { question: "發現輪胎花紋磨損嚴重應該怎樣做？", options: ["繼續使用", "更換輪胎", "不理會", "只在下雨時換"], correct: 1 },
            { question: "機油的作用是什麼？", options: ["清潔車身", "潤滑引擎零件", "清潔玻璃", "加速"], correct: 1 },
            { question: "冷卻水的作用是什麼？", options: ["清潔引擎", "降低引擎溫度", "增加動力", "清   車輪"], correct: 1 },
            { question: "剎車油不足會有什麼影響？", options: ["沒有影響", "影響剎車效能，非常危險", "更快", "更慢"], correct: 1 },
            { question: "發現車燈不亮應該怎樣做？", options: ["不理會", "盡快修理或更換", "只在夜間修理", "等壞了再說"], correct: 1 },
            { question: "擋風玻璃有裂痕應該怎樣做？", options: ["不理會", "盡快修補或更換以免影響視線", "用膠紙貼", "等擴大再處理"], correct: 1 },
            { question: "定期保養車輛的好處是？", options: ["浪費金錢", "確保車輛安全和性能", "沒有好處", "只是建議"], correct: 1 },
            { question: "車輛出現異常聲音或震動應該怎樣做？", options: ["不理會", "盡快檢查和維修", "繼續駕駛", "等壞了再說"], correct: 1 }
        ];

        // --------------- 新增備用題庫並合併到主題庫（避免重複） ---------------
        // 備用手機資料（示例，包含較舊款與不同廠牌作為後備）
        const phoneDatabaseExtra = [
            { brand: "Nokia", model: "3310 (2000)", specs: { display: "單色LCD", chip: "Feature", storage: "無", camera: "無", battery: "900mAh" }, releaseYear: 2000, price: 299, os: "Feature OS" },
            { brand: "Samsung", model: "Galaxy A14", specs: { display: "6.6吋 LCD", chip: "Exynos/Snapdragon", storage: "64GB/128GB", camera: "50MP主鏡頭", battery: "5000mAh" }, releaseYear: 2023, price: 1299, os: "Android 13" },
            { brand: "Google", model: "Pixel 7a", specs: { display: "6.1吋 OLED", chip: "Tensor G2", storage: "128GB", camera: "64MP主鏡頭", battery: "4385mAh" }, releaseYear: 2023, price: 3499, os: "Android 13" },
            { brand: "Sony", model: "Xperia 10 III", specs: { display: "6.0吋 OLED", chip: "Snapdragon 690", storage: "128GB", camera: "12MP主鏡頭", battery: "4500mAh" }, releaseYear: 2021, price: 2599, os: "Android 11" }
        ];

        // 備用 AI 題   
        const aiQuestionsExtra = [
            { question: "哪種學習方式通   不需要人工標註標籤？", options: ["監督學習", "非監督學習", "半監督學習", "強化學習"], correct: 1 },
            { question: "哪家公司開發了語言模型BERT? ", options: ["OpenAI", "Google", "Facebook", "Microsoft"], correct: 1 },
            { question: "在圖像生成中，哪個技術常用於提高圖像質量   細節控制？", options: ["Diffusion模型", "決策樹", "支持向量機", "KMeans 分群"], correct: 0 },
            { question: "AI倫理討論中   哪一項是常見關切?", options: ["能源消耗", "模型尺寸", "訓練速度", "色彩空間"], correct: 0 }
        ];

        // 備用 Web 開發題庫
        const webQuestionsExtra = [
            { question: "哪個標籤用於在HTML插入可縮放的矢量圖形?", options: ['<svg>', '<canvas>', '<img>', '<vector>'], correct: 0 },
            { question: "CSS中的:root通常被用來做什麼？", options: ['定義全局變數', '設定圖片大小', '處理事件', '載入字體'], correct: 0 },
            { question: "哪個HTTP請求方法通常用於更新資源？", options: ['GET', 'POST', 'PUT', 'DELETE'], correct: 2 },
            { question: "下列哪個不是常見的前端打包工具？", options: ['Webpack', 'Vite', 'Parcel', 'MySQL'], correct: 3 }
        ];

        // 備用 Programming 題庫
        const programmingQuestionsExtra = [
            { question: "在Python中,哪個內建類型是不可變的？", options: ['list', 'dict', 'tuple', 'set'], correct: 2 },
            { question: "哪個命令可以在Linux下查看當前目錄的磁盤使用情況？", options: ['ls', 'df -h', 'du -sh', 'top'], correct: 2 },
            { question: "哪種排序演算法平均時間複雜度為 O(n log n)？", options: ['Bubble Sort', 'Insertion Sort', 'Quick Sort', 'Selection Sort'], correct: 2 },
            { question: "什麼是容器化技術常用來部署應用？", options: ['Docker', 'FTP', 'SMTP', 'Telnet'], correct: 0 }
        ];

        // 備用 Security 題庫
        const securityQuestionsExtra = [
            { question: "對抗式攻擊(Adversarial Attack)主要針對什麼類型系統？", options: ['網頁伺服器', '機器學習模型', '資料庫', '路由器'], correct: 1 },
            { question: "哪項是常見的兩步驟身份驗證形式？", options: ['僅密碼', '密碼+OTP', '只使用生物辨識', '公私鑰配對'], correct: 1 },
            { question: "社交工程攻擊主要利用什麼手段？", options: ['技術漏洞', '人性弱點', '硬體故障', '網速問題'], correct: 1 },
            { question: "防止勒索軟件的常見做   不包括？", options: ['定期備份', '及時打補丁', '打開來自不明郵件的附件', '使用防毒軟件'], correct: 2 }
        ];

        // 備用 Database 題庫
        const databaseQuestionsExtra = [
            { question: "Oracle資料庫常   的PL/SQL是什麼？", options: ['一種查詢語言', '過程式SQL', 'NoSQL語法', '儲存引擎'], correct: 1 },
            { question: "MySQL中哪種引擎支持事務？", options: ['MyISAM', 'InnoDB', 'Memory', 'CSV'], correct: 1 },
            { question: "哪一種資料庫適合儲存大量非結構化文件？", options: ['關聯式資料庫', '文檔型NoSQL', '時序資料庫', '圖形資料庫'], correct: 1 },
            { question: "什麼是ACID屬性中的‘I’？", options: ['一致性(Integrity)', '隔離性(Isolation)', '可用性(Availability)', '原子性(Atomicity)'], correct: 1 }
        ];

        // 備用 Computer Config 題庫
        const computerConfigDatabaseExtra = [
            { category: "BIOS", question: "啟動時按哪個鍵通常可以進入UEFI/BIOS設定？", options: ['F2', 'F12', 'Delete', 'F5'], correct: 2 },
            { category: "網線", question: "RJ45 接頭通常用於哪種類型的連接？", options: ['電源', '網絡', '音訊', '串列'], correct: 1 },
            { category: "網絡設備", question: "NAS的主要功能是什麼？", options: ['網路儲存', '網路終     ', '網頁伺服器', '虛擬化平台'], correct: 0 },
            { category: "Windows", question: "TPM 2.0 是為了提升哪方面？", options: ['圖形效能', '安全性', '網路速度', '電池續航'], correct: 1 }
        ];

        // 合併   數：針對問答題（有 question 欄位）去重並加入
        function mergeQuestionBank(targetArr, extraArr) {
            extraArr.forEach(item => {
                if (!targetArr.some(t => t.question && t.question === item.question)) {
                    targetArr.push(item);
                }
            });
        }

        // 合併 phones（以 brand+model 去重）
        function mergePhoneBank(targetArr, extraArr) {
            extraArr.forEach(p => {
                if (!targetArr.some(tp => tp.brand === p.brand && tp.model === p.model)) {
                    targetArr.push(p);
                }
            });
        }

        // 執行合併（保留   有題目並加入新的備用題目）
        try {
            mergePhoneBank(phoneDatabase, phoneDatabaseExtra);
            mergeQuestionBank(aiQuestions, aiQuestionsExtraLocal);
            mergeQuestionBank(webQuestions, webQuestionsExtra);
            mergeQuestionBank(programmingQuestions, programmingQuestionsExtra);
            mergeQuestionBank(securityQuestions, securityQuestionsExtra);
            mergeQuestionBank(databaseQuestions, databaseQuestionsExtra);
            mergeQuestionBank(computerConfigDatabase, computerConfigDatabaseExtra);
        } catch (e) {
            console.error('合併備用題庫時發生錯誤:', e);
        }
        // --------------- 備用題庫合併結束 ---------------

        // 生成問題
        function generateQuestions() {
            // 清理題庫避免亂碼與重複
            if (typeof sanitizeAndDedupeBanks === 'function') sanitizeAndDedupeBanks();
            currentQuestions = [];
            answeredQuestions = 0;
            levelScore = 0; // 重置當前關卡分數
            correctAnswers = 0; // 重置答對題數
            comboCount = 0; // 重置连击计数

            // 重置进度条显示
            const progressBarFill = document.getElementById('progressBarFill');
            const progressPercentage = document.getElementById('progressPercentage');
            const answeredCount = document.getElementById('answeredCount');
            const totalCount = document.getElementById('totalCount');
            const comboContainer = document.getElementById('comboContainer');

            if (progressBarFill) progressBarFill.style.width = '0%';
            if (progressPercentage) progressPercentage.textContent = '0%';
            if (answeredCount) answeredCount.textContent = '0';
            if (totalCount) totalCount.textContent = totalQuestions;
            if (comboContainer) comboContainer.classList.remove('active');

            // 準備倒计时器（顯示25秒但不開始倒數，等待玩家首次作答時才開始）
            prepareTimer();

            // 根據選中的類別決定使用哪個題庫
            let questionBank = [];
             switch(selectedCategory) {
                 case 'ai':
                     questionBank = aiQuestions;
                     break;
                 case 'game-dev':
                     questionBank = gameDevQuestions;
                     break;
                case 'multimedia':
                    questionBank = multimediaQuestions;
                    break;
                 case 'web':
                     questionBank = webQuestions;
                     break;
                 case 'programming':
                     questionBank = programmingQuestions;
                     break;
                 case 'security':
                     questionBank = securityQuestions;
                     break;
                 case 'database':
                     questionBank = databaseQuestions;
                     break;
                 case 'retail-system':
                     questionBank = retailSystemQuestions;
                     break;
                 case 'hiking-camping':
                     questionBank = hikingCampingQuestions;
                     break;
                 case 'japan-deep-dive':
                     questionBank = japanDeepDiveQuestions;
                     break;
                 case 'doraemon':
                     questionBank = doraemonQuestions;
                     break;
                 case 'phone':
                 default:
                     // 使用原有的手機猜謎邏輯
                     generatePhoneQuestions();
                     return;
             }

            // 為新類別生成題目 - 確保不重複
            // 創建已使用題目的追踪集合
            if (!window.usedQuestionIndices) {
                window.usedQuestionIndices = {};
            }
            if (!window.usedQuestionIndices[currentCategory]) {
                window.usedQuestionIndices[currentCategory] = new Set();
            }

            // 獲取未使用過的題目索引（針對題庫大小做防禦）
            const availableIndices = [];
            for (let i = 0; i < questionBank.length; i++) {
                if (!window.usedQuestionIndices[currentCategory].has(i)) {
                    availableIndices.push(i);
                }
            }

            // 如果整個題庫的大小少於5道，允許重複抽樣以填滿5題（抽樣帶重複）
            let selectedIndices = [];
            if (questionBank.length < 5) {
                // 隨機   樣 (允許重複) 直到取得 5 個索引
                while (selectedIndices.length < 5) {
                    const idx = Math.floor(Math.random() * questionBank.length);
                    selectedIndices.push(idx);
                }
            } else {
                // 如果可用題目少於5道，重置已使用於錄並重新建立 availableIndices
                if (availableIndices.length < 5) {
                    // 如果可用題目數量不足以組成 5 題，僅在真正耗盡（availableIndices === 0）時
                    // 顯示完成提示並重置題庫。否則保留已使用紀錄，只用剩餘題目補足。
                    if (availableIndices.length === 0) {
                        if (window.usedQuestionIndices[currentCategory].size > 0) {
                            if (typeof showAlertDialog === 'function') {
                                showAlertDialog('🎉 恭喜！您已完成本類別所有題目！<br><br>題庫將重新開始，讓您繼續挑戰。');
                            }
                        }
                        // 完全重置已使用紀錄並補滿可用索引
                        window.usedQuestionIndices[currentCategory].clear();
                        availableIndices.length = 0;
                        for (let i = 0; i < questionBank.length; i++) {
                            availableIndices.push(i);
                        }
                    } else {
                        // 還有剩餘可用題目但不足 5 題：保留已使用紀錄，
                        // 先把剩餘的 availableIndices 複製出來，再隨機補齊其餘題目（允許重複），
                        // 以避免過早重置題庫與錯誤提示。
                        const temp = availableIndices.slice();
                        while (temp.length < 5) {
                            const idx = Math.floor(Math.random() * questionBank.length);
                            temp.push(idx);
                        }
                        availableIndices.length = 0;
                        availableIndices.push(...temp);
                    }
                }

                // 隨機選擇5道不重複的題目
                const shuffledIndices = shuffleArray(availableIndices);
                selectedIndices = shuffledIndices.slice(0, 5);

                // 記錄已使用的題目
                selectedIndices.forEach(idx => {
                    window.usedQuestionIndices[currentCategory].add(idx);
                });
            }

            const selectedQuestions = selectedIndices.map(idx => questionBank[idx]);

            // 生成4道普通題目
            for (let i = 0; i < 4; i++) {
                const q = selectedQuestions[i];
                currentQuestions.push({
                    question: q.question,
                    options: q.options,
                    correctIndex: q.correct,
                    explanation: q.explanation || '',
                    answered: false,
                    type: `題目 ${i + 1}`
                });

                const challengeCard = document.getElementById(`challenge${i + 1}`);
                const titleElement = challengeCard.querySelector('.challenge-title');
                titleElement.textContent = `題目 ${i + 1}`;

                challengeContents[i].innerHTML = q.question;
                renderOptions(optionsContainers[i], q.options, i);
            }

            //    成額外挑戰題
            const bonusQ = selectedQuestions[4];
            currentQuestions.push({
                question: bonusQ.question,
                options: bonusQ.options,
                correctIndex: bonusQ.correct,
                explanation: bonusQ.explanation || '',
                answered: false,
                type: '額外挑戰'
            });

            bonusContent.innerHTML = bonusQ.question;
            renderOptions(bonusOptions, bonusQ.options, 4);
        }

        // 原有的手機   謎題目生成函數
        function generatePhoneQuestions() {
            currentQuestions = [];
            answeredQuestions = 0;
            levelScore = 0;
            correctAnswers = 0;
            comboCount = 0; // 重置连击计数

            // 重置进度条显示
            const progressBarFill = document.getElementById('progressBarFill');
            const progressPercentage = document.getElementById('progressPercentage');
            const answeredCount = document.getElementById('answeredCount');
            const totalCount = document.getElementById('totalCount');
            const comboContainer = document.getElementById('comboContainer');

            if (progressBarFill) progressBarFill.style.width = '0%';
            if (progressPercentage) progressPercentage.textContent = '0%';
            if (answeredCount) answeredCount.textContent = '0';
            if (totalCount) totalCount.textContent = totalQuestions;
            if (comboContainer) comboContainer.classList.remove('active');

            // 準備倒计时器（顯示25秒但不開始倒數，等待玩家首次作答時才開始）
            prepareTimer();

            // 根據關卡難度選擇手機
            const selectedPhones = selectPhonesForLevel();

            // 定義題目類型（只包含三種類型：規格猜型號、型號猜規格、年份   價格）
            const questionTypes = [
                { type: 'specToModel', title: '規格猜型號' },
                { type: 'modelToSpec', title: '型號猜規格' },
                { type: 'yearAndPrice', title: '年份與價格' },
                { type: 'specToModel', title: '規格猜型號' } // 第四題重複規格猜型號
            ];

            // 隨   打亂題目類型
            const shuffledTypes = shuffleArray(questionTypes);

            // 生成四種挑戰類型   問題
            for (let i = 0; i < 4; i++) {
                const phone = selectedPhones[i];
                const questionType = shuffledTypes[i];
                let question, options, correctIndex;

                // 根據隨機的題目類型生成問題
                switch(questionType.type) {
                    case 'specToModel': // 規格猜型號
                        question = `品牌: ${phone.brand}<br>規格: ${Object.values(phone.specs).join(', ')}`;
                        options = generateOptionsForModel(phone.model);
                        correctIndex = options.indexOf(phone.model);
                        break;
                    case 'modelToSpec': // 型號猜規格
                        question = `型號: ${phone.brand} ${phone.model}`;
                        const specKey = getRandomSpecKey(phone.specs);
                        const correctSpec = phone.specs[specKey];
                        question += `<br>請選擇正確的${getSpecKeyName(specKey)}:`;
                        options = generateOptionsForSpec(specKey, correctSpec, phone.brand);
                        correctIndex = options.indexOf(correctSpec);
                        break;
                    case 'yearAndPrice': // 年份與價格
                        question = `型號: ${phone.brand} ${phone.model}`;
                        options = generateOptionsForYearAndPrice(phone.releaseYear, phone.price);
                        correctIndex = options.indexOf(`${phone.releaseYear}年推出，首發價格約 HK$${phone.price}`);
                        break;
                }

                // 記錄題目組合，確保不重複
                const questionKey = `${phone.model}-${questionType.type}-${currentLevel}`;
                usedCombinations.add(questionKey);

                currentQuestions.push({
                    question,
                    options,
                    correctIndex,
                    answered: false,
                    type: questionType.title
                });

                // 更新UI - 更新題目類型標題
                const challengeCard = document.getElementById(`challenge${i + 1}`);
                const titleElement = challengeCard.querySelector('.challenge-title');
                titleElement.textContent = questionType.title;

                challengeContents[i].innerHTML = question;
                renderOptions(optionsContainers[i], options, i);
            }

            // 生成額外挑戰
            generateBonusChallenge(selectedPhones[4]);
        }

        // 獲   規格鍵的中文名稱
        function getSpecKeyName(specKey) {
            const specNames = {
                'display': '螢幕規格',
                'chip': '處理器',
                'storage': '儲存容量',
                'camera': '相機規格',
                'battery': '電池容量'
            };
            return specNames[specKey] || '規格';
        }

        // 根據關卡難度選擇手機
        function selectPhonesForLevel() {
            // 獲取未使用過的手機
            const availablePhones = phoneDatabase.filter(phone =>
                !usedPhones.includes(phone.model)
            );

            // 如果可用手機少於5部，重置已使用記錄（確保遊戲可以繼續）
            if (availablePhones.length < 5) {
                usedPhones = [];
                usedCombinations.clear(); // 同時清空已使用的題目組合
                return selectPhonesForLevel(); // 遞歸重新選擇
            }

            // 隨機打亂可用手機並選擇5部
            const shuffled = shuffleArray(availablePhones);
            const selectedPhones = shuffled.slice(0, 5);

            // 記錄已使用的手機
            selectedPhones.forEach(phone => {
                if (!usedPhones.includes(phone.model)) {
                    usedPhones.push(phone.model);
                }
            });

            return selectedPhones;
        }

        // 生成型號選項
        function generateOptionsForModel(correctModel) {
            const options = [correctModel];
            while (options.length < 4) {
                const randomPhone = phoneDatabase[Math.floor(Math.random() * phoneDatabase.length)];
                const option = randomPhone.model;
                if (!options.includes(option)) {
                    options.push(option);
                }
            }
            return shuffleArray(options);
        }

        // 生成規格選項
        function generateOptionsForSpec(specKey, correctSpec, brand) {
            const options = [correctSpec];
            while (options.length < 4) {
                let randomSpec;
                // 根據規格類型生成合理的錯誤選項
                switch(specKey) {
                    case 'display':
                        const sizes = ['5.4吋', '6.1   ', '6.5吋', '6.7吋', '6.8吋', '7.6吋'];
                        const types = ['OLED', 'AMOLED', 'Super Retina XDR', 'Dynamic AMOLED 2X'];
                        randomSpec = `${sizes[Math.floor(Math.random() * sizes.length)]} ${types[Math.floor(Math.random() * types.length)]}`;
                        break;
                    case 'chip':
                        const chips = ['A14 Bionic', 'A15 Bionic', 'A16 Bionic', 'A17 Pro', 'Snapdragon 8 Gen 2', 'Snapdragon 8 Gen 3', 'Tensor G2', 'Tensor G3'];
                        randomSpec = chips[Math.floor(Math.random() * chips.length)];
                        break;
                    case 'storage':
                        const storages = ['64GB', '128GB', '256GB', '512GB', '1TB'];
                        randomSpec = storages[Math.floor(Math.random() * storages.length)];
                        break;
                    case 'camera':
                        const resolutions = ['12MP', '48MP', '50MP', '64MP', '108MP', '200MP'];
                        const lenses = ['主鏡頭', '超廣角', '望遠', '潛望式望遠'];
                        randomSpec = `${resolutions[Math.floor(Math.random() * resolutions.length)]}${lenses[Math.floor(Math.random() * lenses.length)]}`;
                        if (Math.random() > 0.5) {
                            randomSpec += ` + ${resolutions[Math.floor(Math.random() * resolutions.length)]}${lenses[Math.floor(Math.random() * lenses.length)]}`;
                        }
                        break;
                    case 'battery':
                        const batteries = ['3000mAh', '3500mAh', '4000mAh', '4500mAh', '5000mAh', '5500mAh'];
                        randomSpec = batteries[Math.floor(Math.random() * batteries.length)];
                        break;
                    default:
                        randomSpec = '未知規格';
                }
                
                if (!options.includes(randomSpec)) {
                    options.push(randomSpec);
                }
            }
            return shuffleArray(options);
        }

        // 生成年份與價格選項
        function generateOptionsForYearAndPrice(correctYear, correctPrice) {
            const options = [`${correctYear}年推出，首發價格約 HK$${correctPrice}`];
            while (options.length < 4) {
                const yearVariation = Math.floor(Math.random() * 5) - 2; // -2     -2 到 +2 的變化
                const priceVariation = Math.floor(Math.random() * 2000) - 1000; // -1000 到 +1000 的變化
                const year = correctYear + yearVariation;
                const price = correctPrice + priceVariation;
                
                if (year >= 2015 && year <= 2024 && price > 0) {
                    const option = `${year}年推出年首發價格約 HK$${price}`;
                    if (!options.includes(option)) {
                        options.push(option);
                    }
                }
            }
            return shuffleArray(options);
        }

        // 生成作業系統選項
        function generateOptionsForOS(correctOS) {
            const options = [correctOS];
            const osOptions = [
                'iOS 15', 'iOS 16', 'iOS 17',
                'Android 12', 'Android 13', 'Android 14',
                'Android 12 (One UI 4.1)', 'Android 13 (One UI 5.1)', 'Android 14 (One UI 6.1)',
                'Android 12 (MIUI 13)', 'Android 13 (MIUI 14)', 'Android 14 (HyperOS)',
                'Android 12 (OxygenOS 12)', 'Android 13 (OxygenOS 13)', 'Android 14 (OxygenOS 14)'
            ];
            
            while (options.length < 4) {
                const randomOS = osOptions[Math.floor(Math.random() * osOptions.length)];
                if (!options.includes(randomOS)) {
                    options.push(randomOS);
                }
            }
            return shuffleArray(options);
        }

        // 生成額外挑戰
        function generateBonusChallenge(phone) {
            const question = `品牌: ${phone.brand}<br>型號: ${phone.model}<br>請選擇正確的發布年份和價格組合:`;
            bonusContent.innerHTML = question;

            const options = generateOptionsForYearAndPrice(phone.releaseYear, phone.price);
            const correctIndex = options.indexOf(`${phone.releaseYear}年推出，首發價格約 HK$${phone.price}`);

            currentQuestions[4] = {
                question,
                options,
                correctIndex,
                answered: false,
                type: '額外挑戰'
            };

            renderOptions(bonusOptions, options, 4);
        }

        // 更新进度条（使用 requestAnimationFrame 实现平滑动画）
        function updateProgressBar() {
            const progressBarFill = document.getElementById('progressBarFill');
            const progressPercentage = document.getElementById('progressPercentage');
            const answeredCount = document.getElementById('answeredCount');
            const totalCount = document.getElementById('totalCount');

            if (!progressBarFill || !progressPercentage || !answeredCount || !totalCount) return;

            const targetProgress = (answeredQuestions / totalQuestions) * 100;
            const currentProgress = parseFloat(progressBarFill.style.width) || 0;

            // 更新文字显示
            answeredCount.textContent = answeredQuestions;
            totalCount.textContent = totalQuestions;

            // 使用 requestAnimationFrame 实现平滑动画
            function animateProgress(start, end, duration) {
                const startTime = performance.now();

                function update(currentTime) {
                    const elapsed = currentTime - startTime;
                    const progress = Math.min(elapsed / duration, 1);

                    // 使用缓动函数
                    const easeProgress = progress < 0.5
                        ? 2 * progress * progress
                        : 1 - Math.pow(-2 * progress + 2, 2) / 2;

                    const currentValue = start + (end - start) * easeProgress;
                    progressBarFill.style.width = currentValue + '%';
                    progressPercentage.textContent = Math.round(currentValue) + '%';

                    if (progress < 1) {
                        requestAnimationFrame(update);
                    }
                }

                requestAnimationFrame(update);
            }

            animateProgress(currentProgress, targetProgress, 500);
        }

        // 更新连击计数器
        function updateCombo(isCorrect) {
            const comboContainer = document.getElementById('comboContainer');
            const comboNumber = document.getElementById('comboNumber');

            if (!comboContainer || !comboNumber) return;

            // 清除之前的超时
            if (comboTimeout) {
                clearTimeout(comboTimeout);
            }

            if (isCorrect) {
                comboCount++;

                // 只有连击数 >= 2 时才显示
                if (comboCount >= 2) {
                    comboNumber.textContent = comboCount;
                    comboContainer.classList.add('active');

                    // 触发脉冲动画
                    const comboDisplay = comboContainer.querySelector('.combo-display');
                    if (comboDisplay) {
                        comboDisplay.style.animation = 'none';
                        setTimeout(() => {
                            comboDisplay.style.animation = 'comboPulse 0.6s ease-out';
                        }, 10);
                    }
                }

                // 5秒后隐藏连击显示
                comboTimeout = setTimeout(() => {
                    comboContainer.classList.remove('active');
                }, 5000);
            } else {
                // 答错了，重置连击
                comboCount = 0;
                comboContainer.classList.remove('active');
            }
        }

        // 渲染選項（含每題的「確定提交」按鈕與解釋區塊）
        function renderOptions(container, options, questionIndex) {
            container.innerHTML = '';
            options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = option;
                optionElement.tabIndex = 0;
                optionElement.addEventListener('click', () => selectOption(questionIndex, index));
                optionElement.addEventListener('keypress', (e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); optionElement.click(); } });
                container.appendChild(optionElement);
            });

            // 添加確認提交按鈕（每題一個）
            const confirmBtn = document.createElement('button');
            confirmBtn.className = 'confirm-btn';
            confirmBtn.textContent = '確定提交';
            confirmBtn.style.cssText = 'margin-top:10px; padding:8px 12px; background: linear-gradient(135deg, #00a8ff 0%, #0066ff 100%); color:#fff; border:none; border-radius:8px; cursor:pointer; font-weight:700;';
            confirmBtn.addEventListener('click', () => confirmAnswer(questionIndex));
            container.appendChild(confirmBtn);

            // 解釋區塊（初始隱藏）
            const explanationDiv = document.createElement('div');
            explanationDiv.className = 'explanation';
            explanationDiv.style.cssText = 'margin-top:8px; font-size:14px; color:var(--text-primary, #e0e0e0); display:none;';
            container.appendChild(explanationDiv);
        }

        // 選擇選項（只標記選擇，不立即計分）
        function selectOption(questionIndex, optionIndex) {
            if (!currentQuestions[questionIndex] || currentQuestions[questionIndex].answered) return;

            // 首次選擇答案時啟動計時器
            startTimer();

            // 記錄用戶暫時選擇（尚未確定提交）
            currentQuestions[questionIndex].userAnswer = optionIndex;

            let options;
            if (questionIndex === 4) {
                options = document.querySelectorAll('#bonusOptions .option');
            } else {
                options = document.querySelectorAll(`#options${questionIndex + 1} .option`);
            }
            if (!options || options.length === 0) return;

            // 清除先前選中樣式，並為當前選項加上 selected（允許改選直到按下確定）
            options.forEach(opt => opt.classList.remove('selected'));
            if (options[optionIndex]) options[optionIndex].classList.add('selected');
        }

        // 確認提交答案：計分、標示對錯、顯示解釋
        function confirmAnswer(questionIndex) {
            const q = currentQuestions[questionIndex];
            if (!q || q.answered) return;

            const selected = typeof q.userAnswer === 'number' ? q.userAnswer : undefined;
            if (typeof selected === 'undefined') {
                if (typeof showCustomAlert === 'function') {
                    showCustomAlert('請先選擇一個答案，再按確定提交。');
                }
                return;
            }

            // 標記為已回答並累計
            q.answered = true;
            answeredQuestions++;

            const container = questionIndex === 4 ? document.getElementById('bonusOptions') : document.getElementById('options' + (questionIndex + 1));
            if (!container) return;
            const nodes = Array.from(container.querySelectorAll('.option'));

            // 禁用所有選項並標示正確/錯誤
            nodes.forEach((n, i) => {
                n.classList.add('disabled');
                if (i === q.correctIndex) n.classList.add('correct');
                if (i === selected && selected !== q.correctIndex) n.classList.add('wrong');
                n.classList.remove('selected');
            });

            // 更新分數
            const isCorrect = selected === q.correctIndex;
            if (isCorrect) {
                correctAnswers++;
                levelScore += (questionIndex === 4) ? 15 : 10;
            }
            updateScore && updateScore();

            // 更新进度条和连击计数器
            updateProgressBar();
            updateCombo(isCorrect);

            // 顯示解釋
            const explanationDiv = container.querySelector('.explanation');
            if (explanationDiv) {
                explanationDiv.style.display = 'block';
                try {
                    explanationDiv.innerHTML = generateExplanationText(q);
                } catch (e) {
                    explanationDiv.textContent = '解釋無法取得。';
                }
            }

            // 隱藏或停用確認按鈕
            const btn = container.querySelector('.confirm-btn');
            if (btn) { btn.disabled = true; btn.style.opacity = '0.6'; }

            // 若所有題目均   提交，顯示關卡結果
            if (answeredQuestions === totalQuestions) {
                // 停止计时器
                stopTimer();
                setTimeout(() => showLevelResults(), 500);
            }
        }

        // 计时器函数
        function startTimer() {
            // 如果計時器已經啟動，不重複啟動
            if (timerStarted) return;

            timerStarted = true;

            // 清除现有计时器
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }

            // 启动计时器（時間已經在 prepareTimer 中設置為 25）
            timerInterval = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();

                // 时间到了
                if (timeRemaining <= 0) {
                    clearInterval(timerInterval);
                    timerInterval = null;
                    handleTimeUp();
                }
            }, 1000);
        }

        // 準備計時器（顯示初始時間但不開始倒數）
        function prepareTimer() {
            // 重置狀態
            timerStarted = false;

            // 清除现有计时器
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }

            // 重置时间並顯示
            timeRemaining = TIMER_DURATION;
            updateTimerDisplay();
        }

        function stopTimer() {
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
            timerStarted = false;
            // 重置時間為 25 秒
            timeRemaining = TIMER_DURATION;
            updateTimerDisplay();
        }

        // 暴露计时器函数到全局
        window.startTimer = startTimer;
        window.stopTimer = stopTimer;
        window.prepareTimer = prepareTimer;

        function updateTimerDisplay() {
            const timerValue = document.getElementById('timerValue');
            const timerContainer = document.getElementById('timerContainer');
            const timerRingFill = document.getElementById('timerRingFill');

            if (timerValue) {
                timerValue.textContent = timeRemaining;
            }

            if (timerContainer) {
                // 移除之前的状态类
                timerContainer.classList.remove('warning', 'danger');

                // 根据剩余时间添加状态类
                if (timeRemaining <= 5) {
                    timerContainer.classList.add('danger');
                } else if (timeRemaining <= 10) {
                    timerContainer.classList.add('warning');
                }
            }

            // 更新环形进度条
            if (timerRingFill) {
                const progress = timeRemaining / TIMER_DURATION;
                const circumference = 2 * Math.PI * 36; // r=36
                const offset = circumference * (1 - progress);
                timerRingFill.style.strokeDashoffset = offset;
            }
        }

        function handleTimeUp() {
            // 停止计时器
            stopTimer();

            // 标记所有未回答的题目为未作答
            let unansweredCount = 0;
            currentQuestions.forEach((question, index) => {
                if (!question.answered) {
                    unansweredCount++;
                    question.answered = true;
                    question.timeout = true; // 标记为超时
                    answeredQuestions++;

                    // 显示正确答案
                    const container = index === 4
                        ? document.getElementById('bonusOptions')
                        : document.getElementById('options' + (index + 1));

                    if (container) {
                        const nodes = Array.from(container.querySelectorAll('.option'));
                        nodes.forEach((n, i) => {
                            n.classList.add('disabled');
                            if (i === question.correctIndex) {
                                n.classList.add('correct');
                            }
                        });

                        // 显示超时提示
                        const explanationDiv = container.querySelector('.explanation');
                        if (explanationDiv) {
                            explanationDiv.style.display = 'block';
                            explanationDiv.innerHTML = '<span style="color: #ff3750; font-weight: bold;">⏰ 超時未作答</span><br>' + generateExplanationText(question);
                        }

                        // 禁用确认按钮
                        const btn = container.querySelector('.confirm-btn');
                        if (btn) {
                            btn.disabled = true;
                            btn.style.opacity = '0.6';
                        }
                    }
                }
            });

            // 更新进度条
            updateProgressBar();

            // 显示结算页面
            setTimeout(() => {
                showLevelResults(unansweredCount);
            }, 800);
        }

        // 顯示關卡完成結果
        function showLevelResults(unansweredCount = 0) {
            // 停止计时器
            stopTimer();
            // 顯示所有題目的對錯（防禦性處理：支援多選與文字題，避免 null/undefined 導致例外）
            currentQuestions.forEach((question, index) => {
                let options;
                if (index === 4) {
                    options = document.querySelectorAll('#bonusOptions .option');
                } else {
                    options = document.querySelectorAll(`#options${index + 1} .option`);
                }

                const userAnswer = question.userAnswer;
                const correctAnswer = question.correctIndex;

                // 如果有選項節點（多選題）
                if (options && options.length > 0) {
                    // 若使用者選的是數字索引且對應節點存在，移除 selected 樣式
                    if (typeof userAnswer === 'number' && options[userAnswer]) {
                        options[userAnswer].classList.remove('selected');
                    }

                    // 標示正確選項（如果存在）
                    if (typeof correctAnswer === 'number' && options[correctAnswer]) {
                        options[correctAnswer].classList.add('correct');
                    }

                    // 若使用者選擇了錯誤選項，標示為 wrong（前提為數字索引）
                    if (typeof userAnswer === 'number' && typeof correctAnswer === 'number' && userAnswer !== correctAnswer && options[userAnswer]) {
                        options[userAnswer].classList.add('wrong');
                    }
                } else {
                    // 可能為文字題或無選項的情形：嘗試找到對應的輸入框並顯示結果
                    const inputField = document.getElementById('textInput-' + index);
                    const container = index === 4 ? document.getElementById('bonusOptions') : document.getElementById('options' + (index + 1));
                    if (inputField) {
                        inputField.disabled = true;

                        // 使用現有的文字比對函數（若存在）
                        let isCorrectText = false;
                        if (typeof window.checkTextAnswer === 'function' && typeof question.correctText !== 'undefined') {
                            isCorrectText = window.checkTextAnswer(question.userAnswer || '', question.correctText || '');
                        } else if (typeof question.correctText !== 'undefined') {
                            // 簡單降級比較（忽略大小寫與空白）
                            const normalize = (s) => (s || '').toString().toLowerCase().replace(/[^a-z0-9\u4e00-\u9fff]/g, '');
                            isCorrectText = normalize(question.userAnswer) === normalize(question.correctText);
                        }

                        if (isCorrectText) {
                            inputField.style.borderColor = 'var(--correct)';
                            inputField.style.backgroundColor = 'rgba(0, 210, 106, 0.1)';
                        } else {
                            inputField.style.borderColor = 'var(--wrong)';
                            inputField.style.backgroundColor = 'rgba(255, 55, 80, 0.1)';
                            if (typeof question.correctText !== 'undefined' && container) {
                                const hint = document.createElement('div');
                                hint.style.marginTop = '10px';
                                hint.style.color = 'var(--correct)';
                                hint.style.fontSize = '14px';
                                hint.innerHTML = `✓ 正確答案: <strong>${question.correctText}</strong>`;
                                container.appendChild(hint);
                            }
                        }
                    }
                }
            });

            // 檢查是否需要更新此關的最高分
            const previousScore = levelScores[currentLevel] || 0;
            const isRetry = levelScores[currentLevel] !== undefined;

            if (levelScore > previousScore) {
                // 更新最高分
                if (isRetry) {
                    // 如果是重做，需要先扣除之前的分分，再加上新分數
                    score = score - previousScore + levelScore;
                } else {
                    // 首次完成，直接加密
                    score += levelScore;
                }
                levelScores[currentLevel] = levelScore;
            } else if (isRetry) {
                // 重做但分數更低，不更新總分
                // 總分保持不變
            } else {
                // 首次完成
                score += levelScore;
                levelScores[currentLevel] = levelScore;
            }

            updateScore();

            // 顯示關卡完成模態框
            let resultDetails = '<div style="text-align: left; margin-top: 20px; max-height: 300px; overflow-y: auto;">';

            currentQuestions.forEach((question, index) => {
                const isCorrect = question.userAnswer === question.correctIndex;
                const isTimeout = question.timeout === true;
                const icon = isTimeout ? '⏰' : (isCorrect ? '✓' : '✗');
                const color = isTimeout ? '#ff8c00' : (isCorrect ? 'var(--correct)' : 'var(--wrong)');
                const points = index === 4 ? 15 : 10;
                const earnedPoints = isCorrect ? points : 0;
                // 使用存儲在question中的type,如果不存在則使用額外挑戰
                const questionType = question.type || '額外挑戰';

                let statusText = '';
                if (isTimeout) {
                    statusText = `超時未作答`;
                } else if (isCorrect) {
                    statusText = `答對了！`;
                } else {
                    statusText = `答錯了`;
                }

                resultDetails += `
                    <div style="margin-bottom: 12px; padding: 10px; background: rgba(255,255,255,0.05); border-radius: 8px; border-left: 3px solid ${color};">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <span style="font-weight: 600;">${questionType}</span>
                            <span style="color: ${color}; font-size: 20px; font-weight: bold;">${icon}</span>
                        </div>
                        <div style="font-size: 13px; opacity: 0.8; margin-top: 5px;">
                            ${statusText} (${isCorrect ? `+${earnedPoints}` : '0'} 分)
                        </div>
                    </div>
                `;
            });
            resultDetails += '</div>';

            // 檢查是否需要顯示重做按鈕
            // 條件：第3-10關，分數未達一半(少於2題正確，即分數<20)，且未使用過重做機會
            const halfScore = 20; // 至少2題正確 = 2*10 = 20分
            const canRetry = currentLevel >= 3 && currentLevel <= 10 &&
                           correctAnswers < 2 &&
                           !retryUsed[currentLevel];

            if (canRetry) {
                retryButtonContainer.style.display = 'block';
            } else {
                retryButtonContainer.style.display = 'none';
            }

            // 顯示分數信息
            let scoreInfo = '';
            if (isRetry) {
                if (levelScore > previousScore) {
                    scoreInfo = `<div style="font-size: 14px; color: var(--correct); margin-top: 10px;">✓ 本次分數更高！已更新總分 (+${levelScore - previousScore} 分)</div>`;
                } else {
                    scoreInfo = `<div style="font-size: 14px; color: var(--wrong); margin-top: 10px;">本次分數較低，保留之前的 ${previousScore} 分</div>`;
                }
            }

            // 计算超时题目数量
            const timeoutCount = currentQuestions.filter(q => q.timeout === true).length;
            const wrongCount = totalQuestions - correctAnswers - timeoutCount;

            modalTitle.textContent = `關卡 ${currentLevel} 完成！`;
            modalMessage.innerHTML = `
                <div style="margin-bottom: 15px;">
                    <div style="font-size: 18px; margin-bottom: 10px;">
                        答對 <span style="color: var(--correct); font-weight: bold;">${correctAnswers}</span> 題，
                        答錯 <span style="color: var(--wrong); font-weight: bold;">${wrongCount}</span> 題${timeoutCount > 0 ? `，<span style="color: #ff8c00; font-weight: bold;">超時未作答 ${timeoutCount} 題</span>` : ''}
                    </div>
                    ${scoreInfo}
                    ${canRetry ? '<div style="font-size: 14px; color: #ff8c00; margin-top: 10px;">⚠️ 成績未如理想，您可以使用一次重做機會！</div>' : ''}
                </div>
                ${resultDetails}
            `;
            modalScore.textContent = isRetry ? `本關得分: ${levelScore} (   高: ${Math.max(levelScore, previousScore)}) | 金幣: $${coins}$` : `+${levelScore} 分 | 金幣: $${coins}$`;

            // 啟用下一關按   
            nextLevelBtn.disabled = false;

            // 如果其他代碼（例如 defensive IIFE）在稍後將按鈕重設為 disabled，
            // 使用短暫延遲再次檢查並再次啟用，避免因覆寫導致不可點擊的 UX 問題。
            setTimeout(() => {
                try {
                    if (nextLevelBtn && nextLevelBtn.disabled) {
                        nextLevelBtn.disabled = false;
                    }
                } catch (e) {
                    // 忽略任何意外錯誤，保證不阻塞 UI
                }
            }, 300);

            resultModal.classList.add('active');
        }

        // 輔助函數：隨機打亂數組
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        // 資料清   與去重：移除亂碼替換字元與控制字元，並以 question 文本去重
        function sanitizeAndDedupeBanks() {
            try {
                if (!window._backupBanks) window._backupBanks = {};
                if (typeof bankMap !== 'undefined') {
                    Object.keys(bankMap).forEach(cat => {
                        const arr = bankMap[cat];
                        if (!Array.isArray(arr)) return;

                        // 備份原始
                        if (!window._backupBanks[cat]) window._backupBanks[cat] = JSON.parse(JSON.stringify(arr));

                        const map = new Map();
                        arr.forEach(item => {
                            // 正規化所有字串欄位
                            const clone = Object.assign({}, item);
                            const sanitize = (s) => {
                                if (typeof s !== 'string') return s;
                                // 移除 U+FFFD ( ) 以及控制字符（除了常用的中文與英文與標點）
                                return s.replace(/\uFFFD/g, '').replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]/g, '').replace(/   /g, '');
                            };
                            // 處理 question 和 options 中的亂碼
                            clone.question = sanitize(clone.question);
                            if (Array.isArray(clone.options)) {
                                clone.options = clone.options.map(sanitize);
                            }
                            // 使用 question 字串做去重鍵
                            if (clone.question && !map.has(clone.question)) {
                                map.set(clone.question, clone);
                            }
                        });

                        // 覆寫原陣列
                        arr.length = 0;
                        map.forEach(v => arr.push(v));
                    });
                }
            } catch (e) {
                console.warn('sanitizeAndDedupeBanks 錯誤', e);
            }
        }

        // 輔助函數：獲取隨機規格鍵
        function getRandomSpecKey(specs) {
            const keys = Object.keys(specs);
            return keys[Math.floor(Math.random() * keys.length)];
        }

        // 事件監聽器
        backToHomeBtn.addEventListener('click', () => {
            // 停止计时器
            stopTimer();

            // 返回到主頁（介紹頁面）——使用已宣告的 introScreen/gameScreen 變數，並提供元素ID備援。
            try {
                // 顯示 intro 並隱藏 game（嘗試使用   數，若不存在則使用 ID 備援）
                if (typeof introScreen !== 'undefined' && introScreen) {
                    introScreen.style.display = 'block';
                    introScreen.style.opacity = '1';
                    introScreen.style.transform = 'translateY(0)';
                    introScreen.classList.remove('hidden');
                } else {
                    const ip = document.getElementById('introScreen') || document.getElementById('introPage');
                    if (ip) {
                        ip.style.display = 'block';
                        ip.style.opacity = '1';
                        ip.style.transform = 'translateY(0)';
                        ip.classList.remove('hidden');
                    }
                }

                if (typeof gameScreen !== 'undefined' && gameScreen) {
                    gameScreen.style.display = 'none';
                    gameScreen.style.opacity = '0';
                    gameScreen.classList.add('hidden');
                } else {
                    const gp = document.getElementById('gameScreen') || document.getElementById('gamePage');
                    if (gp) {
                        gp.style.display = 'none';
                        gp.style.opacity = '0';
                        gp.classList.add('hidden');
                    }
                }

                // 確保視窗滾回頂端，讓使用者能馬上看到主頁內容
                window.scrollTo({ top: 0, behavior: 'smooth' });
            } catch (e) {
                console.error('backToHomeBtn handler error:', e);
            }
        });
        
        nextLevelBtn.addEventListener('click', () => {
            // 關閉模態框
            resultModal.classList.remove('active');

            if (currentLevel < 20) {
                // 明確停止當前關卡的計時器
                stopTimer();

                currentLevel++;
                updateLevelIndicator();
                generateQuestions();
                nextLevelBtn.disabled = true;
            } else {
                // 遊戲通關 - 顯示最終完成畫面並返回主頁
                setTimeout(() => {
                    modalTitle.textContent = "🏆 恭喜通關！";
                    modalMessage.innerHTML = `
                        <div style="font-size: 18px; margin-bottom: 20px;">
                            你成功完成了所有 20 個關卡！<br>
                            你是真正的<span style="color: var(--accent-light); font-weight: bold;">手機終極大師</span>！
                        </div>
                    `;
                    modalScore.textContent = `總分: ${score}`;
                    resultModal.classList.add('active');

                    // 修改按鈕文字為返回主頁
                    nextLevelBtn.textContent = '返回主頁';
                    nextLevelBtn.disabled = false;

                    // 添加一次性事件處理器來返回主頁
                    const returnHome = () => {
                        resultModal.classList.remove('active');
                        document.getElementById('introPage').classList.remove('hidden');
                        document.getElementById('gamePage').classList.add('hidden');
                        // 恢復按鈕文字
                        nextLevelBtn.textContent = '前往下一關';
                        nextLevelBtn.removeEventListener('click', returnHome);
                    };

                    // 移除舊的監聽器並添加新的
                    nextLevelBtn.addEventListener('click', returnHome, { once: true });
                }, 300);
            }
        });
        
        closeModalBtn.addEventListener('click', () => {
            resultModal.classList.remove('active');
        });

        // 分享成績按鈕事件
        const shareScoreBtn = document.getElementById('shareScoreBtn');
        shareScoreBtn.addEventListener('click', () => {
            generateShareImage();
        });

        // 生成分享圖片的函數
        function generateShareImage() {
            // 創建隱藏的 canvas
            const canvas = document.createElement('canvas');
            canvas.width = 800;
            canvas.height = 600;
            const ctx = canvas.getContext('2d');

            // 設置背景漸變
            const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
            gradient.addColorStop(0, '#0a0e17');
            gradient.addColorStop(1, '#1a1f38');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // 添加裝飾圖案
            ctx.globalAlpha = 0.1;
            for (let i = 0; i < 3; i++) {
                const x = Math.random() * canvas.width;
                const y = Math.random() * canvas.height;
                const radius = 100 + Math.random() * 100;
                const circleGradient = ctx.createRadialGradient(x, y, 0, x, y, radius);
                circleGradient.addColorStop(0, '#00a8ff');
                circleGradient.addColorStop(1, 'transparent');
                ctx.fillStyle = circleGradient;
                ctx.beginPath();
                ctx.arc(x, y, radius, 0, Math.PI * 2);
                ctx.fill();
            }
            ctx.globalAlpha = 1.0;

            // 添加邊框
            ctx.strokeStyle = '#00a8ff';
            ctx.lineWidth = 4;
            ctx.strokeRect(20, 20, canvas.width - 40, canvas.height - 40);

            // 獲取當前遊戲信息
            const categoryName = selectedCategory || '智能手機';
            const currentScoreText = document.getElementById('modalScore').textContent;
            const totalScore = score;
            const levelText = `關卡 ${currentLevel}`;

            // 繪製標題
            ctx.fillStyle = '#00a8ff';
            ctx.font = 'bold 48px "Segoe UI", sans-serif';
            ctx.textAlign = 'center';
            ctx.fillText('🏆 我的遊戲成績', canvas.width / 2, 100);

            // 繪製遊戲名稱
            ctx.fillStyle = '#e0e0e0';
            ctx.font = 'bold 36px "Segoe UI", sans-serif';
            ctx.fillText('智能手機猜謎遊戲', canvas.width / 2, 160);

            // 繪製遊戲類別
            ctx.fillStyle = '#4cd0ff';
            ctx.font = 'bold 32px "Segoe UI", sans-serif';
            ctx.fillText(`遊戲類別: ${categoryName}`, canvas.width / 2, 230);

            // 繪製關卡信息
            ctx.fillStyle = '#ffd700';
            ctx.font = 'bold 38px "Segoe UI", sans-serif';
            ctx.fillText(levelText, canvas.width / 2, 300);

            // 繪製本關分數（大標題）
            ctx.fillStyle = '#00d26a';
            ctx.font = 'bold 56px "Segoe UI", sans-serif';
            ctx.fillText(currentScoreText, canvas.width / 2, 390);

            // 繪製總分
            ctx.fillStyle = '#e0e0e0';
            ctx.font = 'bold 32px "Segoe UI", sans-serif';
            ctx.fillText(`累積總分: ${totalScore}`, canvas.width / 2, 460);

            // 繪製底部信息
            ctx.fillStyle = '#a0a0a0';
            ctx.font = '20px "Segoe UI", sans-serif';
            ctx.fillText('TechQuiz - 真•香港人問答及猜謎遊戲', canvas.width / 2, 540);

            // 將 canvas 轉換為圖片並下載
            canvas.toBlob((blob) => {
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.href = url;
                link.download = `TechQuiz成績_${categoryName}_關卡${currentLevel}_${totalScore}分.png`;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                URL.revokeObjectURL(url);

                // 顯示成功提示
                showCustomAlert('✅ 成績圖片已生   並下載！');
            });
        }

        // 自定義提示框函數（因為不能使用 alert）
        function showCustomAlert(message) {
            const alertDiv = document.createElement('div');
            alertDiv.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: linear-gradient(135deg, #00a8ff 0%, #4cd0ff 100%);
                color: white;
                padding: 20px 40px;
                border-radius: 12px;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
                z-index: 10000;
                font-size: 18px;
                font-weight: bold;
                text-align: center;
                animation: fadeInOut 2.5s ease-in-out;
            `;
            alertDiv.textContent = message;
            document.body.appendChild(alertDiv);

            setTimeout(() => {
                document.body.removeChild(alertDiv);
            }, 2500);
        }

        // 重做按鈕事件
        retryLevelBtn.addEventListener('click', () => {
            // 標記此關已使用重做機會
            retryUsed[currentLevel] = true;

            // 關閉模態框
            resultModal.classList.remove('active');

            // 重新生成當前關卡的題目
            generateQuestions();
            nextLevelBtn.disabled = true;
        });

        // 使用免死金牌跳過當前關卡（需要確認，跳過2關）
        if (skipLevelBtn) {
            skipLevelBtn.addEventListener('click', () => {
                // 計算   需金幣
                const requiredCoins = skipTokensUsed === 0 ? 500 : skipTokensUsed === 1 ? 1000 : 999999;

                // 檢查是否可以使用
                if (skipTokensUsed >= 2) return;
                if (coins < requiredCoins) return;
                if (currentLevel > 18) return; // 最後兩關不能跳過

                // 計算將跳過的關卡
                const skippedFrom = currentLevel;
                const skippedTo = Math.min(currentLevel + 2, 20); // 跳過2關，但不超過第20關
                const actualSkipped = skippedTo - skippedFrom;

                // 創建確認對話框
                const confirmModal = document.createElement('div');
                confirmModal.className = 'fixed inset-0 flex items-center justify-center z-50';
                confirmModal.style.cssText = 'position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.7); display: flex; align-items: center; justify-content: center; z-index: 9999;';

                confirmModal.innerHTML = `
                    <div style="background: var(--bg-secondary, #1a1a2e); padding: 30px; border-radius: 16px; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4); max-width: 400px; width: 90%; border: 2px solid #ffd700; text-align: center;">
                        <div style="font-size: 24px; font-weight: bold; color: #ffd700; margin-bottom: 20px;">⚠️ 確認使用   死金牌</div>
                        <div style="color: var(--text-primary, #e0e0e0); font-size: 16px; line-height: 1.6; margin-bottom: 20px;">
                            <p style="margin-bottom: 10px;">你將要使用免死金牌跳過關卡：</p>
                            <p style="font-size: 18px; font-weight: bold; color: #ffd700; margin: 15px 0;">
                                第 ${skippedFrom} 關 → 第 ${skippedTo} 關
                            </p>
                            <p style="margin-top: 10px; color: #ff6b6b; font-weight: bold;">消耗金幣: $${requiredCoins}</p>
                            <p style="margin-top: 10px; font-size: 14px; color: #aaa;">
                                這是你的第 ${skipTokensUsed + 1} 次使用
                                ${skipTokensUsed === 0 ? '<br>（下次使用需要 $1000）' : '<br>（這是最後一次機會）'}
                            </p>
                        </div>
                        <div style="display: flex; gap: 15px; justify-content: center; margin-top: 25px;">
                            <button id="confirmSkipBtn" style="flex: 1; padding: 12px 20px; background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%); color: #000; font-weight: bold; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; transition: transform 0.2s;">
                                確認跳過
                            </button>
                            <button id="cancelSkipBtn" style="flex: 1; padding: 12px 20px; background: #444; color: #fff; font-weight: bold; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; transition: transform 0.2s;">
                                取消
                            </button>
                        </div>
                    </div>
                `;

                document.body.appendChild(confirmModal);

                // 按鈕懸停效果
                const confirmBtn = confirmModal.querySelector('#confirmSkipBtn');
                const cancelBtn = confirmModal.querySelector('#cancelSkipBtn');

                confirmBtn.addEventListener('mouseenter', () => confirmBtn.style.transform = 'scale(1.05)');
                confirmBtn.addEventListener('mouseleave', () => confirmBtn.style.transform = 'scale(1)');
                cancelBtn.addEventListener('mouseenter', () => cancelBtn.style.transform = 'scale(1.05)');
                cancelBtn.addEventListener('mouseleave', () => cancelBtn.style.transform = 'scale(1)');

                // 確認按鈕事件
                confirmBtn.addEventListener('click', () => {
                    // 消耗金幣
                    score -= requiredCoins;

                    // 增加使用次數
                    skipTokensUsed++;

                    // 更新顯示與金幣
                    updateScore();

                    // 跳過2關
                    currentLevel = skippedTo;
                    updateLevelIndicator();
                    generateQuestions();
                    nextLevelBtn.disabled = true;

                    // 移除確認對話框
                    confirmModal.remove();

                    // 顯示結果提示
                    modalTitle.textContent = `✅ 已成功跳過 ${actualSkipped} 關！`;
                    modalMessage.innerHTML = `
                        <div style="font-size:16px; line-height: 1.8;">
                            <p style="color: #ffd700; font-weight: bold; margin-bottom: 10px;">從第 ${skippedFrom} 關跳到第 ${skippedTo} 關</p>
                            <p style="margin-bottom: 10px;">已消    <span style="color: #ff6b6b; font-weight: bold;">$${requiredCoins}</span> 金幣</p>
                            <p style="font-size: 14px; color: #aaa;">
                                免死金牌已使   : ${skipTokensUsed}/2 次
                                ${skipTokensUsed === 1 ? '<br><span style="color: #ffed4e;">下次使用需要 $1000</span>' : ''}
                                ${skipTokensUsed === 2 ? '<br><span style="color: #ff6b6b;">已用完所有機會</span>' : ''}
                            </p>
                            <p style="margin-top: 15px; color: var(--correct, #4ade80);">祝你在新關卡挑戰成功！💪</p>
                        </div>
                    `;
                    modalScore.textContent = `剩餘金幣: $${coins}`;
                    resultModal.classList.add('active');
                });

                // 取消按鈕事件
                cancelBtn.addEventListener('click', () => {
                    confirmModal.remove();
                });

                // 點擊背景關閉
                confirmModal.addEventListener('click', (e) => {
                    if (e.target === confirmModal) {
                        confirmModal.remove();
                    }
                });
            });
        }

        // 頁面控制
        const introScreen = document.getElementById('introScreen');
        const gameScreen = document.getElementById('gameScreen');
        const startGameBtn = document.getElementById('startIntroBtn');

        // 類別選擇功能
        let selectedCategory = null;
        const categoryCards = document.querySelectorAll('.category-card');
        const selectedCategoryInfo = document.querySelector('.selected-category-info');
        const selectedCategoryName = document.getElementById('selectedCategoryName');

         const categoryNames = {
             'phone': '手機猜謎遊戲',
             'ai': 'AI人人工智能',
             'web': '網頁開發',
             'programming': '編程開發',
             'security': '網絡雲端保安',
             'database': '數據庫管理',
             'computer-config': '電腦配置軟件硬件',
             'computer': '電腦配置軟件硬件',
             'smartphone': '手機猜謎遊戲',
             'multimedia': '多媒體製作應用',
             'japan-deep-dive': '日本深度探究之旅',
             'doraemon': '認識多啦A夢達人挑戰賽',
             'game-dev': '遊戲軟件開   ',
             'retail-system': '零售管理系統',
             'intranet-system': '內聯網及內部管理系統',
             'hk-driving': '自學私家車香港駕駛',
             'paranormal': '靈探或探險認知',
             'hk-18-districts': '真•香港人對18區的認知',
            'gen-z-slang': 'Z世    網絡潮語',
             'hk-transport': '香港九巴以及港鐵各路線的認知'
         };

        // 新增：香港18區題庫（`hk-18-districts`）
        const hk18Questions = [
            { category: "香港18區", question: "香港共有多少個行政區（通常稱為18區）?", options: ["16", "18", "20", "24"], correct: 1 },
            { category: "香港18區", question: "中西區的著名地標之一是?", options: ["尖沙咀天星碼頭", "中環天星碼頭", "赤柱市場", "迪士尼樂園"], correct: 1 },
            { category: "香港18區", question: "香港的兩大主要島嶼是?", options: ["香港島與新界", "香港島與九龍", "香港島與大嶼山", "九龍與大嶼山"], correct: 2 },
            { category: "香   18區", question: "哪一區以夜市和小食聞名（例子：廟街）?", options: ["油仔區", "深水埗區", "油尖旺區", "北區"], correct: 2 },
            { category: "香港18區", question: "港島區哪個地點以高級   物和地標維港景色著稱?", options: ["銅鑼灣", "中環", "黃大仙", "荃灣"], correct: 1 },
            { category: "香港18區", question: "九龍哪一區以購物、酒店集中及尖沙   天星小輪碼頭聞名?", options: ["九龍城", "旺角", "油尖旺", "深水埗"], correct: 2 },
            { category: "香港18區", question: "香港哪個地區擁有香港國際機場?", options: ["屯門區", "元朗區", "大嶼山（離島）", "葵青區"], correct: 2 },
            { category: "香港18區", question: "   坪360纜車和天壇大佛位於哪個地區?", options: ["離島區（大嶼山）", "南區", "中西區", "西貢區"], correct: 0 },
            { category: "香港18區", question: "哪一區以大排檔、街市和地道小食著稱（如：深水埗）?", options: ["中西區", "深水埗區", "東區", "南區"], correct: 1 },
            { category: "香港18區", question: "香港哪處是著名的旅遊打卡地：黃大仙祠還是天壇大佛?", options: ["黃大仙祠", "天壇大佛", "兩者皆是", "都不是"], correct: 2 },
            { category: "香港18區", question: "香港的潮流街區蘭桂坊主要位於哪個區?", options: ["中西區", "灣仔", "深水埗", "油尖旺"], correct: 0 },
            { category: "香港18區", question: "旺角最有名的街市和購物區是?", options: ["女人街、花園街", "太古城", "赤柱市集", "黃大仙中心"], correct: 0 },
            { category: "香港18區", question: "哪個區以海濱長廊、海鮮及漁村文化   稱（如：西貢）?", options: ["西貢區", "沙田區", "北區", "深埗區"], correct: 0 },
            { category: "香港18區", question: "香港哪個地區以高   住宅與海濱燈塔（淺水灣、淺水灣海灘）較有名?", options: ["南區", "中西區", "九龍城", "葵青區"], correct: 0 },
            { category: "香港18區", question: "香港哪個區域以傳統廟宇(如黄大仙)及民間信仰文化著名?", options: ["黃大仙區", "中西區", "灣仔", "將軍澳"], correct: 0 }
        ];

        // 新增：香港司法機構及程序題庫（hk-judiciary）
        const hkJudiciaryQuestions = [
            { category: '香港司法機構', question: '香港最高法院是哪一級法院？', options: ['終審法院', '高等法院', '區域法院', '裁判法院'], correct: 0 },
            { category: '香港司法機構', question: '以下哪個法院主要審理重大民事及刑事上   ？', options: ['高等法院', '區域法院', '終審法院', '青年法院'], correct: 2 },
            { category: '香港司法程序', question: '刑事案件中，檢控一方一般由哪個部門負責？', options: ['律政司（Department of Justice）', '警務處', '法庭書記', '社會福利署'], correct: 0 },
            { category: '香港司法程序', question: '在民事訴訟中，提出訴訟的一方稱為？', options: ['原告 / 申索人', '被告', '檢控方', '證人'], correct: 0 },
            { category: '香港司法程序', question: '在刑事案件中，被告人應由哪一方為其辯護？', options: ['辯方律師 / 被告的代表', '檢控方', '法官', '法院書記官'], correct: 0 },
            { category: '香港司法程序', question: '下列哪項通常屬於出庭前的程序？', options: ['提堂 / 嫌疑人首次出庭', '判刑宣判', '執行上訴裁決', '陪審團選拔後的宣判'], correct: 0 },
            { category: '證據與證人', question: '在庭上作供的證人角色是什麼？', options: ['提供與案件相關的事實與證據', '代表法庭作決定', '負責執行判   ', '編寫法律意見書'], correct: 0 },
            { category: '法律援助', question: '如被告無力支付律師費，可申請什麼？', options: ['法律援助或值勤律師', '法院傳票', '上訴權', '保釋   減免'], correct: 0 },
            { category: '審訊與裁判', question: '裁決後若需判刑，通常由誰決定刑罰？', options: ['法官（或陪審團建議由法官判刑）', '律政司', '警察', '被告'], correct: 0 },
            { category: '審訊程序', question: '在刑事訴訟中，控方需要做什麼以建立案件？', options: ['提出證據並說服法庭被告有罪', '為被告辯護', '編制法律援助文件', '提供保釋金'], correct: 0 },
            { category: '司法機構', question: '下列哪一項屬於司法組成的一部分？', options: ['法官、法院書記、審判庭', '稅務局、海關、立法會', '律師會計師、保險人', '選舉委員會'], correct: 0 },
            { category: '程序', question: '民事案件中常見的兩方稱呼是什麼？', options: ['原告與被告', '檢控方與辯護方', '法官與陪審團', '法院與律政司'], correct: 0 }
        ];

        // 新增：香港天氣知識王題庫（hk-weather） — 提供豐富後備題目，避免重複
        const hkWeatherQuestions = [
            { category: '天氣', question: '香港歷史記錄中的最高日間氣溫接近哪個範圍？', options: ['38-40°C', '30-32°C', '25-27°C', '42-44°C'], correct: 0 },
            { category: '天氣', question: '哪種警告代表持續大雨，通常觸發學校停課？', options: ['黑色暴雨警告', '黃色暴雨警告', '紅色暴雨警告', '藍色暴雨警告'], correct: 0 },
            { category: '天氣', question: '香港天文台發出的紅色暴雨警告通常代表累積雨在短期內達到約多少（大致）？', options: ['70 毫米或以上', '50 毫米', '30 毫米', '20 毫米'], correct: 0 },
            { category: '天氣', question: '颱風信號中，哪個信號表示風力達到每小時約 118 公里或以上   屬最高級別？', options: ['10號颱風信號', '8號東北信號', '3號強風信號', '1號戒備信號'], correct: 0 },
            { category: '   氣', question: '哪一個描述最接近「強烈季候風」的影響？', options: ['長時間的大風與顯著溫度變化', '短暫陣雨', '夜間霜凍', '晴朗無雲'], correct: 0 },
            { category: '天氣', question: '暴雨警告的顏色順序由重到輕為何？', options: ['黑 > 紅 > 黃', '黃 > 紅 > 黑', '紅 > 黃 > 黑', '黑 > 黃 > 紅'], correct: 0 },
            { category: '天氣', question: '單日最高雨量記錄通常以什麼計量單位記錄？', options: ['毫米 (mm)', '公分 (cm)', '英寸 (in)', '立方米'], correct: 0 },
            { category: '天氣', question: '哪一個不是   風信號的一部分？', options: ['法院傳票', '8號風力信號', '3號強風信號', '10號颱風信號'], correct: 0 },
            { category: '天氣', question: '颱風來襲時，學校停課和機構停工的常見依據是什麼？', options: ['天文台颱風警告信號及   育局/政府指引', '媒體報導', '社交媒體投票', '交通公司公告'], correct: 0 },
            { category: '天氣', question: '「最強陣風」是指在短時間內觀測到的最大風速還是平均風速？', options: ['短時間的最大風速', '日均風速', '月平均風速', '10分鐘平均風速'], correct: 0 },
            { category: '天氣', question: '「山泥傾瀉」風險通常會在什麼情況下升高？', options: ['連續大量降雨後', '晴朗無風時', '空氣乾燥時', '氣溫劇降時'], correct: 0 },
            { category: '天氣', question: '「雷暴警告」主要提示公眾要注意哪種風險？', options: ['閃電與雷擊、強風和暴雨', '地震', '火山爆發', '交通堵塞'], correct: 0 },
            { category: '天氣', question: '香港天文台通常會如何收集地面天氣資料？', options: ['自動氣象站、雨量站、風速儀與觀測員報告', '透過社交媒體', '只靠遙感圖片', '隨機樣本調查'], correct: 0 },
            { category: '天氣', question: '全球暖化導致   長期趨勢不太可能包含哪一項？', options: ['寒冷日數大幅增加', '平均溫度上升', '極端高溫事件增加', '海平面上升'], correct: 0 },
            { category: '天氣', question: '哪一項   是打風期間的常見交通指引？', options: ['高速穩行無須變速', '避免乘坐小艇及渡輪', '查詢交通公司最新公告', '留意道路塌方及封路消息'], correct: 0 },
            { category: '天氣', question: '暴雨期間「每小時最高雨量」通常用於評估哪項？', options: ['短時間內的瞬時強降雨', '年降水總量', '   平均降雨', '海水鹽度'], correct: 0 },
            { category: '天氣', question: '「酷熱天氣警告」主要是為了提醒公眾注意什麼？', options: ['中暑與高溫健康風險', '雷暴來襲', '颱風信號', '濃霧影響航班'], correct: 0 },
            { category: '天氣', question: '「寒冷天氣警告」及「霜凍警告」較常出現於哪一季節？', options: ['冬季', '夏季', '颱風季', '梅雨季'], correct: 0 },
            { category: '天氣', question: '香港天文台的颱風信號「8NE」代表什麼？', options: ['8號東北烈風或暴風信號（東北風向）', '只是普通的東風', '沒有實際意義', '代表8級地震'], correct: 0 },
            { category: '天氣', question: '哪一種天氣現象較為罕見但曾在香港觀測到？', options: ['   捲風（局地強烈旋風）', '日常細雨', '常見霧', '微風'], correct: 0 },
            { category: '天氣', question: '氣候變化的一個常見後果是什麼？', options: ['極端天氣事件頻率或強度改變', '地   停止自轉', '海洋消失', '月亮改變軌道'], correct: 0 },
            { category: '天氣', question: '香港觀測的「最強颱風」通常是以哪個參數衡量？', options: ['中心附近   最大持續風速或最低氣壓', '雲層面積', '颱風名字長度', '颱風移動速度'], correct: 0 },
            { category: '天氣', question: '對於收集真實天氣數據，哪項做法最重要？', options: ['定期校準儀器與維護觀測站', '只靠手機應用程式', '僅觀察社交媒體', '偶爾量一次溫度'], correct: 0 },
            { category: '天氣', question: '停課停工的決定通常參考哪些資訊？', options: ['天文台信號與政府/教育局指引', '私人意見', '社交媒體投票', '只看是否下雨'], correct: 0 },
            { category: '天氣', question: '在熱帶氣旋中，「最強颱風」是否等同於最多雨量？', options: ['不一定   最強指風力/氣壓，而最大雨量受結構與行徑影響', '一定相同', '完全無關', '只看名字'], correct: 0 },
            { category: '天氣', question: '哪種警告提示可能發生嚴重道路積水與山泥傾瀉？', options: ['暴雨警告與山泥傾瀉警告', '空氣質素指數', '颱風未來預報', '日出時間   '], correct: 0 },
            { category: '天氣', question: '颱風期間在室內要特別注意哪項安全措施？', options: ['遠離窗戶、固定鬆動物件', '在陽台觀察風勢', '靠近窗戶拍攝影像', '走到屋頂通風'], correct: 0 },
            { category: '天氣', question: '香港天文台通常會使用哪種方式向公眾發布警告？', options: ['網頁、手機應用、廣播與電視', '只用書信', '只用專業期刊', '口頭通知附近鄰居'], correct: 0 }
        ];

        // 新增：Z世代網絡潮語題庫（`gen-z-slang`）
        // 注意：盡量收錄常見且意義穩定的術語，較不確定或地區性極強的詞語建議由您核對。
        const genZQuestions = [
            { category: "Z世代潮語", question: "'YYDS' 在中文網絡語境通常表示什麼?", options: ["永遠的神", "最近很火", "欣像", "很尷尬"], correct: 0 },
            { category: "Z世代潮語", question: "'kam' 在廣東話網絡用語中通常代表?", options: ["開心", "尷尬", "讚賞", "離開"], correct: 1 },
            { category: "Z世代潮語", question: "'GG' 在遊戲或聊天中常用來表示?", options: ["好遊戲 (Good Game)", "再見", "加油", "幫忙"], correct: 0 },
            { category: "Z世代潮語", question: "'OTL' 常用於表達什麼情緒?", options: ["歡喜", "沮喪/失望", "驚訝", "生氣"], correct: 1 },
            { category: "Z世代潮語", question: "網絡用語 'sks' 常見於哪一類交流?", options: ["唱歌比賽", "戲謔/輕鬆互動", "法庭語言", "技術文件"], correct: 1 },
            { category: "Z世代潮語", question: "'pk' 在線上語境通常代表?", options: ["英文文件格式", "比賽/挑戰 (player kill) ", "取笑", "靜默"], correct: 1 },
            { category: "Z世代潮語", question: "當有人說 'sus'（源自英語 suspicious），通常在指什麼?", options: ["可疑", "幽默", "讚賞", "求助"], correct: 0 },
            { category: "Z世代潮語", question: "'low-key' 在年輕人語境中表示?", options: ["公開地", "低調/暗地", "很吵", "生氣"], correct: 1 },
            { category: "Z世代潮語", question: "'flex' 在網絡潮語中通常指?", options: ["展示/炫耀", "折疊", "失敗", "幫助"], correct: 0 },
            { category: "Z世代潮語", question: "當人們在聊天中說 'fire'   貼近潮語），代表?", options: ["很熱", "很棒/很潮", "出問題", "需要救援"], correct: 1 },
            { category: "Z世代潮語", question: "'ship' 在粉絲圈常用來表示?", options: ["運輸", "配對/支持某對CP", "分手", "翻譯"], correct: 1 },
            { category: "Z世代潮語", question: "'stan' 最初來源於哪種含義，現在多用來表示?", options: ["強烈支持的粉絲", "反對者", "中立觀眾", "技術專家"], correct: 0 },
            { category: "Z世代潮語", question: "'AF' (as f***) 用在口語中用來表示?", options: ["程度很輕", "非常/極其", "否定", "疑問"], correct: 1 }
        ];

        // 新增：香港九巴/龍運/港鐵/輕鐵認知題庫
        const hkBusQuestions = [
            // 九巴基本認知
            { category: "九巴龍運", question: "九巴（Kowloon Motor Bus）在香港主要服務哪些區域?", options: ["新界全區", "九龍全區及新界", "只有九龍", "只有香港島"], correct: 1 },
            { category: "九巴龍運", question: "龍運巴士主要服務香港的哪個區域?", options: ["九龍及香港島", "新界及香港國際機場", "只有新界", "只   機場"], correct: 1 },
            { category: "九巴龍運", question: "九巴A線巴士通常連接什麼地點?", options: ["市區景點", "機場與市區", "只有新   ", "只有港鐵站"], correct: 1 },
            { category: "九巴龍運", question: "九巴N線巴士代表什麼?", options: ["新線", "夜間巴士", "快速巴士", "豪華巴士"], correct: 1 },
            { category: "九巴龍運", question: "香港巴士現時   要採用哪種電子支付系統?", options: ["現金", "八達通、支付寶、微信支付等", "只有信用卡", "只有手機支付"], correct: 1 },
            { category: "九巴龍運", question: "「巴士到站提示APP」哪個應用最常用?", options: ["Google Map", "KMB Next Bus App", "WhatsApp", "YouTube"], correct: 1 },
            { category: "九巴龍運", question: "九巴與新巴的主要分別是?", options: ["沒有分別", "九巴主要服務九龍新界，新巴主要服務香港島", "九巴更貴", "新巴的車更新"], correct: 1 },
            { category: "九巴龍運", question: "香港最忙碌大轉車站（轉乘樞紐）是?", options: ["旺角", "中環", "油麻地", "以上皆是"], correct: 0 },
            { category: "九巴龍運", question: "「長者優惠   乘搭九巴的車資通常是?", options: ["全價", "半價", "免費(需持長者卡)", "只在周末"], correct: 2 },
            { category: "九巴龍運", question: "九巴設有無障礙巴士(輪椅易上易下)   ?", options: ["沒有", "有，並配置斜台及輪椅位置", "只有新巴", "只在某些路線"], correct: 1 },
            { category: "九巴龍運", question: "九巴的3501與3502路線主要連接?", options: ["機場與九龍", "機場與新界", "新界與港島", "市區內循環"], correct: 0 },
            { category: "九巴龍運", question: "   門至杏花邨的常用轉車點是?", options: ["旺角", "中環", "九龍灣", "鑽石山"], correct: 1 },
            { category: "九巴龍運", question: "以下哪個是九巴A線機場巴士的特點?", options: ["只在白天運行", "便宜快速連接機場與市區", "只停靠港鐵站", "需要預約"], correct: 1 },
            { category: "九巴龍運", question: "香港巴士一般於晚上幾時停止提供常規服務?", options: ["午夜12時", "凌晨1-2時", "凌晨3-4時", "不停止"], correct: 2 },
            { category: "九巴龍運", question: "「轉乘優惠計劃」(Bus-to-Bus Transfer)的有效期是?", options: ["30分鐘", "60分鐘", "90分鐘", "無時限"], correct: 2 }
        ];

        const hkMTRQuestions = [
            // 港鐵基本認知
            { category: "港鐵線路", question: "港鐵(MTR)現   有多少條主要營運路線?", options: ["8條", "10條", "12條", "15條"], correct: 1 },
            { category: "港鐵線路", question: "港鐵中環站是哪些線的交匯點?", options: ["只有港島線", "港島線、深港線、荃涌線", "只有南港島線", "只有荃灣線"], correct: 1 },
            { category: "港鐵線   ", question: "港鐵最新開通的南港島線主要連接?", options: ["南區與中環", "南區與荃灣", "南區與九龍", "港島線與東涌   "], correct: 0 },
            { category: "港鐵線路", question: "港鐵東涌線主要服務?", options: ["東涌至中環(機場快線)", "東涌至九龍", "東涌至香港", "東涌至屯門"], correct: 0 },
            { category: "港鐵線路", question: "港鐵迪士尼線的終點站是?", options: ["香港", "迪士尼樂園", "小蠠灣", "宜昌街"], correct: 1 },
            { category: "港鐵線路", question: "港鐵屯馬線全線開通後連接?", options: ["屯門至香港", "屯門至金鐘", "屯門至馬鞍山", "屯門至烏溪沙"], correct: 3 },
            { category: "港鐵線   ", question: "港鐵紅磡站可轉乘哪些線?", options: ["只有東鐵線", "東鐵線、西鐵線、機場快線", "只有西   線", "只有東涌線"], correct: 1 },
            { category: "港鐵線路", question: "港鐵九龍塘站是?", options: ["只有荃灣線", "荃灣線與觀塘線的交匯", "只有觀塘線", "只有東鐵線"], correct: 1 },
            { category: "港鐵線路", question: "   鐵天后站的特色是?", options: ["天后廟附近", "海邊景色", "購物中心", "以上皆是"], correct: 3 },
            { category: "港鐵線路", question: "港鐵灣仔站連接哪些線?", options: ["只有港島線", "港島線與南港島線", "只有南港島線", "港島線與東涌線"], correct: 1 },
            { category: "港鐵線路", question: "港鐵北角站到底是哪一線?", options: ["東鐵線", "港島線", "觀塘線", "荃灣線"], correct: 1 },
            { category: "港鐵線路", question: "港鐵黃竹坑站開通於哪條新線?", options: ["南港島線", "屯馬線", "機場快線", "迪士尼線"], correct: 0 },
            { category: "港鐵線路", question: "港鐵應用程式「MTR Mobile」主要功能包括?", options: ["購票", "實時班   查詢、車站資訊", "只有支付", "只有路線查詢"], correct: 1 },
            { category: "港鐵線路", question: "港鐵的「去來票」(Return Ticket)通常有效期是?", options: ["3天", "7天", "10天", "14天"], correct: 1 },
            { category: "港鐵線路", question: "港鐵尖沙咀站是哪些線的主要轉乘點?", options: ["只有荃灣線", "荃灣線、東鐵線、南北線等", "只有東鐵線", "只有南北線"], correct: 1 }
        ];

        const hkLRTQuestions = [
            // 輕鐵基本認知
            { category: "輕鐵", question: "香港輕鐵(LRT)主要服務哪些區域?", options: ["新界西部(屯門、元朗、天水圍)", "新界東部", "九龍", "香港島"], correct: 0 },
            { category: "輕鐵", question: "輕鐵總共有多少條路線?", options: ["8條", "9條", "11條", "13條"], correct: 2 },
            { category: "輕鐵", question: "輕鐵的最大特色是?", options: ["全地下", "地面電車、與巴士無縫轉乘", "高速快線", "只連接機場"], correct: 1 },
            { category: "輕鐵", question: "輕鐵現時收費為?", options: ["$4.5-$6.1", "$6.1-$8.3", "$3.5-$5.7", "$7-$10"], correct: 0 },
            { category: "輕鐵", question: "屯門輕鐵與港鐵屯門站的轉乘步行時間約為?", options: ["2-3分鐘", "5-10分鐘", "15-20分鐘", "30分鐘以上"], correct: 1 },
            { category: "輕鐵", question: "天水圍輕   站是哪兩條輕鐵線的交匯?", options: ["505、507", "610、614", "701、713", "751、天慈"], correct: 1 },
            { category: "輕鐵", question: "輕鐵元朗主要站點有?", options: ["元朗(中心)", "朗屏", "以上皆是", "都沒有"], correct: 2 },
            { category: "輕鐵", question: "輕鐵屯門碼頭線(761)主   連接?", options: ["屯門至荃灣", "屯門至馬鞍山", "屯門至尖沙咀", "屯門至北"],  correct: 0 },
            { category: "輕鐵", question: "輕鐵允許何種車輛上車?", options: ["只有乘客", "乘客、自行車、輪椅", "乘客、汽車", "乘客、摩托車"], correct: 1 },
            { category: "輕鐵", question: "輕鐵新界西北資訊APP是?", options: ["輕鐵APP", "LRT Next Train App", "香港公共交通即時資訊", "以上皆可"], correct: 2 },
            { category: "輕鐵", question: "輕鐵506線主要經過?", options: ["屯門", "元朗至屯門", "天   圍至屯門", "屯門至荃灣"], correct: 1 },
            { category: "輕鐵", question: "輕鐵與巴士轉乘可享受?", options: ["無優惠", "轉乘優惠折扣", "完全免費", "30%折扣"], correct: 1 },
            { category: "輕鐵", question: "輕鐵天水圍線往哪個方向最遠?", options: ["屯門", "元朗", "天水圍南", "天水圍"], correct: 2 },
            { category: "輕鐵", question: "輕鐵龍運線與輕鐵的主要分別是?", options: ["沒有分別", "龍運是巴士，輕鐵是地面電車", "龍運在地下", "龍運   有一線"], correct: 1 },
            { category: "輕鐵", question: "輕鐵每班列車的大約間隔時間是?", options: ["3-5分鐘", "6-8分鐘", "10-15分鐘", "20分鐘以上"], correct: 1 }
        ];

        const hkTransportIntegrationQuestions = [
            // 港鐵與九巴/龍運轉乘及規劃問題
            { category: "港鐵九巴整合", question: "從機場到中環最快的方式是?", options: ["搭計程車", "機場快線", "機場巴士", "租車自駕"], correct: 1 },
            { category: "港鐵九巴整合", question: "屯門至香港的轉乘路線可經?", options: ["屯門地鐵→輕鐵→九巴", "屯門地鐵→屯馬線", "屯門巴士→中環渡輪", "以上皆可"], correct: 3 },
            { category: "港鐵九巴整合", question: "新界西北   民前往中環最方便的路線是?", options: ["只能坐巴士", "輕鐵+港鐵+輕鐵", "輕鐵+港鐵或直達巴士", "只能開車"], correct: 2 },
            { category: "港鐵九巴整合", question: "北環線(未建成)建成後會連接?", options: ["北角至紅磡", "上水至紅磡", "北角至白石角", "紅磡至屯門"], correct: 0 },
            { category: "港鐵九巴整合", question: "屯門南延線(未建成)建成後會延伸至?", options: ["屯門碼頭", "屯門東", "屯門南", "屯門西"], correct: 2 },
            { category: "港鐵九巴整合", question: "東涌線與屯馬線的主要換乘站是?", options: ["香港站", "九龍塘", "美孚", "東涌"], correct: 0 },
            { category: "港鐵九巴整合", question: "西鐵線經過的主要新界站點包括?", options: ["美孚、葵芳", "美孚、葵芳、荃灣西、屯門", "只有屯門", "只有美孚"], correct: 1 },
            { category: "港鐵九巴整合", question: "新界西北最大的轉乘樞紐是?", options: ["屯門站", "元朗站", "天水圍站", "朗屏站"], correct: 0 },
            { category: "港鐵九巴整合", question: "現時香港有幾條跨境巴士站點?", options: ["1個", "3個", "5個以上", "沒有直接巴士"], correct: 2 },
            { category: "港鐵   巴整合", question: "前往新界大嶼山的最主要路線是?", options: ["巴士", "渡輪", "港鐵東涌線", "以上皆可"], correct: 2 }
        ];

        const hkTransportFutureQuestions = [
            // 未來路線與興建中項目
            { category: "港鐵未來", question: "北環線預計會於何時開通?", options: ["2025年", "2026年", "2028年", "2030年以後"], correct: 2 },
            { category: "港鐵   來", question: "屯門南延線預計會於何時完成?", options: ["2024年", "2025-2026年", "2027年", "2030年以後"], correct: 1 },
            { category: "港鐵未來", question: "大灣區快軌(粵港澳大灣   )與香港的主要連接點是?", options: ["深圳灣", "福田", "廣州", "深圳"], correct: 0 },
            { category: "港鐵未來", question: "東涌線西延計劃預計延伸至?", options: ["屯門", "天水圍", "馬鞍山", "未定"], correct: 3 },
            { category: "港鐵未來", question: "南港島線第二期(南港島線西段)預計何時完成?", options: ["2025年", "2028年", "2030年", "未定"], correct: 2 },
            { category: "港鐵未來", question: "港鐵屯馬線全線開通意味著?", options: ["只是屯門站改名", "屯門至烏溪沙全線貫通", "新增三條線", "巴士停運"], correct: 1 },
            { category: "港鐵未來", question: "新鐵路計劃中的「東九龍線」主要連接?", options: ["東涌至九龍", "九龍灣至紅磡", "九龍東至港島", "九龍城至灣仔"], correct: 3 },
            { category: "港鐵未來", question: "香港未來最重要的交通樞紐是?", options: ["尖沙咀", "中環", "屯門", "以   皆是"], correct: 3 },
            { category: "港鐵未來", question: "新界西北未來的交通樞紐規劃重心是?", options: ["屯門", "元朗", "天水圍", "屯門、元朗、天水圍的整合"], correct: 3 },
            { category: "港鐵未來", question: "香港交通發展策略2050的主要重點包括?", options: ["減少公交", "零碳排放、智能運輸", "加強車輛管制", "只發展地鐵"], correct: 1 }
        ];

        // 文字輸入題庫 - 香港運輸相關
        const hkTransportTextQuestions = [
            { question: "香港最大的巴士公司是哪一間？", correctText: "九巴", type: "text" },
            { question: "港鐵的英文全稱是什麼？", correctText: "Mass Transit Railway", type: "text" },
            { question: "輕   主要服務香港哪些地區？（至少寫一個）", correctText: "屯門", type: "text" },
            { question: "香港現時最忙碌的轉乘樞紐是哪個站？", correctText: "旺角", type: "text" },
            { question: "機   快線連接香港機場和哪個站？", correctText: "中環", type: "text" }
        ];

        // 合併交通相關題庫：將原先分散的交通題庫合併為一個後備題庫
        const hkTransportQuestions = []
            .concat(typeof hkBusQuestions !== 'undefined' ? hkBusQuestions : [])
            .concat(typeof hkMTRQuestions !== 'undefined' ? hkMTRQuestions : [])
            .concat(typeof hkLRTQuestions !== 'undefined' ? hkLRTQuestions : [])
            .concat(typeof hkTransportIntegrationQuestions !== 'undefined' ? hkTransportIntegrationQuestions : [])
            .concat(typeof hkTransportFutureQuestions !== 'undefined' ? hkTransportFutureQuestions : [])
            .concat(typeof hkTransportTextQuestions !== 'undefined' ? hkTransportTextQuestions : []);

        // 暴露合併題庫到全域，供 generateQuestions 使用與後備題庫
        window.hkTransportQuestions = typeof window.hkTransportQuestions !== 'undefined' && window.hkTransportQuestions.length>0 ? window.hkTransportQuestions.concat(hkTransportQuestions) : hkTransportQuestions.slice();

        categoryCards.forEach(card => {
            card.addEventListener('click', () => {
                // 移除所有卡片的選中狀態
                categoryCards.forEach(c => c.classList.remove('selected'));

                // 添加選中狀態
                card.classList.add('selected');

                // 獲取選中的類別
                selectedCategory = card.getAttribute('data-category');

                // 顯示選中的類別信息
                selectedCategoryName.textContent = categoryNames[selectedCategory];
                selectedCategoryInfo.style.display = 'block';

                // 啟用開始遊戲按鈕
                startGameBtn.disabled = false;
                startGameBtn.style.opacity = '1';
                startGameBtn.style.cursor = 'pointer';
                startGameBtn.textContent = '開始遊戲';

                // 添加提示動畫
                startGameBtn.style.animation = 'pulse 2s ease infinite';
            });

            // 添加鍵盤支持
            card.setAttribute('tabindex', '0');
            card.addEventListener('keypress', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    card.click();
                }
            });
        });

        // 開始遊戲按鈕事件
        startGameBtn.addEventListener('click', () => {
            // 檢查是否已選擇類別
            if (!selectedCategory) {
                return;
            }

            // 顯   選中類別的提示（可選）
            console.log('開始遊戲 - 類別:', selectedCategory);
            // 淡出簡介頁面
            introScreen.style.opacity = '0';
            introScreen.style.transform = 'translateY(-20px)';

            setTimeout(() => {
                introScreen.style.display = 'none';
                gameScreen.style.display = 'block';
                gameScreen.style.opacity = '0';

                // 滾動到頁面最上方
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });

                // 淡入遊戲畫面
                setTimeout(() => {
                    gameScreen.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                    gameScreen.style.opacity = '1';
                    gameScreen.style.transform = 'translateY(0)';
                }, 50);

                // 初始化遊戲
                initGame();
            }, 300);
        });

        // 初始設置
        introScreen.style.transition = 'opacity 0.3s ease, transform 0.3s ease';

        // 初始載入時不自動開始遊戲，顯示簡介頁面
        window.addEventListener('DOMContentLoaded', () => {
            // 簡介頁面已經默認顯示
        });
    </script>

<!-- Custom Alert Dialog -->
<script>
// Custom alert function to replace browser alert()
function showAlertDialog(message) {
    // Remove any existing alert dialogs
    const existingAlert = document.querySelector('.custom-alert-modal');
    if (existingAlert) existingAlert.remove();

    const modal = document.createElement('div');
    modal.className = 'custom-alert-modal';
    modal.style.cssText = 'position: fixed; inset: 0; background: rgba(0, 0, 0, 0.7); display: flex; align-items: center; justify-content: center; z-index: 10000; animation: fadeIn 0.2s ease;';

    // sanitize message: remove absolute local file paths and remove any local <img src="C:\..."> occurrences
    let safeMessage = String(message || '');
    // 移除 img 標籤且其 src 指向本機路徑 (例如 C:\ 或 file:// )
    safeMessage = safeMessage.replace(/<img[^>]+src\s*=\s*["'](?:file:\/\/|[A-Za-z]:\\)[^"'>]*["'][^>]*>/gi, '');
    // 將殘餘的本機路徑字串替換為提示文字
    safeMessage = safeMessage.replace(/(?:file:\/\/|[A-Za-z]:\\)[^\s"']*/g, '[本機路徑已移除]');

    modal.innerHTML = `
        <div class="custom-alert-box" style="background: linear-gradient(135deg, #1a1f38 0%, #0a0e17 100%); padding: 28px; border-radius: 16px; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5); max-width: 90%; width: 400px; border: 2px solid rgba(0, 168, 255, 0.3); animation: slideIn 0.3s ease;">
            <div style="color: #e0e0e0; font-size: 16px; margin-bottom: 24px; line-height: 1.6; text-align: center;">${safeMessage}</div>
            <div style="display: flex; justify-content: center;">
                <button class="alert-ok-btn" style="padding: 12px 32px; background: linear-gradient(135deg, #00a8ff, #4cd0ff); color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(0, 168, 255, 0.3);">確定</button>
            </div>
        </div>
    `;

    // Add CSS animations
    const style = document.createElement('style');
    style.textContent = `
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes slideIn {
            from { transform: translateY(-30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .alert-ok-btn:hover {
            background: linear-gradient(135deg, #0095e6, #3bb8e6) !important;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0, 168, 255, 0.4) !important;
        }
        .alert-ok-btn:active {
            transform: translateY(0);
        }
    `;
    document.head.appendChild(style);

    document.body.appendChild(modal);

    const okBtn = modal.querySelector('.alert-ok-btn');
    const closeAlert = () => {
        modal.style.animation = 'fadeIn 0.2s ease reverse';
        setTimeout(() => modal.remove(), 200);
    };

    okBtn.addEventListener('click', closeAlert);
    modal.addEventListener('click', (e) => {
        if (e.target === modal) closeAlert();
    });

    // Focus on OK button for accessibility
    okBtn.focus();
}
</script>

<!-- ...existing code... -->
<script>
(function(){
    // Defensive initialization to override broken/partial implementations above
    const startBtn = document.getElementById('startIntroBtn');
    const categoryCards = document.querySelectorAll('.category-card');
    const selectedCategoryName = document.getElementById('selectedCategoryName');
    const selectedCategoryInfo = document.querySelector('.selected-category-info');

    // Ensure global selectedCategory exists
    if (typeof window.selectedCategory === 'undefined') window.selectedCategory = null;

    // Friendly name map
    const nameMap = {
        'computer-config': '電腦配置軟件硬體',
        'computer': '電腦配置軟件硬體',
        'phone': '手機猜謎遊戲',
        'smartphone': '手機猜謎遊戲',
        'ai': 'AI人工智能',
        'web': '網頁開發',
        'programming': '編程開發',
        'multimedia': '多媒體製作應用',
        'game-dev': '遊戲軟件開發',
        'security': '網絡雲端保安',
        'database': '數據庫管理',
        'retail-system': '零售管理系統',
        'intranet-system': '內聯網及內部管理系統',
        'hk-driving': '自學私家車香港駕駛',
        'paranormal': '靈探或探險認知',
        'hk-18-districts': '真•香港人對18區的認知',
        'gen-z-slang': 'Z世代 網絡潮語',
        'medical-elite': '醫療界精英挑戰',
        'hk-bus': '香港九巴龍運巴士認知',
        'hk-mtr': '港鐵各路線認知',
        'hk-lrt': '屯門元朗天水圍輕鐵認知',
        'hk-transport': '香港九巴以及港鐵各路線的認知'
    };

    // 新增 friendly name for 倉頡
    nameMap['cangjie'] = '倉頡速成訓練及教學';
    // 新增 friendly name for 商業及市場
    nameMap['business-marketing'] = '商   及市場 (金融、行銷與市場推廣)';
    // 新增 friendly name for 香港樂壇
    nameMap['hk-music'] = '香港樂壇認知 (經典至新星、製作人、頒獎與爭議)';
    // 新增 friendly name for 學霸數學知識王
    nameMap['math-king'] = '學霸數學知識王';
    // 新增 friendly name for 日本深度探究之旅
    nameMap['japan-deep-dive'] = '日本深度探究之旅';
    // 新增 friendly name for 遠足郊遊及露營/宿營
    nameMap['hiking-camping'] = '遠足郊遊及露營/宿營';
    // 新增 friendly name for 認識多啦A夢達人挑戰賽
    nameMap['doraemon'] = '認識多啦A夢達人挑戰賽';

    categoryCards.forEach(card => {
        card.addEventListener('click', () => {
            categoryCards.forEach(c => c.classList.remove('selected'));
            card.classList.add('selected');
            const cat = card.getAttribute('data-category') || 'computer-config';
            window.selectedCategory = cat;
            if (selectedCategoryName) selectedCategoryName.textContent = nameMap[cat] || cat;
            if (selectedCategoryInfo) selectedCategoryInfo.style.display = 'block';

            // 同步更新玩法頁的已選類別顯示（防禦性代碼）
            const gameplayLabel = document.getElementById('selectedCategoryNameGameplay');
            if (gameplayLabel) gameplayLabel.textContent = nameMap[cat] || cat;
            if (startBtn) {
                startBtn.disabled = false;
                startBtn.style.opacity = '1';
                startBtn.style.cursor = 'pointer';
                startBtn.textContent = '開始遊戲';
                // 使用者點擊類別卡片時直接啟動遊戲，快速進入該類別題庫
                try { startBtn.click(); } catch (e) { /* ignore */ }
            }
        });
        card.setAttribute('tabindex', '0');
        card.addEventListener('keypress', (e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); card.click(); } });
    });

    // Helper shuffle
    function shuffleArray(a) {
        const arr = a.slice();
        for (let i = arr.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [arr[i], arr[j]] = [arr[j], arr[i]];
        }
        return arr;
    }

    // 香港屋邨題庫（來源：維基百科「香港公共屋邨列表」與香港房屋委員會 / 屋邨搜尋）
    // 此題庫包含以行政區為主的選擇題及若干填空題，覆蓋多個屋邨（初期 100 題，會按需補充）
    const hkEstatesQuestions = [
        { question: "【翠灣邨】位於哪一個香   行政區？", options: ["中西區","東區","南區","灣仔"], correct: 1, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【耀東邨】位於哪一個香港行政區？", options: ["東區","南區","九龍城","深水埗區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【鴨脷洲邨】位於哪一個香港行政區？", options: ["中西區","南區","離島區","東區"], correct: 1, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【利東邨】位於哪一個香港行政區？", options: ["南區","東區","灣仔","中西區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【順利邨】位於哪一個香港行政區？", options: ["深水埗區","觀塘區","九龍城","黃大仙"], correct: 1, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【順安邨】位於哪一個香港行政區？", options: ["觀塘區","深水埗區","油尖旺","九龍城"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【李鄭屋邨】位於哪一個香港行政區？", options: ["深水埗區","油尖旺","九龍城","黃大仙"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【元州邨】位於哪一個香港行政區？", options: ["深水埗區","觀塘區","屯門區","葵青區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【澤安邨】位於哪一個香港行政區？", options: ["深水埗區","九龍城","油尖旺","觀塘區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共   邨列表" },
        { question: "【富蝶邨】位於哪一個香港行政區？", options: ["大埔區","沙田區","北區","西貢區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },

        { question: "【欣安邨】位於哪一個香港行政區（馬鞍山）？", options: ["沙田區","大埔區","葵青區","屯門區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【水泉澳邨】位於哪一個香港行政區？", options: ["沙田區","大埔區","元朗區","屯門區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【恆安邨】位於哪一個香港行政區（馬鞍山）？", options: ["沙田區","西貢區","觀塘區","大埔區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【秦石邨】位於哪一個香港行政區？", options: ["沙田區","九     城","深水埗區","北區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香   公共屋邨列表" },
        { question: "【怡明邨】（將軍澳）位於哪一個香港行政區？", options: ["西貢區","東區","南   ","離島區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【翠林邨】（將軍澳）位於哪一個香港行政區？", options: ["西貢區","東區","中西區","灣仔"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },

        { question: "【寶石湖邨】位於哪一個香港行政區？", options: ["北區","大埔區","沙田區","   朗區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【暉明邨】位於哪一個香港行政區？", options: ["北區","沙田區","荃灣區","葵青區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【龍逸邨】位於哪一個香港   政區？", options: ["屯門區","元朗區","荃灣區","葵青區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【良景邨】位於哪一個香港行政區？", options: ["屯門區","元朗區","沙田區","大埔區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【長康邨】（青衣）位於哪一個香港行   區？", options: ["葵青區","荃灣區","屯門區","元朗區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【長安邨】（青衣）位於哪一個香港行政區？", options: ["葵青區","荃灣區","屯門區","西貢區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },

        { question: "【迎東邨】位於哪一個香港行政區（東涌）？", options: ["離島區","南區","東區","屯門區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【雅寧苑】位於哪個香港行政區（長洲）？", options: ["離島區","南區","東區","中西區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【逸東二邨】（東涌）位於哪一個香港行政區？", options: ["離島區","新界   ","南區","葵青區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【禾輋邨】位於哪   個香港行政區？", options: ["沙田區","元朗區","北區","大埔區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },

        // 以下題目同樣以「哪區」為主，覆蓋不同區域與屋邨（來源：維基／房委會）
        { question: "【石硤尾邨】位於哪一個香港行政區？", options: ["深水埗區","油尖旺","九龍城","觀塘區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【彩虹邨】位於哪一個香港行政區？", options: ["九龍城","深水埗區","油尖旺","黃大仙"], correct: 3, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【海麗邨】位於哪一個香港行政區？", options: ["東區","灣仔","南區","離島區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【長沙灣邨】位於哪一個香港行政區？", options: ["深水埗區","油尖旺","九龍城","觀塘區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【南昌邨】位於哪一個香港行政區？", options: ["深水埗區","油尖旺","九龍城","觀塘區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },

        { question: "【   昌邨】位於哪一個香港行政區？", options: ["九龍城","黃大仙","   水埗區","觀塘區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【海盈邨】位於哪一個香港行政區？", options: ["九龍城","深水埗區","黃大仙","觀塘區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【麗閣邨】位於哪一個香港行政區？", options: ["深水埗區","九龍城","油尖旺","觀塘區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公   屋邨列表" },
        { question: "【白田邨】位於哪一個香港行政區？", options: ["深水埗區","黃大仙","九龍城","油尖旺"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【北區 新界】題示 - 寶石湖邨在哪一區？", options: ["北區","大埔區","沙田區","元朗區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },

        { question: "【屯門 良景邨】哪一年首批入伙（可在房委會/維基查證）？", correctText: "1988", type: "text", source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【龍逸邨】哪一年入伙？（輸入年份）", correctText: "2013", type: "text", source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【水泉澳邨】哪一年入伙？（輸入年份）", correctText: "2015", type: "text", source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【欣安邨】哪一年入伙？（輸入年份）", correctText: "2011", type: "text", source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【富蝶邨】哪一年入伙？（輸入年份）", correctText: "2021", type: "text", source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },

        { question: "【翠灣邨】哪一年入伙？（輸入年份）", correctText: "1988", type: "text", source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【耀東邨】哪一年入伙？（輸入年份）", correctText: "1994", type: "text", source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【鴨脷洲邨】哪一年入伙？（輸入年份）", correctText: "1980", type: "text", source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【利東邨】哪一年入伙？（輸入年份）", correctText: "1987", type: "text", source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【李鄭屋邨】原始落成年份（較早期）是哪一年？", correctText: "1955", type: "text", source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },

        // 下面增加更多區域判斷題（延展至至少 100 個屋邨）
        { question: "【禾輋邨】位於哪一個香港行政區？", options: ["沙田區","元朗區","屯門區","北區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【大坑東邨】位於哪一個香港行政區？", options: ["東區","中西區","灣仔","南區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【海富苑】位於哪一個香港行政區？", options: ["九龍城","觀塘區","深水埗區","油尖旺"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【常樂邨】位於哪一個香港行政   ？", options: ["九龍城","黃大仙","觀塘區","深水埗區"], correct: 2, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【安田邨】位於哪一個香港   政區？", options: ["荃灣區","葵青區","屯門區","元朗區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },

        { question: "【石   一邨】位於哪一個香港行政區？", options: ["葵青區","荃灣區","深水埗區","屯門區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香   公共屋邨列表" },
        { question: "【長安邨（青衣）】的主要行政區是哪一個？", options: ["葵青區","荃灣區","油尖旺","元朗區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【青衣邨】位於哪一個香港行政區？", options: ["葵青區","荃灣區","屯門區","元朗區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【荔景邨】位於哪一個香港行政麼？", options: ["葵青區","荃灣區","屯門區","元朗區"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【屯門 良景邨】在下面選項中是哪一個？", options: ["良景邨","耀東邨","翠灣邨","富蝶邨"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },

        { question: "【沙田區】的以下哪個屋邨是在馬鞍山？", options: ["欣安邨","長康邨","雅寧苑","迎東邨"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【深水埗區】著名屋邨包含以下哪一個？", options: ["李鄭屋邨","迎東邨","龍逸邨","長康邨"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【觀塘區】下列哪個屋邨屬於觀塘？", options: ["順利邨","水泉澳邨","艮東邨","雅寧苑"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【大埔區】下列哪個屋邨屬於大埔？", options: ["富蝶邨","龍逸邨","良景邨","翠林邨"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【北區】下列哪個屋邨屬於北區？", options: ["寶石湖邨","良景邨","長康邨","炮台山邨"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },

        { question: "【東區】下列哪個屋邨屬於東區？", options: ["翠灣邨","良景邨","龍逸邨","寶石湖邨"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【離島區】下列哪個屋邨位於東涌？", options: ["迎東邨","翠灣邨","長康邨","水泉澳邨"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【南區】下列哪個屋   位於鴨脷洲？", options: ["鴨脷洲邨","元州邨","良景邨","翠林邨"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" },
        { question: "【葵青區】下列哪個屋邨位於青衣？", options: ["長康邨","龍逸邨","元州邨","迎東邨"], correct: 0, source: "https://zh.wikipedia.org/wiki/香港公共屋邨列表" }
    ];
    // 暴露到全域，讓現有的 bankMap 能夠引用
    window.hkEstatesQuestions = typeof window.hkEstatesQuestions !== 'undefined' && window.hkEstatesQuestions.length>0 ? window.hkEstatesQuestions.concat(hkEstatesQuestions) : hkEstatesQuestions.slice();

    // 醫療界精英挑戰題庫（基本覆蓋：西醫/中醫、科別常見疾病、診斷檢查、香港/內地醫療架構、用藥與藥物管制、求診流程、突發公共衛生）
    const medicalEliteQuestions = [
        { question: "西醫與中醫的主要差異是下列哪一項？", options: ["強調症狀與病理的檢測與手術/藥物治療","以針灸、中藥、辨證論治為主","兩者皆以微創手術為核心","完全相同，只有術語不同"], correct: 0 },
        { question: "下列哪一項最常由內科醫生處理？", options: ["骨折固定","哮喘與慢性阻塞性肺病(COPD)","婦科腫瘤手術","新生兒窒息復甦"], correct: 1 },
        { question: "X 光檢查最適合初步評估哪一種情況？", options: ["骨折或胸腔感染(肺炎)","微小腦梗塞診斷","代謝性疾病檢測","細胞層面的癌症分類"], correct: 0 },
        { question: "關於血常規 (CBC) 中的 '白血球 (WBC)' 上升通常表示：", options: ["感染或發炎反應","貧血","血小板下降","電解質不平衡"], correct: 0 },
        { question: "CT 與 MRI 的主要差別為何？", options: ["CT 以 X 光為基礎，對骨骼與出血敏感；MRI 對軟組織顯像更佳","CT 比 MRI 更能顯示軟組織細節","MRI 使用輻射，CT 不使用","兩者完全相同"], correct: 0 },
        { question: "香港醫管局 (HA) 的主要職責為何？", options: ["提供公營醫院及相關服務的醫療服務管理與運作","制定全國藥品註冊政策","經營私人醫療保險","管理跨境醫療旅遊"], correct: 0 },
        { question: "關於香港自願醫保計劃 (VHIS)，下列敘述何者正確？", options: ["是一套提升私人醫療保險保障的自願計劃，通過標準化保障鼓勵市民投保","由醫管局直接提供給病人的現金   助","強制所有市民參加","僅針對跨境醫療"], correct: 0 },
        { question: "在內地職工醫保與城鄉居民醫保的主要差異中，下列哪一項屬實？", options: ["職工醫保通常有更高的保障範圍和報銷比例，且由雇主/職工共同繳費","城鄉居民醫保是雇主專屬的額外險種","職工醫保只覆蓋門診","兩者沒有差別"], correct: 0 },
        { question: "下列哪個標誌最有可能出現在成藥 (OTC) 包裝上？", options: ["可在藥房/店舖直接購買且標示適應症與用法","僅限醫師處方使用","標示『處方藥』字樣","只能在醫院藥局取得"], correct: 0 },
        { question: "抗生素耐藥性 (AMR) 的正確防範作法為何？", options: ["避免濫用抗生素、按醫囑完成療程、勿用於病毒感染","自行加量或延長服用期以確保治療","除非有過敏才停藥","在未檢查下混用多種抗菌藥"], correct: 0 },
        { question: "香港註冊藥品的主要監管機構是：", options: ["衛生署(Department of Health) 的藥物註冊與   管職能","國家藥監局","醫管局","香港藥監署 (不存在)"], correct: 0 },
        { question: "在港看政府門診（普通科門診）通常的流程為何？", options: ["預約/掛號 → 候診 → 看醫生 → 如需轉專科由家庭醫生/門診轉介","直接住院不用看門診","先做手術再看門診","只在私人診所可使用"], correct: 0 },
        { question: "突發公共衛生事件中，『接觸者追蹤』的主要目的為：", options: ["快速找出潛在傳播者並隔離/醫療觀察以中止感染鏈","為病人進行心理輔導","主要用於保險理賠程序","用來決定疫苗價格"], correct: 0 },
        { question: "哪一項屬於藥物不良反應 (ADR) 的常見識別？", options: ["噁心、過敏性皮疹、暈眩、肝指數異常（ALT/AST 升高）","僅指藥物無效","不能與其他藥物並用的通則","只在患兒才會發生"], correct: 0 },
        { question: "香港急症室（A&E）分流制度旨在：", options: ["按病情輕重分流資源，先處理危及生命或緊急病人","優先處理付費病人","按到達時間先後完全靠線性順序處理","只處理兒科病人"], correct: 0 },
        { question: "請簡述：X 光對於判讀肺炎與肺部浸潤的限制為何   ", type: "text", correctText: "X 光對早期或輕微肺泡浸潤敏感度較低，且部分病變在正側位或重疊   像下可能被遮蔽；需結合臨床與必要時使用 CT 做進一步評估。" },
        { question: "請簡述香港藥劑師在社區藥房中的角色（一句話）", type: "text", correctText: "提供用藥諮詢、監察用藥安全、確認處方、指導成藥使用及藥物相互作用並執行藥物管理職能。" }
    ];

    //    露到全域（供 generateQuestions 的 bankMap 使用）
    window.medicalEliteQuestions = typeof window.medicalEliteQuestions !== 'undefined' && window.medicalEliteQuestions.length>0 ? window.medicalEliteQuestions.concat(medicalEliteQuestions) : medicalEliteQuestions.slice();

    // Defensive override of generate/render/select functions
    window.generateQuestions = function() {
        // reset
        if (!window.selectedCategory) {
            console.warn('請先選擇類別');
            return;
        }

        currentQuestions = [];
        answeredQuestions = 0;
        levelScore = 0;
        correctAnswers = 0;
        comboCount = 0; // 重置连击计数

        // 重置进度条显示
        const progressBarFill = document.getElementById('progressBarFill');
        const progressPercentage = document.getElementById('progressPercentage');
        const answeredCount = document.getElementById('answeredCount');
        const totalCount = document.getElementById('totalCount');
        const comboContainer = document.getElementById('comboContainer');

        if (progressBarFill) progressBarFill.style.width = '0%';
        if (progressPercentage) progressPercentage.textContent = '0%';
        if (answeredCount) answeredCount.textContent = '0';
        if (totalCount) totalCount.textContent = totalQuestions;
        if (comboContainer) comboContainer.classList.remove('active');

        // map category to bank
        const bankMap = {
            'computer-config': (typeof computerConfigQuestions !== 'undefined' && computerConfigQuestions.length>0) ? computerConfigQuestions : (typeof computerConfigDatabase !== 'undefined' ? computerConfigDatabase : []),
            'computer': (typeof computerConfigQuestions !== 'undefined' && computerConfigQuestions.length>0) ? computerConfigQuestions : (typeof computerConfigDatabase !== 'undefined' ? computerConfigDatabase : []),
            'phone': typeof phoneDatabase !== 'undefined' ? phoneDatabase : [],
            'smartphone': typeof phoneDatabase !== 'undefined' ? phoneDatabase : [],
            'ai': typeof aiQuestions !== 'undefined' ? aiQuestions : [],
            'web': typeof webQuestions !== 'undefined' ? webQuestions : [],
            'programming': typeof programmingQuestions !== 'undefined' ? programmingQuestions : [],
            'multimedia': typeof multimediaQuestions !== 'undefined' ? multimediaQuestions : [],
            'game-dev': typeof gameDevQuestions !== 'undefined' ? gameDevQuestions : [],
            'security': typeof securityQuestions !== 'undefined' ? securityQuestions : [],
            'database': typeof databaseQuestions !== 'undefined' ? databaseQuestions : [],
            'retail-system': typeof retailSystemQuestions !== 'undefined' ? retailSystemQuestions : [],
            'intranet-system': typeof intranetQuestions !== 'undefined' ? intranetQuestions : [],
            'paranormal': typeof paranormalQuestions !== 'undefined' ? paranormalQuestions : [],
            'mobile': typeof mobileQuestions !== 'undefined' ? mobileQuestions : [],
            'hk-driving': typeof hkDrivingQuestions !== 'undefined' ? hkDrivingQuestions : [],
            'hk-18-districts': typeof hk18Questions !== 'undefined' ? hk18Questions : [],
            'gen-z-slang': typeof genZQuestions !== 'undefined' ? genZQuestions : [],
            'hk-bus': typeof hkBusQuestions !== 'undefined' ? hkBusQuestions : [],
            'hk-mtr': typeof hkMTRQuestions !== 'undefined' ? hkMTRQuestions : [],
            'hk-lrt': typeof hkLRTQuestions !== 'undefined' ? hkLRTQuestions : [],
            // 合併後的交通題庫（包含九巴、龍運、   鐵、輕鐵、整合轉乘與未來規劃）
            'hk-transport': typeof hkTransportQuestions !== 'undefined' ? hkTransportQuestions : [],
            'hk-judiciary': typeof hkJudiciaryQuestions !== 'undefined' ? hkJudiciaryQuestions : [],
            'hk-weather': typeof hkWeatherQuestions !== 'undefined' ? hkWeatherQuestions : [],
            'hk-estates': typeof hkEstatesQuestions !== 'undefined' ? hkEstatesQuestions : [],
            'hiking-camping': typeof hikingCampingQuestions !== 'undefined' ? hikingCampingQuestions : [],
            'japan-deep-dive': typeof japanDeepDiveQuestions !== 'undefined' ? japanDeepDiveQuestions : [],
            'medical-elite': typeof medicalEliteQuestions !== 'undefined' ? medicalEliteQuestions : [],
            'math-king': (typeof mathKingQuestions !== 'undefined' ? mathKingQuestions : (typeof window.mathKingQuestions !== 'undefined' ? window.mathKingQuestions : []))
        };

        // 香港樂壇題庫（starter set，覆蓋經典至2025新星）
        const hkMusicQuestions = [
            { question: "哪一位被廣泛認為是香港流行音樂黃金時期(80s-90s)的重要歌手？", options: ["張國榮", "周杰倫", "Beyonce", "Adele"], correct: 0 },
            { question: "『作曲/填詞/監製』中，哪個角色主要負責歌曲的旋律創作？", options: ["作曲", "填詞", "監製", "宣傳"], correct: 0 },
            { question: "叱咤樂壇流行榜頒獎典禮主要表彰哪種類型的音樂人？", options: ["香港本地流行音樂藝人", "電影導演", "美術設計師", "演唱會主辦方"], correct: 0 },
            { question: "下列哪一個是 2000 年代崛起的華語流行歌手代表？", options: ["陳奕迅", "鄧麗君", "林子祥", "張學友"], correct: 0 },
            { question: "若要研究一位歌手的『網民認知』與爭議點，最常參考的來源包括？", options: ["媒體報導、社交媒體討論、頒獎及新聞檔案", "財務報表", "食評網站", "專利清單"], correct: 0 },
            { question: "哪個年代通常被視為香港流行音樂的經典時期？", options: ["70s-90s", "2000s-2010s", "2010s-2020s", "1950s僅早期"], correct: 0 },
            { question: "在歌曲製作中，監製 (Producer) 的一項主要責任是什麼？", options: ["統籌製作流程、音色選擇與藝人表現指導", "印刷宣傳海報", "管理演唱會門票", "編寫財務報告"], correct: 0 },
            { question: "當   到 '新星' 在 2025 年崛起的判定指標通常包含？", options: ["串流播放量、獲獎、媒體曝光、社群聲量", "只看唱片銷量", "只看電台播放次數", "只看演唱會場地大小"], correct: 0 },
            { question: "下列哪位/哪個組合是香港樂壇歷史上具代表性的組合/人物（多項例子）？", options: ["Beyond", "The Beatles", "Backstreet Boys", "Spice Girls"], correct: 0 },
            { question: "研究歌手歷史文化時『類別層級』指的是什麼？", options: ["例如：歌手->時期->流派->代表作", "只看歌手年齡", "只看唱片公司", "只看演唱會   數"], correct: 0 }
        ];

        if (typeof bankMap !== 'undefined') {
            bankMap['hk-music'] = typeof hkMusicQuestions !== 'undefined' ? hkMusicQuestions : [];
        }

        // 簡易的中國歷史題庫（starter set）
        const chineseHistoryQuestions = [
            { question: "中華民族與早期國家的起源常被認為與下列哪項關係密切？", options: ["族群融合與農業發展","工業革命","現代交通","冷戰格局"], correct: 0 },
            { question: "西周的封建制度主要特色是？", options: ["分封諸侯以治理地方","中央集權嚴密控制各地","全面   行科舉","廢除宗法制度"], correct: 0 },
            { question: "春秋戰國時期的重要變局包括：", options: ["諸侯割據與思想百家爭鳴","民族大遷徙至歐洲","外國殖民統治","工業化快速發展"], correct: 0 },
            { question: "秦朝的統一帶來的重要措施之一是：", options: ["統一文字與度量衡","取消郡縣制","推行分封制","實行多黨制"], correct: 0 },
            { question: "隋代開通大運河的主要作用為何？", options: ["加強南北經濟聯繫與物資運輸","作為旅遊景點","   於軍   演習","限制貿易"], correct: 0 }
        ];

        if (typeof bankMap !== 'undefined') {
            bankMap['chinese-history'] = typeof chineseHistoryQuestions !== 'undefined' ? chineseHistoryQuestions : [];
        }

        // 新增 倉頡題庫 (cangjieQuestions)
        const cangjieQuestions = [
            { question: "倉頡輸入法最基本的概念是什麼？", options: ["以字形拆分部首並對應碼表", "以讀音對應字母", "以筆劃數輸入", "以語義索引輸入"], correct: 0 },
            { question: "部首碼 '月' 在倉頡中通常代   哪類形狀？", options: ["與肉月有關的字形", "水相關", "植物相關", "位置相關"], correct: 0 },
            { question: "以下哪一項屬於倉頡速成入門練習？", options: ["認識基本部首與對應鍵位", "學習 Python 基礎", "記憶所有英文字母", "學習網頁設計"], correct: 0 },
            { question: "倉頡輸入中，常見錯字雷區往往來自於？", options: ["部首判斷錯誤或拆字順序不正確", "鍵盤   位被誤放", "顯示器色彩問題", "網絡延遲"], correct: 0 },
            { question: "進階拆字時，哪個概念較重要？", options: ["辨別左右上下結構與主部首", "隨意拆分字形", "只記憶完整字型", "依照讀音   分"], correct: 0 }
        ];

        // 把 cangjie 映射到 bankMap
        if (typeof bankMap !== 'undefined') {
            bankMap['cangjie'] = typeof cangjieQuestions !== 'undefined' ? cangjieQuestions : [];
        }

        // 商業及市場題庫（starter set）
        const businessMarketingQuestions = [
            { question: "下列哪項最能描述 '資本成本(Cost of Capital)' 的概念？", options: ["企業融資所需付出的平均成本", "公司的市值", "營運資金餘額", "會計利潤"], correct: 0 },
            { question: "市場學中的 4P 是指哪四個元素？", options: ["Product, Price, Place, Promotion", "Plan, Produce, Promote, Profit", "People, Process, Physical, Price", "Product, People, Price, Profit"], correct: 0 },
            { question: "在財務管理中，淨現值(NPV)大於零表示什麼？", options: ["專案預期可創造正的價值", "專案不可行", "需要更多資金", "內部報酬率為零"], correct: 0 },
            { question: "消費者行為研究通常不包含以下哪項？", options: ["消費者心理與動機", "購買情境與決策過程", "企業內部會計科目明細", "品牌偏好與忠誠度分析"], correct: 2 },
            { question: "金融服務營銷 (Financial Services Marketing) 在銀行或保險領域的一個重點是？", options: ["建立信任與客戶關係", "大量實體商品陳列", "減少客服人員", "只做線上廣告即可"], correct: 0 },
            { question: "何者屬於數碼營銷(Digital Marketing)常見的工具？", options: ["SEO、SEM、電子郵件行銷、社群廣告", "傳真機、廣播、舊式海報", "手寫信件", "櫥窗展示"], correct: 0 },
            { question: "行為金融學(Behavioural Finance)主要探討什麼？", options: ["人類非理性行為如何影響金融決策", "如何寫程式交易系統", "如何計算利息", "公司治理結構"], correct: 0 },
            { question: "下列哪一項是品牌管理的重要工作？", options: ["維護品牌一致性與差異化", "只追求最低價策略", "降低產品品質以提升利潤", "完全忽略客戶反饋"], correct: 0 },
            { question: "在市場研究中, '抽樣' 的主要目的是？", options: ["從部分樣本推論整體特性", "減少產品成本", "增加庫存", "替換市場策略"], correct: 0 },
            { question: "FinTech 營銷在吸引用戶時作用哪種賣點？", options: ["便利性、低成本、更好用戶體驗", "只強調複雜金融概念", "不提供試   版本", "只在   章投放廣告"], correct: 0 }
        ];

        // 把 business-marketing 映射到 bankMap
        if (typeof bankMap !== 'undefined') {
            bankMap['business-marketing'] = typeof businessMarketingQuestions !== 'undefined' ? businessMarketingQuestions : [];
        }

        // 虛擬動漫 / VTuber 題庫（virtualIdolQuestions）
        const virtualIdolQuestions = [
            { question: "VTuber 是什麼的縮寫或意義？", options: ["Virtual YouTuber 虛擬 YouTuber", "Visual Tutor", "Virtual Utility", "Video Tuner"], correct: 0 },
            { question: "以下哪位是早期著名的日本虛擬偶像/虛擬YouTuber？", options: ["Kizuna AI (絆愛)", "初音未來", "Luo Tianyi (洛天依)", "安尼亞"], correct: 0 },
            { question: "初音未來 (Hatsune Miku) 最初是什麼類型的角色？", options: ["虛擬歌手／聲庫角色", "真實偶像", "遊戲 NPC", "漫畫角色"], correct: 0 },
            { question: "洛天依 (Luo Tianyi) 主要屬於哪個文化圈？", options: ["中文 VOCALOID / 中國虛擬歌姬", "韓國偶像", "美國流行歌手", "台灣實體歌手"], correct: 0 },
            { question: "下列哪項屬於 Cosplay 的基本要素？", options: ["角色服裝與妝髮、角色道具、角色肢體與聲線模仿", "只穿任何奇裝異服", "只要戴帽子就足夠", "必須由官方授權"], correct: 0 },
            { question: "虛擬角色的『人物設定(Profile/Canon)』通   包含什麼？", options: ["姓名、年齡、背景故事、個性與興趣", "只有外觀顏色", "只需要聲線", "只需要頻道連結"], correct: 0 },
            { question: "哪一項不是 VTuber 常見的互動內容形式？", options: ["實況遊戲、唱歌、聊天、虛擬演唱會", "現場同框實體主播(非混合技術)", "問答與粉絲互   ", "合作跨界企劃"], correct: 1 },
            { question: "下列關於虛擬伴侶(Virtual Companion)的敘述，哪一項較為正確   不涉成人內容？", options: ["是一種以情感互動為主的虛擬角色體驗，強調互動和陪伴", "總是成人向且不適合所有年齡層", "需要實體硬體才能運作", "只能單向觀看無互動"], correct: 0 },
            { question: "在元宇宙常駐角色的概念中，哪一項較重要？", options: ["角色是否能夠長期出現在多個虛擬場景並與用戶互動", "角色是否真實存在於現實世界", "必須具備實體商品", "一定要有實體演唱會"], correct: 0 },
            { question: "誰通常擔任 VTuber 的『聲音/表演者』？", options: ["配音員或創作者本人", "一定是合成語音", "由 AI 完全自   生成", "由粉絲投票決定"], correct: 0 },
            { question: "哪一項屬於虛擬偶像的版權/智慧財產考量？", options: ["角色設計、歌曲版權、肖像商用授權等需依合約或授權規範處理", "只要上傳影片就能免費使用所有素材", "無需署名與授權", "任何人皆可直接營利使用"], correct: 0 },
            { question: "虛擬角色的 'fan art'（同人創作）通常在何種情況下允許？", options: ["遵守原作者/公司之公開指引與非商用限制或取得授權", "任何情況下皆禁止", "只   官方可以創作", "不需要任何註明即可商用"], correct: 0 },
            { question: "以下哪位以 '動畫角色' 身份在流行文化中廣為人知，常被 cosplayer 模仿？", options: ["雷姆 (Rem)", "GitHub Copilot", "某系統管理員", "無名用戶"], correct: 0 },
            { question: "Vtuber 與傳統偶像的主要差異在於？", options: ["表演者使用虛擬化身在數位平台上互動", "完全沒有粉絲互動", "只能播放事先錄製的影片", "無法參加活動"], correct: 0 },
            { question: "虛擬角色在文化傳播中的作用可能   含：", options: ["推   次文化、跨國語言交流、虛擬音樂及社群互動", "只有娛樂功能", "只限於特定國家", "無法形成社群"], correct: 0 }
        ];

        // 把 virtual-idols 映射到 bankMap（若 bankMap 已存在則不覆蓋）
        if (typeof bankMap !== 'undefined') {
            bankMap['virtual-idols'] = typeof virtualIdolQuestions !== 'undefined' ? virtualIdolQuestions : [];
        }

        // 英語進修題庫（intermediate/advanced）
        const englishLearningQuestions = [
            // 詞彙與片語 (intermediate -> advanced)
            { question: "Choose the correct word: The project was delayed due to unforeseen __________.", options: ["circumstances", "circuses", "circuitry", "circulation"], correct: 0 },
            { question: "Which phrasal verb means 'to postpone'?", options: ["call off", "call on", "call up", "call in"], correct: 0 },
            { question: "Translate to English: '價格' (商業用語)", options: ["price", "cost", "value", "fare"], correct: 1 },

            // 語法   改寫句子（被動語態、假設語氣）
            { question: "Rewrite in passive voice: 'The department manager will send the report tomorrow.'", options: ["The report will be sent by the department manager tomorrow.", "Tomorrow will be sent by the department manager the report.", "The department manager will be sent the report tomorrow.", "The report will send by manager."], correct: 0 },
            { question: "Choose correct conditional: 'If I _____ earlier, I would have avoided the mistake.'", options: ["had acted", "act", "have acted", "acted"], correct: 0 },

            // 閱讀理解（短文後選題）
            { question: "Reading: 'The company adopted a hybrid work policy to balance productivity and employee well-being.' What does 'hybrid work policy' most likely mean?", options: ["A mix of remote and on-site work", "Only remote work", "Only office-based work", "Shift work only"], correct: 0 },

            // 寫作技巧：電郵格式與常用語
            { question: "Which of the following is the most appropriate formal email opening for a manager?", options: ["Dear Mr. Chen,", "Hey Chen!", "What's up?", "Yo Chen,"], correct: 0 },
            { question: "Choose the best closing for a formal departmental email:", options: ["Regards,\n[Name]\n[Department]", "Cheers, [Name]", "Bye", "Later"], correct: 0 },
            { question: "Fill-in: 'Please find the attached invoice for your review. The total _____ is USD 3,200.'", options: ["amount", "price", "cost", "charge"], correct: 0 },

            // 商務高階會話與時事詞彙
            { question: "Which expression best fits a high-level negotiation context? 'We are open to _____ on the delivery schedule.'", options: ["flexibility", "flexing", "flexing up", "flexed"], correct: 0 },

            // 翻譯練習：中文選英文
            { question: "將中文翻成英文並選出正確：'請在本週內回覆此郵件。'", options: ["Please reply to this email within this week.", "Please reply this email tomorrow.", "Reply this mail by next month.", "Answer mail now."], correct: 0 },

            // 片語結構與長文理解（填入正確單字的題型）
            { question: "Fill the blank with correct phrasal verb: 'We need to ____ the rollout until the QA report is complete.'", options: ["hold off", "hold up", "hold on", "hold out"], correct: 0 },

            // 實戰對話情境：餐廳點餐
            { question: "At a restaurant, how to politely ask for the bill?", options: ["Could we have the bill, please?", "Give me the bill.", "Bill now.", "Pay now please."], correct: 0 },

            // 投訴信 & 與政府部門對話（正式語氣）
            { question: "A formal complaint letter should normally include which element?", options: ["Clear statement of issue, supporting evidence, requested remedy, and contact details", "Insulting remarks", "Vague expressions without details", "Only emotional language"], correct: 0 },

            // 辯論與線上留言實戰（禮貌與結構）
            { question: "Which phrase is appropriate to disagree politely in a debate?", options: ["I see your point, however,...", "You're wrong and stupid.", "No way!", "Shut up."], correct: 0 }
        ];

        // 將 english-learning 映射到 bankMap
        if (typeof bankMap !== 'undefined') {
            bankMap['english-learning'] = typeof englishLearningQuestions !== 'undefined' ? englishLearningQuestions : [];
        }

        // 把 scratch 與 tea-culture 映射到 bankMap（如果外部已定義則使用，否則使用 window 暫存或空陣列）
        if (typeof bankMap !== 'undefined') {
            bankMap['scratch'] = typeof scratchQuestions !== 'undefined' ? scratchQuestions : (typeof window.scratchQuestions !== 'undefined' ? window.scratchQuestions : []);
            bankMap['tea-culture'] = typeof teaQuestions !== 'undefined' ? teaQuestions : (typeof window.teaQuestions !== 'undefined' ? window.teaQuestions : []);
        }

        const bank = bankMap[window.selectedCategory] || bankMap['computer-config'];

        // if phone -> use existing phone flow if present
        if (bank === phoneDatabase && typeof generatePhoneQuestions === 'function') {
            generatePhoneQuestions();
            return;
        }

        if (!Array.isArray(bank) || bank.length === 0) {
            console.warn('選定類別沒有可用題庫:', window.selectedCategory);
            return;
        }

        // ensure at least 5 with no duplicates
        // 創建已使用題目的追踪集合（用於備用generateQuestions）
        if (!window.usedQuestionIndicesBackup) {
            window.usedQuestionIndicesBackup = {};
        }
        if (!window.usedQuestionIndicesBackup[window.selectedCategory]) {
            window.usedQuestionIndicesBackup[window.selectedCategory] = new Set();
        }

        // 獲取未使用過的題目索引
        const availableIndices = [];
        for (let i = 0; i < bank.length; i++) {
            if (!window.usedQuestionIndicesBackup[window.selectedCategory].has(i)) {
                availableIndices.push(i);
            }
        }

        // 如果可用題目少於5道，僅在真正耗盡時顯示完成提示並重置。
        if (availableIndices.length < 5) {
            if (availableIndices.length === 0) {
                if (window.usedQuestionIndicesBackup[window.selectedCategory].size > 0) {
                    if (typeof showAlertDialog === 'function') {
                        showAlertDialog('🎉 恭喜！您已完成本類別所有題目！<br><br>題庫將重新開始，讓您繼續挑戰。');
                    }
                }
                window.usedQuestionIndicesBackup[window.selectedCategory].clear();
                for (let i = 0; i < bank.length; i++) {
                    availableIndices.push(i);
                }
            } else {
                // 有剩餘題目但不足 5 題，先把剩餘複製，再隨機補足（允許重複），不重置已使用紀錄
                const temp = availableIndices.slice();
                while (temp.length < 5) {
                    const idx = Math.floor(Math.random() * bank.length);
                    temp.push(idx);
                }
                availableIndices.length = 0;
                availableIndices.push(...temp);
            }
        }

        // 隨機選   5道不重複的題目
        const shuffledIndices = shuffleArray(availableIndices);
        const selectedIndices = shuffledIndices.slice(0, 5);

        // 記錄已使用的題目
        selectedIndices.forEach(idx => {
            window.usedQuestionIndicesBackup[window.selectedCategory].add(idx);
        });

        const pick = selectedIndices.map(idx => bank[idx]);

        // Ensure every pick is a defined question object.
        // If bank is small or selectedIndices had an unexpected value,
        // fill any undefined entries by sampling with replacement.
        for (let i = 0; i < 5; i++) {
            if (!pick[i]) {
                // defensive: if bank has at least one item, pick a random one
                if (bank.length > 0) {
                    const rnd = Math.floor(Math.random() * bank.length);
                    pick[i] = bank[rnd];
                } else {
                    // fallback empty question
                    pick[i] = { question: '（題目暫缺）', options: ['無'], correct: 0 };
                }
            }
        }

        // 隨機決定每題是多選題還是文字輸入題（3個多選 + 1個文字，或2+2混合）
        const questionTypes = ['multiple', 'multiple', 'multiple', 'text']; // 預設: 3多選 + 1文字
        const shuffledTypes = shuffleArray(questionTypes);
        
        // render 4 main questions
        for (let i=0;i<4;i++){
            const q = pick[i];
            const qText = q.question || q.title || (q.brand ? (`品牌: ${q.brand} 型號: ${q.model || ''}`) : '題目');
            const opts = Array.isArray(q.options) ? q.options.slice() : [];
            const correctIdx = (q.correct !== undefined) ? q.correct : ((q.correctIndex !== undefined) ? q.correctIndex : 0);

            // 確定題型和相應數據
            const questionType = shuffledTypes[i];
            let questionData = {
                question: qText,
                options: opts,
                correctIndex: correctIdx,
                answered: false,
                type: q.category || ('題目 ' + (i+1)), // display category/type label
                inputType: 'multiple' // default input mode: 'multiple' or 'text'
            };

            // 如果   目物件本身提供了 correctText 或明確標記為文字題（type:'text'），強制使用文字輸入題型
            if (q.correctText !== undefined || q.type === 'text' || q.inputType === 'text') {
                questionData.correctText = (q.correctText !== undefined) ? q.correctText : (opts[correctIdx] !== undefined ? opts[correctIdx] : '');
                questionData.inputType = 'text';
                delete questionData.options;
                delete questionData.correctIndex;
            } else if (questionType === 'text') {
                // 原有的隨機決定為文字題的邏輯：若題目文本不像是多選題且選項存在，則轉為文字題
                const prompt = (qText || '').toString();
                const looksLikeMCQ = /下列哪|以下哪|下面哪|請選出|Which of the following|Which one of/i.test(prompt);
                if (opts.length > correctIdx && !looksLikeMCQ) {
                    // 轉成文字題，將正確答案以文字形式保存
                    questionData.correctText = opts[correctIdx];
                    questionData.inputType = 'text';
                    delete questionData.options;
                    delete questionData.correctIndex;
                } else {
                    // 保留為多選題（題目文案指示多選或題目本身有選項）
                    questionData.inputType = 'multiple';
                }
            }

            // 如果題目沒有選項且沒有被標記為多選，退回到文字題（避免出現「無選項」的情況）
            if ((!Array.isArray(questionData.options) || questionData.options.length === 0) && questionData.inputType !== 'multiple') {
                // 已經是文字題，無需處理
            } else if ((!Array.isArray(questionData.options) || questionData.options.length === 0) && questionData.inputType === 'multiple') {
                // 若原本被視為多選但沒有選項，且題目提供 correctText，可改為文字題；否則提供一個明確的提示答案欄
                if (q.correctText !== undefined) {
                    questionData.correctText = q.correctText;
                    questionData.inputType = 'text';
                    delete questionData.options;
                    delete questionData.correctIndex;
                } else {
                    // 保持多選但標註為無選項，renderOptions 會顯示「無選項」訊息
                }
            }
            
            currentQuestions[i] = questionData;

            const contentEl = document.getElementById('content'+(i+1));
            const optContainer = document.getElementById('options'+(i+1));
            const card = document.getElementById('challenge'+(i+1));
            if (card) {
                const titleEl = card.querySelector('.challenge-title');
                if (titleEl) titleEl.textContent = currentQuestions[i].type;
            }
            if (contentEl) contentEl.innerHTML = currentQuestions[i].question;
            renderOptions(optContainer, currentQuestions[i].options, i);
        }

        // bonus
        const b = pick[4];
        const bText = b.question || b.title || '額外挑戰';
        const bOpts = Array.isArray(b.options) ? b.options.slice() : [];
        const bCorrect = (b.correct !== undefined) ? b.correct : ((b.correctIndex!==undefined)?b.correctIndex:0);

        currentQuestions[4] = { question: bText, options: bOpts, correctIndex: bCorrect, explanation: b.explanation || '', answered:false, type: b.category || '額外挑戰', inputType: (Array.isArray(bOpts) && bOpts.length>0) ? 'multiple' : 'text' };
        if (bonusContent) bonusContent.innerHTML = currentQuestions[4].question;
        renderOptions(bonusOptions, currentQuestions[4].options, 4);

        // reset next-level button
        if (typeof nextLevelBtn !== 'undefined' && nextLevelBtn) nextLevelBtn.disabled = true;
        updateScore && updateScore();
    };

    window.renderOptions = function(container, options, questionIndex){
        if (!container) return;
        container.innerHTML = '';
        
        const q = currentQuestions[questionIndex];
        
        // 如果是文字輸入題，使用 renderTextInput
        if (q && q.inputType === 'text') {
            window.renderTextInput(container, questionIndex);
            return;
        }
        
        // 否則渲染多選題
        if (!Array.isArray(options) || options.length===0) {
            const p = document.createElement('div'); p.className='option disabled'; p.textContent='無選項'; container.appendChild(p); return;
        }
        options.forEach((opt, idx)=>{
            const el = document.createElement('div'); el.className='option'; el.tabIndex=0; el.textContent = opt;
            el.addEventListener('click', ()=> window.selectOption(questionIndex, idx));
            el.addEventListener('keypress', (e)=>{ if (e.key==='Enter' || e.key===' ') { e.preventDefault(); el.click(); } });
            container.appendChild(el);
        });

        // per-question confirm button & explanation
        const confirmBtn = document.createElement('button');
        confirmBtn.className = 'confirm-btn';
        confirmBtn.textContent = '確定提交';
        confirmBtn.style.cssText = 'margin-top:10px; padding:8px 12px; background: linear-gradient(135deg, #00a8ff 0%, #0066ff 100%); color:#fff; border:none; border-radius:8px; cursor:pointer; font-weight:700;';
        confirmBtn.addEventListener('click', ()=> window.confirmAnswer(questionIndex));
        container.appendChild(confirmBtn);

        const explanationDiv = document.createElement('div');
        explanationDiv.className = 'explanation';
        explanationDiv.style.cssText = 'margin-top:8px; font-size:14px; color:var(--text-primary, #e0e0e0); display:none;';
        container.appendChild(explanationDiv);
    };

    window.selectOption = function(questionIndex, optionIndex){
        const q = currentQuestions[questionIndex];
        if (!q || q.answered) return;

        // 首次選擇答案時啟動計時器
        if (typeof window.startTimer === 'function') {
            window.startTimer();
        }

        q.userAnswer = optionIndex;

        const container = questionIndex===4 ? bonusOptions : document.getElementById('options'+(questionIndex+1));
        if (!container) return;
        const nodes = Array.from(container.querySelectorAll('.option'));
        nodes.forEach((n)=> n.classList.remove('selected'));
        if (nodes[optionIndex]) nodes[optionIndex].classList.add('selected');
    };

    window.confirmAnswer = function(questionIndex){
        const q = currentQuestions[questionIndex];
        if (!q || q.answered) return;
        const selected = typeof q.userAnswer === 'number' ? q.userAnswer : undefined;
        if (typeof selected === 'undefined') {
            if (typeof showCustomAlert === 'function') showCustomAlert('請先選擇一個答案，再按確定提交。');
            return;
        }

        q.answered = true;
        answeredQuestions++;
        const container = questionIndex===4 ? bonusOptions : document.getElementById('options'+(questionIndex+1));
        if (!container) return;
        const nodes = Array.from(container.querySelectorAll('.option'));
        nodes.forEach((n,i)=>{
            n.classList.add('disabled');
            if (i===q.correctIndex) n.classList.add('correct');
            if (i===selected && selected!==q.correctIndex) n.classList.add('wrong');
            n.classList.remove('selected');
        });

        const isCorrect = selected === q.correctIndex;
        if (isCorrect) {
            correctAnswers++;
            levelScore += (questionIndex===4)?15:10;
        }
        updateScore && updateScore();

        // 更新进度条和连击计数器
        if (typeof updateProgressBar === 'function') updateProgressBar();
        if (typeof updateCombo === 'function') updateCombo(isCorrect);

        const explanationDiv = container.querySelector('.explanation');
        if (explanationDiv) {
            explanationDiv.style.display = 'block';
            try { explanationDiv.innerHTML = generateExplanationText(q); } catch(e) { explanationDiv.textContent = '解釋無法取得。'; }
        }

        const btn = container.querySelector('.confirm-btn'); if (btn) { btn.disabled = true; btn.style.opacity='0.6'; }

        if (answeredQuestions === totalQuestions) {
            // 停止计时器
            if (typeof stopTimer === 'function') stopTimer();
            setTimeout(()=>{ if (typeof showLevelResults==='function') showLevelResults(); }, 600);
        }
    };

    // 智能答案驗證函數（忽略大小寫、標點符號、空格等格式差異）
    window.normalizeAnswer = function(text) {
        // 轉為小寫
        let normalized = text.toLowerCase().trim();
        // 移除標點符號和多餘空格
        normalized = normalized.replace(/[\p{P}\s]/gu, '');
        // 移除英文標點和特殊字符
        normalized = normalized.replace(/[.,!?;:'"'"`\-—–()\/\\]/g, '');
        return normalized;
    };

    // 檢查文字答案是否   確（支援部分答案/近似匹配）
    // 支援多變體的文字答案驗證（可以傳入 string, array, or object {zh:, en:, variants:[] }）
    window.checkTextAnswer = function(userInput, correctAnswer) {
        const candidates = [];

        // Normalize input once
        const normalizedUser = window.normalizeAnswer(userInput || '');
        if (!normalizedUser) return false;

        // Build candidate correct answers list depending on type
        if (Array.isArray(correctAnswer)) {
            correctAnswer.forEach(c => { if (c) candidates.push(String(c)); });
        } else if (typeof correctAnswer === 'object' && correctAnswer !== null) {
            // support fields: correctText, correctTextZh, correctTextEn, variants
            if (correctAnswer.correctText) candidates.push(String(correctAnswer.correctText));
            if (correctAnswer.correctTextZh) candidates.push(String(correctAnswer.correctTextZh));
            if (correctAnswer.correctTextEn) candidates.push(String(correctAnswer.correctTextEn));
            if (Array.isArray(correctAnswer.variants)) correctAnswer.variants.forEach(v=>v && candidates.push(String(v)));
        } else if (typeof correctAnswer === 'string') {
            candidates.push(correctAnswer);
        }

        // Normalize candidates and remove empties
        const normalizedCandidates = candidates.map(c => window.normalizeAnswer(c)).filter(Boolean);
        if (normalizedCandidates.length === 0) return false;

        // helper: exact, substring, numeric, fuzzy
        function isNumericMatch(u, v) {
            const numU = Number(u);
            const numV = Number(v);
            if (!Number.isNaN(numU) && !Number.isNaN(numV)) return Math.abs(numU - numV) < 1e-6;
            return false;
        }

        function levenshtein(a, b) {
            const la = a.length, lb = b.length;
            if (la === 0) return lb;
            if (lb === 0) return la;
            const d = Array.from({ length: la + 1 }, () => new Array(lb + 1).fill(0));
            for (let i = 0; i <= la; i++) d[i][0] = i;
            for (let j = 0; j <= lb; j++) d[0][j] = j;
            for (let i = 1; i <= la; i++) {
                for (let j = 1; j <= lb; j++) {
                    const cost = a[i - 1] === b[j - 1] ? 0 : 1;
                    d[i][j] = Math.min(d[i - 1][j] + 1, d[i][j - 1] + 1, d[i - 1][j - 1] + cost);
                }
            }
            return d[la][lb];
        }

        // check each candidate
        for (const nc of normalizedCandidates) {
            if (nc === normalizedUser) return true; // exact
            if (normalizedUser.length >= 3 && nc.includes(normalizedUser)) return true; // user substring
            if (nc.length >= 3 && normalizedUser.includes(nc)) return true; // user contains correct
            if (isNumericMatch(normalizedUser, nc)) return true; // numeric

            // fuzzy: allow small distance relative to length
            const dist = levenshtein(normalizedUser, nc);
            const threshold = Math.max(1, Math.floor(nc.length * 0.25));
            if (dist <= threshold) return true;
        }

        return false;
    };

    // 提交文字答案
    window.submitTextAnswer = function(questionIndex) {
        const q = currentQuestions[questionIndex];
        if (!q || q.answered) return;
        
        const inputField = document.getElementById('textInput-' + questionIndex);
        if (!inputField) return;
        
        const userInput = inputField.value;
        // support multiple correct variants: q.correctText, q.correctTextEn, q.correctTextZh, q.correctTexts (array)
        const correctVariants = [];
        if (q.correctText !== undefined) correctVariants.push(q.correctText);
        if (q.correctTextEn !== undefined) correctVariants.push(q.correctTextEn);
        if (q.correctTextZh !== undefined) correctVariants.push(q.correctTextZh);
        if (Array.isArray(q.correctTexts)) correctVariants.push(...q.correctTexts);
        // fallback: if no explicit text variants, use options[correctIndex] if present
        if (correctVariants.length === 0 && Array.isArray(q.options) && q.correctIndex !== undefined) {
            const opt = q.options[q.correctIndex]; if (opt) correctVariants.push(opt);
        }

        const isCorrect = window.checkTextAnswer(userInput, correctVariants.length>0 ? correctVariants : '');
        
        q.answered = true;
        q.userAnswer = userInput;
        answeredQuestions++;
        
        // 顯示結果
        const container = questionIndex === 4 ? bonusOptions : document.getElementById('options' + (questionIndex + 1));
        if (!container) return;
        
        // 禁用輸入框和按鈕
        inputField.disabled = true;
        const submitBtn = document.getElementById('textSubmitBtn-' + questionIndex);
        if (submitBtn) submitBtn.disabled = true;
        
        // 添加   覺反饋
        if (isCorrect) {
            inputField.style.borderColor = 'var(--correct)';
            inputField.style.backgroundColor = 'rgba(0, 210, 106, 0.1)';
            if (questionIndex === 4) { levelScore += 15; score += 15; }
            else { levelScore += 10; score += 10; }
            correctAnswers++;
        } else {
            inputField.style.borderColor = 'var(--wrong)';
            inputField.style.backgroundColor = 'rgba(255, 55, 80, 0.1)';
            // 顯示正確答案（若有多種語言/變體，列出簡短提示）
            const hint = document.createElement('div');
            hint.style.marginTop = '10px';
            hint.style.color = 'var(--correct)';
            hint.style.fontSize = '14px';
            // build display list
            const displayVariants = [];
            if (q.correctText !== undefined) displayVariants.push(q.correctText);
            if (q.correctTextZh !== undefined) displayVariants.push(q.correctTextZh);
            if (q.correctTextEn !== undefined) displayVariants.push(q.correctTextEn);
            if (Array.isArray(q.correctTexts)) displayVariants.push(...q.correctTexts);
            if (displayVariants.length === 0 && Array.isArray(q.options) && q.correctIndex !== undefined) {
                const opt = q.options[q.correctIndex]; if (opt) displayVariants.push(opt);
            }
            hint.innerHTML = `✓ 正確答案: <strong>${displayVariants.slice(0,3).join(' / ')}</strong>`;
            container.appendChild(hint);
        }
        
        updateScore && updateScore();

        // 更新进度条和连击计数器
        if (typeof updateProgressBar === 'function') updateProgressBar();
        if (typeof updateCombo === 'function') updateCombo(isCorrect);

        if (answeredQuestions === totalQuestions) {
            setTimeout(() => { if (typeof showLevelResults === 'function') showLevelResults(); }, 600);
        }
    };

    // 渲染文字輸入題
    window.renderTextInput = function(container, questionIndex) {
        if (!container) return;
        container.innerHTML = '';
        
    const q = currentQuestions[questionIndex];
    // allow multiple possible correctText variants (correctText, correctTextZh, correctTextEn, correctTexts[])
    const hasTextAnswer = q && (q.correctText !== undefined || q.correctTextZh !== undefined || q.correctTextEn !== undefined || Array.isArray(q.correctTexts) && q.correctTexts.length>0);
    if (!q || !hasTextAnswer) return;
        
        const inputWrapper = document.createElement('div');
        inputWrapper.className = 'text-input-container';
        
        const inputField = document.createElement('input');
        inputField.id = 'textInput-' + questionIndex;
        inputField.className = 'text-input-field';
        inputField.type = 'text';
        inputField.placeholder = '請輸入答案...';
        inputField.style.fontSize = '16px';
        inputField.style.padding = '12px 15px';

        // 首次輸入時啟動計時器
        inputField.addEventListener('input', () => {
            if (typeof window.startTimer === 'function') {
                window.startTimer();
            }
        }, { once: true }); // 只監聽一次

        // 允許按 Enter 鍵提交
        inputField.addEventListener('keypress', (e) => {
            if (e.key === 'Enter' && !q.answered) {
                window.submitTextAnswer(questionIndex);
            }
        });
        
        const hint = document.createElement('div');
        hint.className = 'text-input-hint';
        hint.textContent = '💡 提示：輸入時   自動忽略大小寫、標點符號和空格，支援關鍵字或簡略答案（不需完整）';
        
        const submitBtn = document.createElement('button');
        submitBtn.id = 'textSubmitBtn-' + questionIndex;
        submitBtn.className = 'text-submit-btn';
        submitBtn.textContent = '提交答案';
        submitBtn.style.marginTop = '10px';
        submitBtn.addEventListener('click', () => window.submitTextAnswer(questionIndex));
        
        inputWrapper.appendChild(inputField);
        inputWrapper.appendChild(hint);
        inputWrapper.appendChild(submitBtn);
        container.appendChild(inputWrapper);
        
        // 自動聚焦輸入框
        inputField.focus();
    };

})();
</script>

<script>
// Helper used by the chinese-history generated index to create topic pages
function generateTopicHtmlTemplate(id, title) {
    const safeTitle = title.replace(/`/g, '\\`').replace(/</g,'&lt;').replace(/>/g,'&gt;');
    return `<!doctype html><html lang="zh-Hant"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>${safeTitle}</title>
        <style>body{font-family:Segoe UI,Arial,Helvetica,sans-serif;background:#071026;color:#e6eef8;padding:20px}h1{color:#ffd27a}a{color:#a3e635}</style></head><body>
        <h1>${id} ${safeTitle}</h1>
        <p>本頁為占位題綱頁，您可在此放入題庫、重點筆記、練習題或連結回遊戲。</p>
        <h3>簡短說明</h3>
        <p>建議包含：主要事件時間表、重要人物、關鍵概念與常見考題類型。</p>
        <p style="margin-top:18px;"><a href="#" onclick="window.close();return false;">關   本頁</a></p>
    </body></html>`;
}
</script>

<script>
// Defensive: ensure chinese-history card is visible and clickable even after manual edits
document.addEventListener('DOMContentLoaded', () => {
    const grid = document.querySelector('.category-grid');
    if (!grid) return;
    let chCard = grid.querySelector('[data-category="chinese-history"]');

    // If missing, recreate a visible card (fallback)
    if (!chCard) {
        chCard = document.createElement('div');
        chCard.className = 'category-card';
        chCard.setAttribute('data-category','chinese-history');
    // styling handled by CSS .category-card
        chCard.style.border = '2px solid rgba(255,159,67,0.18)';
        chCard.style.padding = '25px';
        chCard.style.borderRadius = '16px';
        chCard.innerHTML = `<div class="category-icon">📜</div><h3>中國歷史學霸王</h3><p>涵蓋從上古至近現代重要史事與主題，點擊查看各單元題目範疇</p>`;
        grid.appendChild(chCard);
    }

    // make sure it's visible (remove display:none if present)
    chCard.style.display = chCard.style.display === 'none' ? '' : chCard.style.display;
    chCard.setAttribute('tabindex','0');

    // attach handler (idempotent)
    function attach() {
        chCard.removeEventListener('click', chCard._ch_click);
        chCard._ch_click = function(ev){
            try { ev && ev.preventDefault && ev.preventDefault(); } catch(e){}
            // Navigate in-app to the game screen and set the selected category
            const intro = document.getElementById('introScreen');
            const categoryScreen = document.getElementById('categoryScreen');
            const mathScreen = document.getElementById('mathKingScreen');
            const gameScreen = document.getElementById('gameScreen');
            if (intro) intro.style.display = 'none';
            if (categoryScreen) categoryScreen.style.display = 'none';
            if (mathScreen) mathScreen.style.display = 'none';
            if (gameScreen) gameScreen.style.display = 'block';

            window.selectedCategory = 'chinese-history';
            const sel = document.getElementById('selectedCategoryName'); if (sel) sel.textContent = '中國歷史學霸王';
            const gameplayLabel = document.getElementById('selectedCategoryNameGameplay'); if (gameplayLabel) gameplayLabel.textContent = '中國歷史學霸王';

            // enable start button if present
            try { const startBtn = document.getElementById('startIntroBtn') || document.getElementById('startBtn'); if (startBtn) { startBtn.disabled = false; startBtn.style.opacity = '1'; startBtn.style.cursor = 'pointer'; startBtn.textContent = startBtn.textContent || '開始遊戲'; } } catch (e) {}

            if (typeof generateQuestions === 'function') { try { generateQuestions(); } catch(e){ console.warn(e); } }
            if (typeof initGame === 'function') { try { initGame(); } catch(e){ console.warn(e); } }
        };
        chCard.addEventListener('click', chCard._ch_click, { passive: false });
        chCard.addEventListener('keypress', (e)=>{ if (e.key==='Enter' || e.key===' ') { e.preventDefault(); chCard._ch_click(e); } });
    }

    attach();
});
</script>

<script>
document.addEventListener('DOMContentLoaded', () => {
    // Ensure the hk-estates card is inside the category screen grid
    const preferredGrid = document.querySelector('#categoryScreen .category-grid') || document.querySelector('.category-grid');
    if (!preferredGrid) return;

    // find any existing hk-estates card anywhere
    let existing = document.querySelector('[data-category="hk-estates"]');
    if (existing && existing !== preferredGrid.querySelector('[data-category="hk-estates"]')) {
        try { existing.remove(); } catch (e) {}
        existing = null;
    }

    if (!existing) {
        const card = document.createElement('div');
        card.className = 'category-card';
        card.setAttribute('data-category', 'hk-estates');
    // cursor/style handled by CSS .category-card
        card.innerHTML = `
            <div style="padding:18px; display:flex; flex-direction:column; gap:8px;">
                <div style="font-size:28px; font-weight:700;">🏘️ 香港屋邨知識王</div>
                <div style="font-size:14px; color: #cfd8dc;">問答涵蓋屋邨位置、落成年份、特色與重建等事實題目（來源：維基/房委會）</div>
            </div>
        `;

        // attach robust click handler
        function onClickHandler(ev) {
            try { ev && ev.preventDefault && ev.preventDefault(); ev && ev.stopPropagation && ev.stopPropagation(); } catch (e) {}
            console.log('[hk-estates] forced click');
            const intro = document.getElementById('introScreen');
            const categoryScreen = document.getElementById('categoryScreen');
            const mathScreen = document.getElementById('mathKingScreen');
            const gameScreen = document.getElementById('gameScreen');
            if (intro) intro.style.display = 'none';
            if (categoryScreen) categoryScreen.style.display = 'none';
            if (mathScreen) mathScreen.style.display = 'none';
            if (gameScreen) { gameScreen.style.display = 'block'; try{ gameScreen.scrollIntoView({behavior:'smooth'}); }catch(e){} }
            window.selectedCategory = 'hk-estates';
            const sel = document.getElementById('selectedCategoryName'); if (sel) sel.textContent = '香港屋邨知識王';
            const gameplayLabel = document.getElementById('selectedCategoryNameGameplay'); if (gameplayLabel) gameplayLabel.textContent = '香港屋邨知識王';
            try { const startBtn = document.getElementById('startIntroBtn') || document.getElementById('startBtn'); if (startBtn) { startBtn.disabled = false; startBtn.style.opacity = '1'; startBtn.style.cursor = 'pointer'; startBtn.textContent = startBtn.textContent || '開始遊戲'; } } catch (e) {}
            if (typeof generateQuestions === 'function') { try { generateQuestions(); } catch(e){ console.warn(e); } }
            if (typeof initGame === 'function') { try { initGame(); } catch(e){ console.warn(e); } }
        }

        card.addEventListener('click', onClickHandler, { passive: false });
        card.addEventListener('keypress', (e)=>{ if (e.key==='Enter' || e.key===' ') { e.preventDefault(); onClickHandler(e); } });

        preferredGrid.appendChild(card);
    } else {
        // reattach handler if card already exists in place
        const card = preferredGrid.querySelector('[data-category="hk-estates"]');
        if (card) {
            // remove former click listeners by cloning
            const newCard = card.cloneNode(true);
            card.parentNode.replaceChild(newCard, card);
            newCard.addEventListener('click', (e)=>{ try{ e.preventDefault(); e.stopPropagation(); }catch(err){} window.selectedCategory='hk-estates'; const gs=document.getElementById('gameScreen'); if(gs) gs.style.display='block'; if(typeof generateQuestions==='function') try{generateQuestions();}catch(e){}} , { passive: false });
            newCard.addEventListener('keypress', (e)=>{ if (e.key==='Enter' || e.key===' ') { e.preventDefault(); newCard.click(); } });
        }
    }
});
</script>

<script>
document.addEventListener('DOMContentLoaded', () => {
    // Create a category card for 香港司法機構及程序 if category grid exists
    const categoryGrid = document.querySelector('.category-grid');
    if (!categoryGrid) return;

    // Avoid duplicating if already present
    if (categoryGrid.querySelector('[data-category="hk-judiciary"]')) return;

    const card = document.createElement('div');
    card.className = 'category-card';
    card.setAttribute('data-category', 'hk-judiciary');
    // cursor handled by CSS .category-card
    card.innerHTML = `
        <div style="padding:18px; display:flex; flex-direction:column; gap:8px;">
            <div style="font-size:28px; font-weight:700;">⚖️ 香港司法機構及程序</div>
            <div style="font-size:14px; color: #cfd8dc;">法院等級、刑民程序、檢控與法律援助基本常識</div>
        </div>
    `;

    // Click behavior: select category and navigate to game screen
    card.addEventListener('click', () => {
        window.selectedCategory = 'hk-judiciary';
        const sel = document.getElementById('selectedCategoryName'); if (sel) sel.textContent = '香港司法機構及程序';
        const gameplayLabel = document.getElementById('selectedCategoryNameGameplay'); if (gameplayLabel) gameplayLabel.textContent = '香港司法機構及程序';

        // Generate questions first
        if (typeof generateQuestions === 'function') generateQuestions();

        // Then show game screen with proper timing
        if (typeof window.showGameScreen === 'function') {
            window.showGameScreen();
        } else {
            const intro = document.getElementById('introScreen');
            const categoryScreen = document.getElementById('categoryScreen');
            const mathScreen = document.getElementById('mathKingScreen');
            const gameScreen = document.getElementById('gameScreen');
            if (intro) intro.style.display = 'none';
            if (categoryScreen) categoryScreen.style.display = 'none';
            if (mathScreen) mathScreen.style.display = 'none';
            if (gameScreen) gameScreen.style.display = 'block';
        }

        // Init game after screen is shown
        setTimeout(() => {
            if (typeof initGame === 'function') initGame();
        }, 50);
    });

    categoryGrid.appendChild(card);
});
</script>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const categoryGrid = document.querySelector('.category-grid');
    if (!categoryGrid) return;
    if (categoryGrid.querySelector('[data-category="hk-weather"]')) return;

    const card = document.createElement('div');
    card.className = 'category-card';
    card.setAttribute('data-category', 'hk-weather');
    // cursor handled by CSS .category-card
    card.innerHTML = `
        <div style="padding:18px; display:flex; flex-direction:column; gap:8px;">
            <div style="font-size:28px; font-weight:700;">⛅ 香港天氣知識王</div>
            <div style="font-size:14px; color: #cfd8dc;">極端天氣、颱風信號、暴雨警告、氣候變化與應變指引</div>
        </div>
    `;

    card.addEventListener('click', () => {
        window.selectedCategory = 'hk-weather';
        const sel = document.getElementById('selectedCategoryName'); if (sel) sel.textContent = '香港天氣知識王';
        const gameplayLabel = document.getElementById('selectedCategoryNameGameplay'); if (gameplayLabel) gameplayLabel.textContent = '香港天氣知   王';

        // Generate questions first
        if (typeof generateQuestions === 'function') generateQuestions();

        // Then show game screen with proper timing
        if (typeof window.showGameScreen === 'function') {
            window.showGameScreen();
        } else {
            const intro = document.getElementById('introScreen');
            const categoryScreen = document.getElementById('categoryScreen');
            const mathScreen = document.getElementById('mathKingScreen');
            const gameScreen = document.getElementById('gameScreen');
            if (intro) intro.style.display = 'none';
            if (categoryScreen) categoryScreen.style.display = 'none';
            if (mathScreen) mathScreen.style.display = 'none';
            if (gameScreen) gameScreen.style.display = 'block';
        }

        // Init game after screen is shown
        setTimeout(() => {
            if (typeof initGame === 'function') initGame();
        }, 50);
    });

    categoryGrid.appendChild(card);
});
</script>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const grid = document.querySelector('.category-grid');
    if (!grid) return;
    const chCard = grid.querySelector('[data-category="chinese-history"]');
    if (!chCard) return;

    // add accessible behaviour
    chCard.setAttribute('tabindex', '0');
    chCard.addEventListener('click', (e) => {
        try { e && e.preventDefault && e.preventDefault(); } catch (e) {}
        // Open a generated index page in a new window (avoids needing external files)
        const topics = [
            '中華民族與早期國家的起源',
            '西周的封建',
            '春秋戰國時期的變局',
            '秦朝的統一、統治措施及衰亡',
            '兩漢的政治發展與中外文化交流',
            '魏晉南北朝的分裂與政權的更替',
            '北方政局與江南地區的開發',
            '魏晉南北朝的社會文化發展',
            '隋朝的統一與開皇之治',
            '隋代大運河的開通與作用',
            '唐的建國與盛世',
            '安史之亂與唐的衰亡',
            '開放的唐朝社會',
            '五代的興替與宋的統一',
            '兩宋政治及經濟的發展',
            '元朝的統治',
            '明代的君主集權政治',
            '明代國勢的張弛',
            '清朝與統一多民族國家的鞏固與發展',
            '外力衝擊與內憂',
            '清廷的圖強',
            '辛亥革命與民初政局',
            '國共合作與分裂',
            '日本侵華與抗日戰爭',
            '國共內戰',
            '建國至1978年間的內政與外交',
            '改革開放政策'
        ];

        const html = [`
            <!doctype html><html lang="zh-Hant"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>中國歷史學霸王 - 題目範疇</title>
            <style>body{font-family:Segoe UI,Arial,Helvetica,sans-serif;background:#0f1724;color:#e6eef8;padding:20px}a{color:#ffd27a;text-decoration:none}li{margin:8px 0;padding:12px;background:rgba(255,255,255,0.02);border-radius:6px}</style>
            </head><body><h1 style="color:#ffd27a">中國歷史學霸王 — 題目範疇</h1><p>點擊進入單元：</p><ul>
        `];

        topics.forEach((t, i)=>{
            const idx = String(i+1).padStart(2,'0');
            html.push(`<li><a href="#" onclick="window.open('about:blank').document.write(\`${generateTopicHtmlTemplate(idx,t)}\`);return false;">${idx}. ${t}</a></li>`);
        });

        html.push('</ul><p><a href="#" onclick="window.close();return false;">關閉</a></p></body></html>');

        const win = window.open('', '_blank');
        if (win) {
            win.document.open();
            win.document.write(html.join('\n'));
            win.document.close();
        } else {
            showAlertDialog('無法開啟新視窗，請允許彈出視窗或另存為檔案。');
        }
    });
    chCard.addEventListener('keypress', (e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); chCard.click(); } });
});
</script>

<script>
    document.addEventListener('DOMContentLoaded', ()=>{
    // provide a small starter math question bank (can be expanded later)
    window.mathKingQuestions = window.mathKingQuestions || [
        { category: '中一', question: '有向數：-5 + 3 = ?', options: ['-8','-2','2','8'], correct: 1 },
        { category: '中二', question: '因式分解：將 x^2 - 5x + 6 因式分解', options: ['(x-2)(x-3)','(x+2)(x+3)','(x-1)(x-6)','不可因式分解'], correct: 0 },
        { category: '中三', question: '三角比：sin 30° = ?', options: ['1/2','√2/2','√3/2','1'], correct: 0 }
    ];

    const mathCards = document.querySelectorAll('[data-category="math-king"]');
    const mathScreen = document.getElementById('mathKingScreen');
    const intro = document.getElementById('introScreen');
    const categoryScreen = document.getElementById('categoryScreen');

    mathCards.forEach(card => {
        card.addEventListener('click', () => {
            if (intro) intro.style.display = 'none';
            if (categoryScreen) categoryScreen.style.display = 'none';
            if (mathScreen) mathScreen.style.display = 'block';
            window.selectedCategory = 'math-king';
            const sel = document.getElementById('selectedCategoryName'); if (sel) sel.textContent = '學霸數學知識王';
            const gameplayLabel = document.getElementById('selectedCategoryNameGameplay'); if (gameplayLabel) gameplayLabel.textContent = '學霸數學知識王';
        });
        card.setAttribute('tabindex','0');
        card.addEventListener('keypress', (e)=>{ if (e.key==='Enter' || e.key===' ') { e.preventDefault(); card.click(); } });
    });

    document.querySelectorAll('.math-back-btn').forEach(btn => btn.addEventListener('click', ()=>{
        if (mathScreen) mathScreen.style.display = 'none';
        if (categoryScreen) categoryScreen.style.display = 'block';
        categoryScreen && categoryScreen.scrollIntoView({behavior:'smooth'});
    }));

    const mathStartBtn = document.getElementById('mathStartBtn');
    if (mathStartBtn) mathStartBtn.addEventListener('click', ()=>{
        window.selectedCategory = 'math-king';
        const gameScreen = document.getElementById('gameScreen');
        if (intro) intro.style.display = 'none';
        if (categoryScreen) categoryScreen.style.display = 'none';
        if (mathScreen) mathScreen.style.display = 'none';
        if (gameScreen) gameScreen.style.display = 'block';
        // generate math questions and init game if available
        if (typeof generateQuestions === 'function') generateQuestions();
        if (typeof initGame === 'function') initGame();
    });
});
</script>

<script>
document.addEventListener('DOMContentLoaded', () => {
    // Ensure a global placeholder question bank exists so generateQuestions find it
    window.hkEstatesQuestions = window.hkEstatesQuestions || [];

    const categoryGrid = document.querySelector('.category-grid');
    if (!categoryGrid) return;
    if (categoryGrid.querySelector('[data-category="hk-estates"]')) return;

    const card = document.createElement('div');
    card.className = 'category-card';
    card.setAttribute('data-category', 'hk-estates');
    // cursor handled by CSS .category-card
    card.innerHTML = `
        <div style="padding:18px; display:flex; flex-direction:column; gap:8px;">
            <div style="font-size:28px; font-weight:700;">🏘️ 香港屋邨知識王</div>
            <div style="font-size:14px; color: #cfd8dc;">問答涵蓋屋邨位置、落成年份、特色與重建等事實題目（來源：維基/房   會）</div>
        </div>
    `;

    card.addEventListener('click', (ev) => {
        try {
            ev && ev.preventDefault && ev.preventDefault();
            ev && ev.stopPropagation && ev.stopPropagation();
        } catch (e) {}

        console.log('[hk-estates] category clicked — forcing game screen and generation');

        const intro = document.getElementById('introScreen');
        const categoryScreen = document.getElementById('categoryScreen');
        const mathScreen = document.getElementById('mathKingScreen');
        const gameScreen = document.getElementById('gameScreen');
        if (intro) intro.style.display = 'none';
        if (categoryScreen) categoryScreen.style.display = 'none';
        if (mathScreen) mathScreen.style.display = 'none';
        if (gameScreen) { gameScreen.style.display = 'block'; try{ gameScreen.scrollIntoView({behavior:'smooth'}); }catch(e){} }

        window.selectedCategory = 'hk-estates';
        const sel = document.getElementById('selectedCategoryName'); if (sel) sel.textContent = '香港屋邨知識王';
        const gameplayLabel = document.getElementById('selectedCategoryNameGameplay'); if (gameplayLabel) gameplayLabel.textContent = '香港屋邨知識王';

        // enable start button if present
        try {
            const startBtn = document.getElementById('startIntroBtn') || document.getElementById('startBtn');
            if (startBtn) { startBtn.disabled = false; startBtn.style.opacity = '1'; startBtn.style.cursor = 'pointer'; startBtn.textContent = startBtn.textContent || '開始遊戲'; }
        } catch (e) {}

        if (typeof generateQuestions === 'function') {
            try { generateQuestions(); } catch (e) { console.warn('generateQuestions error', e); }
        }
        if (typeof initGame === 'function') {
            try { initGame(); } catch (e) { console.warn('initGame error', e); }
        }
    }, { passive: false });

    categoryGrid.appendChild(card);
});
</script>

<script>
(function(){
// --- START: Injected bilingual starter banks (zh/en structured) ---
// 自學私家車題庫 (hkDrivingQuestions) - bilingual structured starter set
const hkDrivingQuestions = [
    { question_zh: "自動波與手動   (棍波)的主要差別是什麼？", question_en: "What's the main difference between automatic and manual (stick) transmission?", options: [
        { zh: "自動換檔與無需踩離合器", en: "Automatic shifting; no clutch pedal" },
        { zh: "手動較省油且無需學習", en: "Manual is always more fuel-efficient and requires no learning" },
        { zh: "自動車沒有煞車", en: "Automatic cars have no brakes" },
        { zh: "手動沒有排檔桿", en: "Manual has no gear lever" }
    ], correctIndex: 0 },
    { question_zh: "汽油車(油車)與電動車在保養上最大的不同？", question_en: "What's the biggest maintenance difference between petrol cars and electric vehicles?", options: [
        { zh: "電動車無需定期機油更換", en: "EVs don't require regular oil changes" },
        { zh: "汽油車不用換輪胎", en: "Petrol cars never need tyre changes" },
        { zh: "電動車不需保險", en: "EVs don't need insurance" },
        { zh: "汽油車的剎車系統較簡單", en: "Petrol cars have simpler brakes" }
    ], correctIndex: 0 },
    { question_zh: "P牌駕駛者代表什麼？", question_en: "What does a P-plate driver indicate?", options: [
        { zh: "   取得牌照的見習駕駛者", en: "A newly-licensed/practising driver" },
        { zh: "專   司機", en: "A professional driver" },
        { zh: "外國駕駛者", en: "A foreign driver" },
        { zh: "長期駕駛經驗者", en: "An experienced driver" }
    ], correctIndex: 0 },
    { question_zh: "買二手車時，辦理過戶通常需要哪項文件？", question_en: "Which document is commonly required when transferring ownership of a used car?", options: [
        { zh: "車主簽署的轉名表格與牌照文件", en: "Signed transfer forms and the vehicle licence" },
        { zh: "餐廳收據", en: "A restaurant receipt" },
        { zh: "護照影本即可" , en: "Passport copy only" },
        { zh: "無需任何文件" , en: "No documents required" }
    ], correctIndex: 0 },
    { question_zh: "購買汽車保險時常見的三種保障包括哪些？", question_en: "What are three common coverages in car insurance?", options: [
        { zh: "第三者責任、全險(綜合)、盜竊/火災", en: "Third-party liability, comprehensive, theft/fire" },
        { zh: "牙醫、宗教、旅遊保險", en: "Dental, religion, travel" },
        { zh: "房屋保險、醫療、壽險", en: "Home, medical, life" },
        { zh: "手機保險、寵物保險、旅行保險", en: "Phone, pet, travel" }
    ], correctIndex: 0 },
    { question_zh: "定期保養項目不包括哪一項？", question_en: "Which of the following is NOT typically part of regular car maintenance?", options: [
        { zh: "機油與濾芯更換", en: "Oil and filter changes" },
        { zh: "輪胎檢查與調胎壓", en: "Tyre check and pressure adjustment" },
        { zh: "內部引擎拆解大修(非必要)", en: "Full internal engine teardown (not routine)" },
        { zh: "煞車片檢查", en: "Brake-pad inspection" }
    ], correctIndex: 2 },
    { question_zh: "香港駕駛考試一般包含哪些部分？", question_en: "Which parts are generally included in the Hong Kong driving test?", options: [
        { zh: "路試、視覺/理論測驗、倒庫/泊車測試", en: "Road test, eyesight/theory test, reversing/parking" },
        { zh: "游泳測試", en: "Swimming test" },
        { zh: "樂器演奏測試", en: "Instrument playing test" },
        { zh: "無任何測驗", en: "No tests at all" }
    ], correctIndex: 0 },
    { question_zh: "行車時要在轉彎前使用的燈是？", question_en: "Which signal should be used before making a turn?", options: [
        { zh: "方向燈 (轉向燈)", en: "Turn signal (indicator)" },
        { zh: "大燈長亮", en: "Headlights high beam" },
        { zh: "   燈閃爍", en: "Fog lights flashing" },
        { zh: "喇叭長按", en: "Hold the horn" }
    ], correctIndex: 0 },
    { question_zh: "倒車入庫時最重要的安全步驟為何？", question_en: "What is the most important safety step when reversing into a parking space?", options: [
        { zh: "環視盲點並慢速控制車速", en: "Check blind spots and control speed slowly" },
        { zh: "猛踩油門", en: "Floor the accelerator" },
        { zh: "關閉所有燈", en: "Turn off all lights" },
        { zh: "不停按喇叭", en: "Keep honking" }
    ], correctIndex: 0 },
    { question_zh: "踏板三件套通常是哪些？", question_en: "Which are the three common pedals in a manual car?", options: [
        { zh: "離合器、煞車、油門", en: "Clutch, brake, accelerator" },
        { zh: "煞車、喇叭、音響", en: "Brake, horn, stereo" },
        { zh: "油門、方向盤、車燈", en: "Accelerator, steering wheel, lights" },
        { zh: "離合器、保險桿、排檔桿", en: "Clutch, bumper, gearstick" }
    ], correctIndex: 0 },
    { question_zh: "何謂防抱死煞車(ABS)？", question_en: "What is ABS (Anti-lock Braking System)?", options: [
        { zh: "一種防止車輪在緊急制動時鎖死的系統", en: "A system preventing wheel lock-up during emergency braking" },
        { zh: "升降車窗系統", en: "Window lift system" },
        { zh: "音響防噪系統", en: "Audio noise control" },
        { zh: "自動導航系統", en: "Automatic navigation" }
    ], correctIndex: 0 },
    { question_zh: "行車前要檢查的三項重要事項包括？", question_en: "Which are three important pre-drive checks?", options: [
        { zh: "輪胎氣壓/油量/燈光功能", en: "Tyre pressure, fuel level, lights function" },
        { zh: "座椅加熱、音樂音量、空調溫度", en: "Seat heater, music volume, A/C temperature" },
        { zh: "行李重量、車身顏色、貼紙是否完整", en: "Luggage weight, paint colour, stickers" },
        { zh: "只需帶鑰匙即可", en: "Only bring the key" }
    ], correctIndex: 0 },
    { question_zh: "二手車買賣中的 '車輛驗車' 主要是檢查什麼？", question_en: "What does a vehicle inspection for used-car transaction mainly check?", options: [
        { zh: "車輛結構、安全設備、引擎狀況與路試", en: "Structure, safety devices, engine condition and road test" },
        { zh: "車主年齡", en: "Owner age" },
        { zh: "車內音響品牌", en: "Audio brand" },
        { zh: "車牌號碼是否好看", en: "If the plate number is nice" }
    ], correctIndex: 0 },
    { question_zh: "在香港道路上遇到交通燈由   轉黃時應如何處理？", question_en: "How should you react when a traffic light turns from green to amber in Hong Kong?", options: [
        { zh: "如可安全停車則應減速並停車，否則安全通過", en: "Slow and stop if safe to do so; otherwise proceed safely" },
        { zh: "立即加速通過", en: "Speed up to pass immediately" },
        { zh: "打開車門下車查   ", en: "Open the door and get out to check" },
        { zh: "倒車離開路口", en: "Reverse out of the junction" }
    ], correctIndex: 0 },
    { question_zh: "新車首次保養通常建議在多少公里數或時間內？", question_en: "When is the first service for a new car commonly recommended?", options: [
        { zh: "大約行駛1,000–5,000公里或首三個月視廠商建議", en: "Around 1,000–5,000 km or within first 3 months per manufacturer" },
        { zh: "十年後", en: "After ten years" },
        { zh: "不需要保養", en: "No servicing needed" },
        { zh: "每天做大保養", en: "Full service daily" }
    ], correctIndex: 0 },
    { question_zh: "倒車時最應該注意哪三個方向？", question_en: "Which three directions should you particularly check when reversing?", options: [
        { zh: "左、右、後方盲點", en: "Left, right and rear blind spots" },
        { zh: "天花板、車底、引擎蓋", en: "Ceiling, undercarriage, bonnet" },
        { zh: "收音機頻率、氣壓、手機訊號", en: "Radio, air pressure, mobile signal" },
        { zh: "只看後視鏡就夠了", en: "Only rearview mirror is enough" }
    ], correctIndex: 0 },
    // sample text-input question
    { question_zh: "請簡述辦理汽車過戶的一個主要步驟（1-5字）", question_en: "Briefly state one main step in transferring car ownership (1-5 words)", correctText_zh: "簽署轉名表格", correctText_en: "sign transfer form", type: "text" }
];

// 英語學習題庫 (分級 starter banks) — 使用結構化中英對照
const englishP6Questions = [
    { question_zh: "(Present Simple) 他每天走路上學嗎？請選正確句型。", question_en: "(Present Simple) Does he walk to school every day? Choose the correct sentence.", options: [
        { zh: "Does he walk to school every day?", en: "Does he walk to school every day?" },
        { zh: "He walks to school every day?", en: "He walks to school every day?" },
        { zh: "Does he walks to school every day?", en: "Does he walks to school every day?" },
        { zh: "Walks he to school every day?", en: "Walks he to school every day?" }
    ], correctIndex: 0 },
    { question_zh: "(Past Simple) 昨天他吃了蘋果。正確句型為？", question_en: "(Past Simple) He ate an apple yesterday. Which is correct?", options: [
        { zh: "He ate an apple yesterday.", en: "He ate an apple yesterday." },
        { zh: "He eats an apple yesterday.", en: "He eats an apple yesterday." },
        { zh: "He is eat an apple yesterday.", en: "He is eat an apple yesterday." },
        { zh: "He will eat an apple yesterday.", en: "He will eat an apple yesterday." }
    ], correctIndex: 0 },
    { question_zh: "(Interrogative) 如何將 'She can swim' 改為疑問句？", question_en: "(Interrogative) How to make 'She can swim' into a question?", options: [
        { zh: "Can she swim?", en: "Can she swim?" },
        { zh: "She can swim?", en: "She can swim?" },
        { zh: "Does she can swim?", en: "Does she can swim?" },
        { zh: "Is she can swim?", en: "Is she can swim?" }
    ], correctIndex: 0 },
    { question_zh: "(Imperative) 請選出禮貌的命令句：'請關門'", question_en: "(Imperative) Choose the polite imperative for 'Please close the door'", options: [
        { zh: "Please close the door.", en: "Please close the door." },
        { zh: "Close the door now or else.", en: "Close the door now or else." },
        { zh: "You must close the door.", en: "You must close the door." },
        { zh: "Door close please.", en: "Door close please." }
    ], correctIndex: 0 },
    { question_zh: "(Modal) '應該' 的英文常見表示為何？", question_en: "(Modal) Which modal verb commonly expresses 'should'?", options: [
        { zh: "should", en: "should" },
        { zh: "can", en: "can" },
        { zh: "may", en: "may" },
        { zh: "will", en: "will" }
    ], correctIndex: 0 },
    { question_zh: "(Singular/Plural) 'There are ___ apples on the table.' 填空選項", question_en: "(Singular/Plural) 'There are ___ apples on the table.' Fill the blank.", options: [
        { zh: "many", en: "many" },
        { zh: "much", en: "much" },
        { zh: "a", en: "a" },
        { zh: "an", en: "an" }
    ], correctIndex: 0 }
];

// Sec 1-4 starter questions focusing on tense review and sentence types
const englishS1Questions = [
    { question_zh: "(Present Continuous) 他現在正在做什麼？選正確句型。", question_en: "(Present Continuous) What is he doing now? Choose the correct form.", options: [
        { zh: "He is reading a book.", en: "He is reading a book." },
        { zh: "He reads a book now.", en: "He reads a book now." },
        { zh: "He read a book now.", en: "He read a book now." },
        { zh: "He will read a book now.", en: "He will read a book now." }
    ], correctIndex: 0 },
    { question_zh: "(Simple Future) 我明天會去郵局。哪個句子正確？", question_en: "(Simple Future) I will go to the post office tomorrow. Which sentence is correct?", options: [
        { zh: "I will go to the post office tomorrow.", en: "I will go to the post office tomorrow." },
        { zh: "I going to post office tomorrow.", en: "I going to post office tomorrow." },
        { zh: "I goes to the post office tomorrow.", en: "I goes to the post office tomorrow." },
        { zh: "I gone to the post office tomorrow.", en: "I gone to the post office tomorrow." }
    ], correctIndex: 0 },
    { question_zh: "(Comparative) 'big' 的比較級與最高級為何？", question_en: "(Comparative) What are the comparative and superlative forms of 'big'?", options: [
        { zh: "bigger, biggest", en: "bigger, biggest" },
        { zh: "more big, most big", en: "more big, most big" },
        { zh: "bigeer, bigest", en: "bigeer, bigest" },
        { zh: "biggestest, biggestest", en: "biggestest, biggestest" }
    ], correctIndex: 0 }
];

const englishS2Questions = [
    { question_zh: "(Past Perfect) 在兩個過去事件中先發生的事件應使用哪個時態？", question_en: "(Past Perfect) Which tense is used for the earlier of two past events?", options: [
        { zh: "Past perfect", en: "Past perfect" },
        { zh: "Present perfect", en: "Present perfect" },
        { zh: "Simple past", en: "Simple past" },
        { zh: "Future perfect", en: "Future perfect" }
    ], correctIndex: 0 },
    { question_zh: "(Modal) '可能' 常用哪個情態動詞？", question_en: "(Modal) Which modal verb often expresses 'might' or 'may'?", options: [
        { zh: "may/might", en: "may/might" },
        { zh: "must", en: "must" },
        { zh: "should", en: "should" },
        { zh: "can", en: "can" }
    ], correctIndex: 0 }
];

const englishS3Questions = [
    { question_zh: "(Declarative) 請選出敘述句：'She plays piano.'", question_en: "(Declarative) Choose the declarative sentence: 'She plays piano.'", options: [
        { zh: "She plays the piano.", en: "She plays the piano." },
        { zh: "Does she play piano?", en: "Does she play piano?" },
        { zh: "Play the piano!", en: "Play the piano!" },
        { zh: "Playing she piano.", en: "Playing she piano." }
    ], correctIndex: 0 },
    { question_zh: "(Adverbial phrase) 選出表示頻率的副詞片語。", question_en: "(Adverbial phrase) Choose the adverbial phrase that indicates frequency.", options: [
        { zh: "once a week", en: "once a week" },
        { zh: "in the kitchen", en: "in the kitchen" },
        { zh: "under the table", en: "under the table" },
        { zh: "at midnight", en: "at midnight" }
    ], correctIndex: 0 }
];

const englishS4Questions = [
    { question_zh: "(Complex sentences) 哪一   包含從屬子句？", question_en: "(Complex sentences) Which sentence contains a subordinate clause?", options: [
        { zh: "I will go if it does not rain.", en: "I will go if it does not rain." },
        { zh: "I go to school.", en: "I go to school." },
        { zh: "Go now!", en: "Go now!" },
        { zh: "She and he went.", en: "She and he went." }
    ], correctIndex: 0 },
    { question_zh: "(Degree modifiers) 'very' 在句中用來修飾什麼？", question_en: "(Degree modifiers) What does 'very' modify in a sentence?", options: [
        { zh: "形容詞或副詞以加強程度", en: "An adjective or adverb to intensify degree" },
        { zh: "名詞", en: "A noun" },
        { zh: "動詞原形", en: "A verb base form" },
        { zh: "連詞", en: "A conjunction" }
    ], correctIndex: 0 }
];

// Expose to global for defensive use (existing code checks typeof hkDrivingQuestions)
window.hkDrivingQuestions = typeof window.hkDrivingQuestions !== 'undefined' && window.hkDrivingQuestions.length>0 ? window.hkDrivingQuestions.concat(hkDrivingQuestions) : hkDrivingQuestions.slice();
window.englishP6Questions = typeof window.englishP6Questions !== 'undefined' && window.englishP6Questions.length>0 ? window.englishP6Questions.concat(englishP6Questions) : englishP6Questions.slice();
window.englishS1Questions = typeof window.englishS1Questions !== 'undefined' && window.englishS1Questions.length>0 ? window.englishS1Questions.concat(englishS1Questions) : englishS1Questions.slice();
window.englishS2Questions = typeof window.englishS2Questions !== 'undefined' && window.englishS2Questions.length>0 ? window.englishS2Questions.concat(englishS2Questions) : englishS2Questions.slice();
window.englishS3Questions = typeof window.englishS3Questions !== 'undefined' && window.englishS3Questions.length>0 ? window.englishS3Questions.concat(englishS3Questions) : englishS3Questions.slice();
window.englishS4Questions = typeof window.englishS4Questions !== 'undefined' && window.englishS4Questions.length>0 ? window.englishS4Questions.concat(englishS4Questions) : englishS4Questions.slice();

// Auto-run sanitize/dedupe on next page load (defensive)
if (typeof window.sanitizeAndDedupeBanks === 'function') {
    try { window.sanitizeAndDedupeBanks(); } catch (e) { console.warn('sanitizeAndDedupeBanks failed:', e); }
}
// --- END: Injected bilingual starter banks ---
})();
</script>

<!-- Injected: additional starter question banks (non-destructive, appended) -->
<script>
(function(){
    const additions = {};

    additions.aiQuestions = [
        { question: "下列哪一項屬於監督式學習的常見任務？", options: ["分類 (Classification)", "聚類 (Clustering)", "降維 (Dimensionality reduction)", "生成 (Generation)"], correct: 0 },
        { question: "在深度學習中，常用來避免過擬合的技術是？", options: ["Dropout", "Batching", "ReLU", "Softmax"], correct: 0 },
        { question: "Transformer 最初應用在哪個領域？", options: ["自然語言處理", "電腦視覺", "強化學習", "推薦系統"], correct: 0 },
        { question: "GAN 的 'G' 與 'D' 分別代表什麼？", options: ["Generator 與 Discriminator", "Gradient 與 Decoder", "Graph 與 Data", "Gaussian 與 Dirichlet"], correct: 0 },
        { question: "何者不是模型評估的常用指標？", options: ["資料庫連接   ", "準確率(Accuracy)", "精確率(Precision)", "召回率(Recall)"], correct: 0 }
    ];

    additions.webQuestions = [
        { question: "HTML 中用   放置頁面標題的標籤是？", options: ["<title>", "<header>", "<h1>", "<meta>"], correct: 0 },
        { question: "哪個 CSS 屬性用來設定彈性容器子項的排列方向？", options: ["flex-direction", "justify-content", "align-items", "display"], correct: 0 },
        { question: "在前端中，哪個事件會在 DOM 完全載入但資源（圖片等）可能尚未載入時觸   ？", options: ["DOMContentLoaded", "load", "click", "readystatechange"], correct: 0 },
        { question: "為提高可存取性，圖片標籤應該包含哪個屬性？", options: ["alt", "title", "srcset", "data-src"], correct: 0 },
        { question: "在 HTTP 中，哪個狀態碼代表資源不存在？", options: ["404", "200", "500", "301"], correct: 0 }
    ];

    additions.programmingQuestions = [
        { question: "在一般程式語言中，'迴圈' 常用來做什麼？", options: ["重複執行程式碼區塊", "定   資料結構", "宣告變數類型", "編譯程式碼"], correct: 0 },
        { question: "下列何者是不可變(immutable)資料結構的例子？", options: ["字串 (String)", "陣列 (Array)", "物件 (Object)", "可變集合 (Mutable set)"], correct: 0 },
        { question: "在除錯時常用的兩種策略是？", options: ["列印日誌與逐步執行 (logging & step-debug)", "重啟電腦與換螢幕", "刪除程式碼與重寫", "只用猜測法"], correct: 0 },
        { question: "何者為常見的時間複雜度表示法？", options: ["O(n)", "5x", "#lines", "percent"], correct: 0 }
    ];

    additions.gameDevQuestions = [
        { question: "碰撞偵測(Collision Detection)通常用於哪個遊戲系統？", options: ["物理或碰撞系統", "音效系統", "介面佈局", "版本控制"], correct: 0 },
        { question: "在遊戲開發中，'FPS' 既可以代表 'Frames Per Second'，也常代表？", options: ["First-Person Shooter", "Fast Performance System", "File Processing Service", "Feature Pull System"], correct: 1 },
        { question: "常見的遊戲迴圈(主循環)步驟不包含下列哪一項？", options: ["編譯源代碼 (compile)", "處理輸入 (input)", "更新狀態 (update)", "   現畫面 (render)"], correct: 0 }
    ];

    additions.securityQuestions = [
        { question: "XSS 攻擊全名是？", options: ["跨站指令碼攻擊 (Cross-Site Scripting)", "跨來源資源共享 (CORS)", "跨站請求偽造 (CSRF)", "SQL 注入"], correct: 0 },
        { question: "HTTPS 相對 HTTP 的主要優勢是？", options: ["加密傳輸與伺服器驗證", "速度更快", "不需要 DNS", "可省略憑證"], correct: 0 },
        { question: "在密碼學中，對稱式加密的特徵是？", options: ["使用相同金鑰做加密與解密", "使用公私鑰對", "只能做簽章", "無法解密"], correct: 0 }
    ];

    additions.databaseQuestions = [
        { question: "SQL 中用來篩選資料的關鍵字是？", options: ["WHERE", "ORDER BY", "GROUP BY", "HAVING"], correct: 0 },
        { question: "關聯式資料庫 (RDBMS) 的主要特徵為何？", options: ["以表格(rows/tables)以及明確的關聯存放資料", "只能存放文字", "不支援查詢語言", "資料永遠不會改變"], correct: 0 },
        { question: "建立索引(index)的主要目的是？", options: ["加速查詢速度", "減少磁碟空間", "加密資料", "備份資料庫"], correct: 0 }
    ];

    additions.multimediaQuestions = [
        { question: "在影像處理中，'解析度' 常指的是？", options: ["像素數量或像素密度", "檔案類型", "   彩名稱", "採樣頻率"], correct: 0 },
        { question: "常見的音訊檔案格式   包含下列哪一項？", options: ["PNG", "MP3", "WAV", "AAC"], correct: 0 },
        { question: "在影片剪輯中，剪輯軟體常用的時間軸單位是   ", options: ["幀 (frames)", "行 (lines)", "字元 (chars)", "百分比"], correct: 0 }
    ];

    additions.computerConfigQuestions = [
        { question: "電腦升級時常見增加效能的元件是哪個？", options: ["增加 RAM", "更換滑鼠", "更換   幕電源線", "更換鍵盤蓋"], correct: 0 },
        { question: "SSD 相較於傳統 HDD 的優勢是？", options: ["讀寫速度較快且無機械震動", "容量較小且更便宜", "需要更多電力", "只能用於伺服器"], correct: 0 },
        { question: "BIOS/UEFI 的功能不包含下列哪一項？", options: ["撰寫應用程式的商業邏輯", "初始化硬體並啟動作業系統", "硬體設定介面", "提供開機診斷資訊"], correct: 0 }
    ];

    // Append non-destructively to existing global banks
    Object.keys(additions).forEach(k => {
        try {
            if (typeof window[k] !== 'undefined' && Array.isArray(window[k]) && window[k].length > 0) {
                window[k] = window[k].concat(additions[k]);
            } else {
                window[k] = additions[k].slice();
            }
        } catch (e) {
            console.warn('Failed to merge bank', k, e);
            try { window[k] = additions[k].slice(); } catch(e2){}
        }
    });

    // quick log to help testing
    try { console.info('Appended question banks:', Object.keys(additions)); } catch(e){}
})();
</script>

<!-- Injected: bilingual English learning bank + category card (non-destructive) -->
<script>
(function(){
    const newBank = [
        // Present Simple
        { question: '現在簡單式 Present Simple | 現在簡單式用來表示經常發生或習慣性動作。\n例題：He (go) to school every day.  Which is correct?', options: ['He goes to school every day. | 他每天上學。', 'He go to school every day. | 他每天上學。', 'He going to school every day. | 他每天上學。', 'He gone to school every day. | 他每天上學。'], correct: 0 },
        { question: 'Present Simple | Choose the correct negative form: She (not / like) coffee.', options: ['She does not like coffee. | 她不喜歡咖啡。', 'She not likes coffee. | 她不喜歡咖啡。', "She doesn't likes coffee. | 她不喜歡咖啡。", 'She no like coffee. | 她不喜歡咖啡。'], correct: 0 },

        // Past Simple
        { question: '過去簡單式 Past Simple | 表示已發生且結束的過去動   。\n例題：They (visit) Hong Kong last year.', options: ['They visited Hong Kong last year. | 他們去年到過香港。', 'They visit Hong Kong last year. | 他們去年到過香港。', 'They have visit Hong Kong last year. | 他們去年到過香港。', 'They will visit Hong Kong last year. | 他們去年到過香港。'], correct: 0 },

        // Present Continuous
        { question: '現在進行式 Present Continuous | 表示正在進行的動作。\n例題：I (study) now.', options: ['I am studying now. | 我現在正在唸書。', 'I study now. | 我現在唸書。', 'I studies now. | 我現在唸書。', 'I am study now. | 我現在唸書。'], correct: 0 },

        // Simple Future
        { question: '簡單未來式 Simple Future | 用 will 或 be going to 表示未來。\n例題：She (call) you tomorrow.', options: ['She will call you tomorrow. | 她明天會打電話給你。', 'She calls you tomorrow. | 她明天打電話給你。', 'She called you tomorrow. | 她明天打電話給你。', 'She calling you tomorrow. | 她明天打電話給你。'], correct: 0 },

        // Past Perfect
        { question: '過去完成式 Past Perfect | 用於兩個過去動作，表示較早發生者。\n例題：By the time we arrived, the film (already / start).', options: ['had already started | 已經開始了', 'already started | 已經開始了', 'has already started | 已經開始了', 'was already start | 已經開始了'], correct: 0 },

        // Declarative / Interrogative / Imperative
        { question: '敘述句 Declarative | Which is a declarative sentence?', options: ['He likes music. | 他喜歡音樂。', 'Do you like music? | 你喜歡音樂嗎？', 'Please close the door. | 請關門。', 'What a nice day! | 多好的一天！'], correct: 0 },
        { question: '疑問句 Interrogative | Which is an interrogative sentence?', options: ['Do you like pizza? | 你喜歡披薩嗎？', 'I like pizza. | 我喜歡披薩。', 'Eat your vegetables. |    菜   ', 'They went home. | 他們回家了。'], correct: 0 },
        { question: '祈使句 Imperative | Which sentence is imperative (a command)?', options: ['Please sit down. | 請坐下。', 'She is sitting. | 她正在坐。', 'Is he coming? | 他來嗎？', 'They were late. | 他們遲到。'], correct: 0 },

        // Main verbs / Auxiliary / Modal
        { question: '主要動詞 Main verb vs. 助動詞 Auxiliary | Which is a main verb?', options: ['eat | 吃 (主要動詞)', 'do | 做 (助動詞/助詞)', 'have (as auxiliary) | 有 (助動詞)', 'will (modal) | 將'] , correct: 0 },
        { question: '情態動詞 Modal verbs | Which sentence uses a modal verb to express ability?', options: ['She can swim. | 她會游泳。', 'She swims. | 她游泳。', 'She will swim. | 她會游泳（未來）。', 'She doing swim. | 她在游泳。'], correct: 0 },

        // Descriptive / Comparing / Degree modifiers
        { question: '形容詞比較 Comparing | Choose the superlative form: small → ______', options: ['smallest | 最小的', 'more small | 更小', 'most small | 最多小', 'smaller | 更小的'], correct: 0 },
        { question: '程度副詞 Degree modifiers | Which sentence uses a degree modifier?', options: ['She is very happy. | 她非常高興。', 'She is happy. | 她高興。', 'She be happy. | 她是高興。', 'Happy she is. | 她高興。'], correct: 0 },

        // Adverbial phrases / Complex
        { question: '副詞片語 Adverbial phrases | Which is an adverbial phrase of frequency?', options: ['once a week | 每週一次', 'in the morning | 在早上', 'under the table | 在桌下', 'at midnight | 在午夜'], correct: 0 },
        { question: '複雜副詞片語 Complex adverbial phrase | Choose the sentence with a complex adverbial clause.', options: ['I will go if it does not rain. | 如果不下雨我就去。', 'I will go. | 我會去。', 'Go now! | 現在去！', 'He go to school. | 他去學校。'], correct: 0 },

        // Singular / Plural and exceptions
        { question: '單複數 Singular/Plural | Choose the correct plural of "child".', options: ['children | 孩子們', 'childs | 錯誤', 'childes | 錯誤', 'child | 單數'], correct: 0 },
        { question: '例外與不規則變化 Irregular | Past tense of "go" is?', options: ['went | 去（過去式）', 'goed | 錯誤', 'gone | 過去分詞', 'going | 現在分詞'], correct: 0 },

        // Writing email for work (practical)
        { question: '寫作 Email (工作用) | Choose the most appropriate formal email opening.', options: ['Dear Mr. Chan, | 親愛的陳先生，', 'Hey Chan, | 嘿，陳', 'Yo Chan, | 嘿', 'Hiya! | 哈囉！'], correct: 0 },
        { question: '寫作 Email (closing) | Which is a suitable formal closing?', options: ['Regards,\nJane | 此致\nJane', 'Bye,\nJane | 拜', 'See ya,\nJane | 後會', 'Take care,\nJane | 保重'], correct: 0 }
    ];

    try {
        if (Array.isArray(window.englishLearningQuestions) && window.englishLearningQuestions.length>0) {
            window.englishLearningQuestions = window.englishLearningQuestions.concat(newBank);
        } else {
            window.englishLearningQuestions = newBank.slice();
        }
    } catch (e) {
        window.englishLearningQuestions = newBank.slice();
    }

    // Ensure a category card exists and attach click handler
    document.addEventListener('DOMContentLoaded', () => {
        const grid = document.querySelector('.category-grid');
        if (!grid) return;
        if (grid.querySelector('[data-category="english-learning"]')) return;

        const card = document.createElement('div');
        card.className = 'category-card';
        card.setAttribute('data-category','english-learning');
    // cursor styling handled by .category-card CSS
        card.innerHTML = `
            <div style="padding:18px; display:flex; flex-direction:column; gap:8px;">
                <div style="font-size:28px; font-weight:700;">📝 學習英語 / English Learning</div>
                <div style="font-size:14px; color:#cfd8dc;">中英對照：時態、句型、實用電郵寫作練習（初學友善）</div>
            </div>
        `;

        const onClick = (ev) => {
            try { ev && ev.preventDefault && ev.preventDefault(); } catch(e){}
            const intro = document.getElementById('introScreen');
            const categoryScreen = document.getElementById('categoryScreen');
            const mathScreen = document.getElementById('mathKingScreen');
            const gameScreen = document.getElementById('gameScreen');
            if (intro) intro.style.display = 'none';
            if (categoryScreen) categoryScreen.style.display = 'none';
            if (mathScreen) mathScreen.style.display = 'none';
            if (gameScreen) gameScreen.style.display = 'block';

            window.selectedCategory = 'english-learning';
            const sel = document.getElementById('selectedCategoryName'); if (sel) sel.textContent = '學習英語 / English Learning';
            const gameplayLabel = document.getElementById('selectedCategoryNameGameplay'); if (gameplayLabel) gameplayLabel.textContent = '學習英語 / English Learning';

            try { const startBtn = document.getElementById('startIntroBtn') || document.getElementById('startBtn'); if (startBtn) { startBtn.disabled=false; startBtn.style.opacity='1'; startBtn.style.cursor='pointer'; startBtn.textContent = startBtn.textContent || '開始遊戲'; } } catch(e){}

            if (typeof generateQuestions === 'function') { try{ generateQuestions(); } catch(e){ console.warn(e); } }
            if (typeof initGame === 'function') { try{ initGame(); } catch(e){ console.warn(e); } }
        };

        card.addEventListener('click', onClick, { passive:false });
        card.addEventListener('keypress', (e)=>{ if (e.key==='Enter' || e.key===' ') { e.preventDefault(); onClick(e); } });

        grid.appendChild(card);
    });

    try { console.info('Injected english-learning bilingual bank and category card.'); } catch(e){}
})();
</script>

<!-- Injected: additional English-learning expansions (append only) -->
<script>
(function(){
    const extraQuestions = [
        { question: 'Present Simple: He (play) football every weekend.', options: ['He plays football every weekend. | 他每個週末踢足球。','He play football every weekend.','He played football every weekend.','He is play football every weekend.'], correct: 0 },
        { question: 'Past Simple: We (see) that movie last month.', options: ['We saw that movie last month. | 我們上個月看了那部電影。','We see that movie last month.','We have saw that movie last month.','We seen that movie last month.'], correct: 0 },
        { question: 'Present Continuous: She (study) for exams now.', options: ['She is studying for exams now. | 她現在正在準備考試。','She studies for exams now.','She studied for exams now.','She study now.'], correct: 0 },
        { question: 'Simple Future: I (help) you with the report tomorrow.', options: ['I will help you with the report tomorrow. | 我明天會幫你報告。','I help you tomorrow.','I helping you tomorrow.','I helped you tomorrow.'], correct: 0 },
        { question: 'Past Perfect: By the time he arrived, we (finish) dinner.', options: ['had finished | 我們已經吃完晚餐。','finished','have finished','were finishing'], correct: 0 },

        { question: 'Declarative vs Interrogative: Which is a question?', options: ['Are you coming? | 你會來嗎？','You are coming.','Come here.','They came.'], correct: 0 },
        { question: 'Imperative: Choose the polite command.', options: ['Please send the document by Friday. | 請在週五前寄文件。','You send the document by Friday.','Send the document by Friday?','Document should be sent.'], correct: 0 },

        { question: 'Modal verbs: Which expresses obligation?', options: ['should / must | 應該 / 必須','can','may','might'], correct: 0 },
        { question: 'Modal - ability: Choose correct.', options: ['She can speak three languages. | 她會說三種語言。','She may speak three languages.','She must speak three languages.','She should speak three languages.'], correct: 0 },

        { question: 'Main Verb vs Auxiliary: Identify main verb in sentence: "They have finished."', options: ['finished (main) | 完成（主要動詞）','have (main) | 錯誤','they (main) | 錯誤','finished (auxiliary) | 錯誤'], correct: 0 },

        { question: 'Comparing: Choose comparative form of "big".', options: ['bigger | 更大','biggest','more big','most big'], correct: 0 },
        { question: 'Degree modifiers: Which sentence uses a degree modifier?', options: ['She is quite happy. | 她相當高興。','She is happy.','She be happy.','Happy she is.'], correct: 0 },

        { question: 'Adverbial phrase (frequency): Which shows frequency?', options: ['twice a month | 每月兩次','on the table','in the morning','by car'], correct: 0 },
        { question: 'Complex adverbial clause: Identify sentence with condition.', options: ['If it rains, we will cancel. | 如果下雨，我們會取消。','I cancelled the meeting.','Rain heavily today.','They went because.'], correct: 0 },

        { question: 'Singular/Plural: Correct plural of "mouse"?', options: ['mice | 老鼠（複數）','mouses','micees','mouse'], correct: 0 },
        { question: 'Irregular exception: Past tense of "teach"?', options: ['taught | 教（過去式）','teached','teach','taughted'], correct: 0 },

        { question: 'Writing email: Choose a professional subject line for an invoice email.', options: ['Invoice for Project Alpha – Due 30 Nov | 專業範例','Hi, invoice attached','Invoice?','Please read invoice'], correct: 0 },
        { question: 'Writing email: Choose a polite closing.', options: ['Kind regards,\n[Name] | 此致\n敬禮','Bye,\n[Name]','See ya,\n[Name]','Thanks!'], correct: 0 }
    ];

    try {
        if (Array.isArray(window.englishLearningQuestions) && window.englishLearningQuestions.length>0) {
            window.englishLearningQuestions = window.englishLearningQuestions.concat(extraQuestions);
        } else {
            window.englishLearningQuestions = extraQuestions.slice();
        }
        console.info('Appended extra English-learning questions:', extraQuestions.length);
    } catch (e) {
        console.warn('Failed to append extra english questions', e);
        window.englishLearningQuestions = (window.englishLearningQuestions || []).concat(extraQuestions);
    }
})();
</script>

<!-- Injected: Scratch, Cangjie training and Math expansions (non-destructive) -->
<script>
(function(){
    // 1) Scratch question bank (non-destructive)
    const scratchAdd = [
        { question: 'Scratch: Which block starts a script when the green flag is clicked?', options: ['When green flag clicked | 綠旗被點擊時', 'Forever | 一直重複', 'If then | 如果...則', 'Change x by 10 | x 加 10'], correct: 0 },
        { question: 'Scratch: Which block is used to store values across the script?', options: ['Variable (make a variable) | 變數', 'Costume | 造型', 'Backdrop | 背景', 'Sound block | 音效積木'], correct: 0 },
        { question: 'Scratch: What does the "repeat" block do?', options: ['Runs the enclosed blocks a fixed number of times | 重複執行指定次數', 'Runs forever until stopped | 一直執行', 'Creates a new sprite | 建立角色', 'Saves a variable | 儲存變數'], correct: 0 },
        { question: 'Scratch: Which block checks a condition?', options: ['If <condition> then | 條件判斷', 'Set volume to | 設音量', 'Next costume | 下個造型', 'Play sound | 播放音效'], correct: 0 },
        { question: 'Scratch: Which block moves a sprite on the stage?', options: ['Change x by 10 | x 軸移動', 'Hide | 隱藏', 'Say Hello | 顯示文字', 'Wait 1 sec | 等待'], correct: 0 },
        { question: 'Scratch: Which reporter block gives you mouse x position?', options: ['mouse x | 滑鼠 X 座標', 'random position | 隨機', 'key pressed? | 鍵是否按下', 'touching color? | 碰到顏色?'], correct: 0 },
        { question: 'Scratch: What is a costume used for?', options: ['Changing the look of a sprite | 改變角色外觀', 'Playing sound', 'Changing stage size', 'Creating variables'], correct: 0 },
        { question: 'Scratch (text input): Explain what a broadcast message does. (short answer)', type: 'text', correctTextEn: 'sends a message to other scripts to trigger actions', correctTextZh: '發送訊息給其他腳本以觸發動作' },
        { question: 'Scratch (text input): Name one use of lists in Scratch.', type: 'text', correctTextEn: 'store multiple values|data storage|score list', correctTextZh: '儲存多個值|資料儲存|分數列表' }
    ];

    // 擴充幾個入門中級題目（先 push 到 scratchAdd，再一次性合併）
    try{ scratchAdd.push(
        { question: 'Scratch: 如何讓一個角色重複執行某段程式直到滿足條件？', options: ['使用 repeat until', '使用 broadcast', '使用 switch', '使用 wait'], correct: 0 },
        { question: 'Scratch: 哪個區塊可以改變變數的值？', options: ['change [variable] by [value]', 'look like', 'go to x: y:', 'next costume'], correct: 0 },
        { question: 'Scratch: 如何讓角色在碰到邊緣時反彈回來？', options: ['if on edge, bounce', 'go to mouse pointer', 'point in direction 90', 'set rotation style'], correct: 0 },
        { question: 'Scratch: 哪個積木可以讓角色說出一段文字？', options: ['say [Hello!] for (2) seconds', 'play sound', 'broadcast message', 'change color effect'], correct: 0 },
        { question: 'Scratch: 如何偵測角色是否碰到某個顏色？', options: ['touching color [ ]?', 'touching mouse-pointer?', 'distance to [ ]', 'x position'], correct: 0 },
        { question: 'Scratch: 要讓角色轉向滑鼠指標，應該使用哪個積木？', options: ['point towards [mouse-pointer]', 'go to [mouse-pointer]', 'mouse x', 'touching mouse-pointer?'], correct: 0 },
        { question: 'Scratch: 哪個積木可以產生隨機數字？', options: ['pick random (1) to (10)', 'answer', 'timer', 'days since 2000'], correct: 0 },
        { question: 'Scratch: 如何讓程式等待一段時間再繼續執行？', options: ['wait (1) seconds', 'forever', 'repeat (10)', 'stop all'], correct: 0 },
        { question: 'Scratch: 要偵測鍵盤按鍵是否被按下，應該使用？', options: ['key [space] pressed?', 'mouse down?', 'loudness', 'video motion'], correct: 0 },
        { question: 'Scratch: 如何讓角色隱藏起來不顯示？', options: ['hide', 'show', 'set size to 0%', 'go to x: (240) y: (180)'], correct: 0 },
        { question: 'Scratch: 要讓背景切換到下一個，應該使用？', options: ['next backdrop', 'next costume', 'switch backdrop to [ ]', 'change [ ] effect by (25)'], correct: 0 },
        { question: 'Scratch: 如何讓角色移動到舞台的中央？', options: ['go to x: (0) y: (0)', 'glide to mouse-pointer', 'change x by (10)', 'point in direction (90)'], correct: 0 },
        { question: 'Scratch: 列表（List）的主要用途是什麼？', options: ['儲存多個數值或資料項目', '改變角色外觀', '播放音效', '控制程式流程'], correct: 0 },
        { question: 'Scratch: 如何   角色發出聲音？', options: ['play sound [ ] until done', 'say [Hello!]', 'broadcast [ ]', 'set volume to (100)%'], correct: 0 },
        { question: 'Scratch: 要判斷兩個角色是否相碰，應該使用？', options: ['touching [sprite]?', 'distance to [sprite]', 'go to [sprite]', 'x position of [sprite]'], correct: 0 },
        { question: 'Scratch (問答題): 請簡述「廣播（broadcast）」功能的作用。', type: 'text', correctTextZh: '發送訊息|讓不同角色或程式互相溝通|觸發事件|傳送信號' },
        { question: 'Scratch (問答   ): 「forever」迴圈和「repeat」迴圈有什麼不同？', type: 'text', correctTextZh: 'forever會一直執行|repeat只執行指定次   |forever無限|repeat有限次' },
        { question: 'Scratch (問答題): 變數（Variable）可以用來做什麼？', type: 'text', correctTextZh: '儲存數值|記錄分數|保存資料|計數|記憶狀態' },
        { question: 'Scratch: 如何讓角色在被點擊時執行程式？', options: ['when this sprite clicked', 'when green flag clicked', 'when backdrop switches to [ ]', 'when I receive [ ]'], correct: 0 },
        { question: 'Scratch: 要讓角色面向某個方向（例如向右），應設定方   為？', options: ['90度', '0度', '180度', '270度'], correct: 0 }
    ); }catch(e){}

    // 現在合併所有題目到 window.scratchQuestions
    window.scratchQuestions = (Array.isArray(window.scratchQuestions) && window.scratchQuestions.length>0) ? window.scratchQuestions.concat(scratchAdd) : scratchAdd.slice();

    // 2) generateScratchQuestions: minimal generator reusing existing renderOptions/renderTextInput
    window.generateScratchQuestions = function(){
        const bank = Array.isArray(window.scratchQuestions) ? window.scratchQuestions : [];
        if (!bank.length) { console.warn('No scratch questions available'); return; }
        // simple non-repeating selection
        function shuffle(a){ const arr=a.slice(); for(let i=arr.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1)); [arr[i],arr[j]]=[arr[j],arr[i]];} return arr; }
        const picks = shuffle(Array.from({length: bank.length}, (_,i)=>i)).slice(0,5).map(i=>bank[i]);
        // ensure globals expected by UI
        window.currentQuestions = window.currentQuestions || [];
        window.answeredQuestions = 0; window.levelScore = 0; window.correctAnswers = 0; window.totalQuestions = 5;
        window.comboCount = 0; // 重置连击计数

        // 重置进度条显示
        const progressBarFill = document.getElementById('progressBarFill');
        const progressPercentage = document.getElementById('progressPercentage');
        const answeredCount = document.getElementById('answeredCount');
        const totalCount = document.getElementById('totalCount');
        const comboContainer = document.getElementById('comboContainer');

        if (progressBarFill) progressBarFill.style.width = '0%';
        if (progressPercentage) progressPercentage.textContent = '0%';
        if (answeredCount) answeredCount.textContent = '0';
        if (totalCount) totalCount.textContent = window.totalQuestions;
        if (comboContainer) comboContainer.classList.remove('active');

        // 準備倒计时器（顯示25秒但不開始倒數，等待玩家首次作答時才開始）
        if (typeof window.prepareTimer === 'function') window.prepareTimer();

        for (let i=0;i<4;i++){
            const q = picks[i] || {question:'(題目暫缺)', options:['無'], correct:0};
            const contentEl = document.getElementById('content'+(i+1));
            const optContainer = document.getElementById('options'+(i+1));
            window.currentQuestions[i] = { question: q.question || '', options: q.options || [], correctIndex: q.correct!==undefined? q.correct : 0, inputType: q.type==='text' || q.type==='text' ? 'text' : (Array.isArray(q.options) && q.options.length>0 ? 'multiple' : 'text') };
            if (contentEl) contentEl.innerHTML = window.currentQuestions[i].question;
            if (typeof window.renderOptions === 'function') window.renderOptions(optContainer, window.currentQuestions[i].options, i);
            else if (window.currentQuestions[i].inputType==='text') window.renderTextInput(optContainer, i);
        }
        // bonus
        const b = picks[4] || {question:'(額外挑戰暫缺)', options:[], correct:0};
        window.currentQuestions[4] = { question: b.question, options: b.options||[], correctIndex: b.correct||0, inputType: Array.isArray(b.options)&&b.options.length>0 ? 'multiple' : 'text' };
        const bonusContent = document.getElementById('bonusContent'); const bonusOptions = document.getElementById('bonusOptions'); if (bonusContent) bonusContent.innerHTML = window.currentQuestions[4].question; if (typeof window.renderOptions==='function') window.renderOptions(bonusOptions, window.currentQuestions[4].options, 4);
    if (typeof window.updateScore==='function') window.updateScore();
    if (typeof window.__selfTestGenerators === 'function') try{ window.__selfTestGenerators('scratch'); }catch(e){}
    };

    // 3) Ensure Scratch category card exists and attach handler to all grids (and create if missing)
    document.addEventListener('DOMContentLoaded', ()=>{
        const grids = Array.from(document.querySelectorAll('.category-grid'));
        if (!grids || grids.length===0) return;

        function attachScratchHandler(card){
            if (!card) return;
            // avoid double-binding
            if (card.__scratchHandlerAttached) return; card.__scratchHandlerAttached = true;
            card.addEventListener('click', (ev)=>{
                try{ ev&&ev.preventDefault&&ev.preventDefault(); }catch(e){}
                const intro=document.getElementById('introScreen'); const categoryScreen=document.getElementById('categoryScreen'); const mathScreen=document.getElementById('mathKingScreen'); const gameScreen=document.getElementById('gameScreen'); if(intro) intro.style.display='none'; if(categoryScreen) categoryScreen.style.display='none'; if(mathScreen) mathScreen.style.display='none'; if(gameScreen) gameScreen.style.display='block';
                window.selectedCategory='scratch'; const sel=document.getElementById('selectedCategoryName'); if(sel) sel.textContent='Scratch 遊戲製作'; const gameplayLabel=document.getElementById('selectedCategoryNameGameplay'); if(gameplayLabel) gameplayLabel.textContent='Scratch 遊戲製作';
                if (typeof window.generateScratchQuestions==='function') try{ window.generateScratchQuestions(); }catch(e){console.warn(e);} 
                if (typeof window.initGame==='function') try{ window.initGame(); }catch(e){}
            }, { passive:false });
        }

        // ensure any existing [data-category="scratch"] cards have handlers
        const existing = Array.from(document.querySelectorAll('[data-category="scratch"]'));
        existing.forEach(attachScratchHandler);

        // ensure each grid has a Scratch card (create if missing) and attach handler
        grids.forEach(grid=>{
            if (!grid.querySelector('[data-category="scratch"]')){
                const card = document.createElement('div'); card.className='category-card'; card.setAttribute('data-category','scratch'); card.innerHTML=`<div class="category-icon">🧩</div><h3>Scratch 遊戲製作</h3><p>認識積木、變數、列表、廣播與控制流程</p>`;
                attachScratchHandler(card);
                grid.appendChild(card);
            }
        });
    });

    // 3b) Add a small question bank for 香港茶餐廳及大牌檔/飲茶文化 and ensure a card is present
    const teaAdd = [
        { question: '香港茶餐廳：哪一款飲品常見於茶   廳並以煉奶/淡奶調味？', options: ['絲襪奶茶','港式奶茶','柠檬茶','菊花茶'], correct: 1 },
        { question: '飲茶文化：點心中「蝦餃」主要由哪種食材製作？', options: ['豬肉','蝦','牛肉','雞肉'], correct: 1 },
        { question: '香港大牌檔：大牌檔通常是指哪種餐飲形式？', options: ['高檔餐廳','街邊小吃攤/檔','西式咖啡館','連鎖快餐店'], correct: 1 },
        { question: '飲茶 (text): 用一句中文簡述「飲茶」的社交意義。', type:'text', correctTextZh: '聚會社交|家庭聚餐|朋友聚會' }
    ];

    // 補充更多茶餐廳/飲茶題目（先 push 到 teaAdd   再一次性合併）
    try{ teaAdd.push(
        { question: '茶餐廳常見小食：哪一項通常是港式早餐的配搭？', options: ['菠蘿包', '提拉米蘇', '布丁', '法式麵包'], correct: 0 },
        { question: '港式奶茶製作的特色通常是？', options: ['加入煉奶或淡奶並經奶茶師傅沖泡', '完全不加奶', '只用綠茶', '使用汽水調配'], correct: 0 },
        { question: '飲茶文化：「叉燒包」是屬於哪一類點心？', options: ['包點類', '粥品類', '腸粉類', '甜品類'], correct: 0 },
        { question: '茶餐廳：「鴛鴦」是指哪兩種飲品的混合？', options: ['咖啡和奶茶', '奶茶和檸檬茶', '咖啡和可樂', '檸檬茶和汽水'], correct: 0 },
        { question: '飲茶文化：傳統飲茶時段通常是在一天的哪個時候？', options: ['早上至中午', '下午至傍晚', '晚上至深夜', '只在早餐時間'], correct: 0 },
        { question: '茶餐廳：「西多士」是一種什麼類型的食物？', options: ['法式吐司', '三明治', '蛋糕', '麵包布丁'], correct: 0 },
        { question: '飲茶點心：「燒賣」通常是用什麼肉類   作？', options: ['豬肉和蝦', '牛肉', '雞肉', '羊肉'], correct: 0 },
        { question: '茶餐廳：「凍檸茶」中的「凍」是指什   ？', options: ['加冰塊的', '冷凍的茶葉', '冰凍檸檬', '雪糕'], correct: 0 },
        { question: '飲茶文化：點心車通常會推出哪種類型的食物？', options: ['各式點心和小菜', '西式甜點', '只有飲品', '燒烤食物'], correct: 0 },
        { question: '茶餐廳：「蛋撻」的外皮通常有幾種款式？', options: ['牛油皮和酥皮兩種', '只有一種', '三種', '四種'], correct: 0 },
        { question: '飲茶文化：「腸粉」的主要材料是什麼？', options: ['米漿', '麵粉', '豆漿', '芋頭'], correct: 0 },
        { question: '茶餐廳：「奶油豬仔包」通常會配什麼吃？', options: ['煉奶或牛油', '果醬', '花生醬', '芝士'], correct: 0 },
        { question: '飲茶：豉汁鳳爪」是指什麼食材   ', options: ['雞腳', '豬腳', '鴨掌', '鵝掌'], correct: 0 },
        { question: '茶餐廳：「撈丁」通常是指什麼類型的麵食？', options: ['撈起的公仔麵', '湯麵', '炒麵', '米粉'], correct: 0 },
        { question: '飲茶文化：「流沙包」   內餡主要是什麼？', options: ['鹹蛋黃', '豆沙', '叉燒', '蓮蓉'], correct: 0 },
        { question: '茶餐廳：「茶走」是指什麼？', options: ['奶茶走糖改用煉奶', '不要茶', '走冰', '走奶'], correct: 0 },
        { question: '飲茶：「蘿蔔糕」通常在什麼時候特別受歡迎？', options: ['農曆新年', '中秋節', '端午節', '清明節'], correct: 0 },
        { question: '茶餐廳：「多士」是指什麼？', options: ['烤吐司/麵包片', '蛋糕', '餅乾', '曲奇'], correct: 0 },
        { question: '飲茶禮儀：在別人為你斟茶時，應該如何表示感謝？', options: ['用手指輕敲桌面', '點頭', '說謝謝', '舉杯'], correct: 0 },
        { question: '茶餐廳：「熱檸水」通常什麼時候喝？', options: ['感冒時或早餐', '只在冬天', '只   夏天', '睡前'], correct: 0 },
        { question: '飲茶 (問答題): 請說出三種常見的飲茶點心名稱。', type: 'text', correctTextZh: '蝦餃|燒賣|叉燒包|腸粉|鳳爪|排骨|春卷|糯米雞|蛋撻' },
        { question: '茶餐廳 (問答題): 港式奶茶為什麼又叫「絲襪奶茶」？', type: 'text', correctTextZh: '用棉布袋過濾|布袋像絲襪|濾網像絲襪|沖泡工具' },
        { question: '飲茶文化 (問答題): 「飲茶」除了喝茶吃點心，還有什麼社交意義？', type: 'text', correctTextZh: '家庭聚會|朋友聚會|社交活動|聯絡感情|談天說地|休閒娛樂' }
    ); }catch(e){}

    // 現在合併所有題目到 window.teaQuestions
    try { window.teaQuestions = (Array.isArray(window.teaQuestions) ? window.teaQuestions.concat(teaAdd) : (window.teaQuestions||[]).concat(teaAdd)); } catch(e){ window.teaQuestions = teaAdd.slice(); }

    // simple generator for tea culture questions (reuses renderOptions/renderTextInput if available)
    window.generateTeaQuestions = function(){
        const bank = Array.isArray(window.teaQuestions) ? window.teaQuestions : [];
        if (!bank.length) { console.warn('No tea-culture questions available'); return; }
    // ensure consistent globals like the other generators (5 questions: 4 main + 1 bonus)
    window.currentQuestions = [];
    window.answeredQuestions = 0; window.levelScore = 0; window.correctAnswers = 0; window.totalQuestions = 5;
    window.comboCount = 0; // 重置连击计数

    // 重置进度条显示
    const progressBarFill = document.getElementById('progressBarFill');
    const progressPercentage = document.getElementById('progressPercentage');
    const answeredCount = document.getElementById('answeredCount');
    const totalCount = document.getElementById('totalCount');
    const comboContainer = document.getElementById('comboContainer');

    if (progressBarFill) progressBarFill.style.width = '0%';
    if (progressPercentage) progressPercentage.textContent = '0%';
    if (answeredCount) answeredCount.textContent = '0';
    if (totalCount) totalCount.textContent = window.totalQuestions;
    if (comboContainer) comboContainer.classList.remove('active');
    const picks = bank.slice(0,5); // take up to 5
    for (let i=0;i<4;i++){
            const q = picks[i] || {question:'(題目暫缺)', options:['無'], correct:0};
            const contentEl = document.getElementById('content'+(i+1));
            const optContainer = document.getElementById('options'+(i+1));
            window.currentQuestions[i] = { question: q.question || '', options: q.options || [], correctIndex: q.correct!==undefined? q.correct : 0, inputType: q.type==='text' ? 'text' : (Array.isArray(q.options) && q.options.length>0 ? 'multiple' : 'text') };
            if (contentEl) contentEl.innerHTML = window.currentQuestions[i].question;
            if (typeof window.renderOptions === 'function') window.renderOptions(optContainer, window.currentQuestions[i].options, i);
            else if (window.currentQuestions[i].inputType==='text') window.renderTextInput(optContainer, i);
        }
        // bonus
        const b = picks[4] || {question:'(額外挑戰暫缺)', options:[], correct:0};
        window.currentQuestions[4] = { question: b.question, options: b.options||[], correctIndex: b.correct||0, inputType: Array.isArray(b.options)&&b.options.length>0 ? 'multiple' : 'text' };
        const bonusContent = document.getElementById('bonusContent'); const bonusOptions = document.getElementById('bonusOptions'); if (bonusContent) bonusContent.innerHTML = window.currentQuestions[4].question; if (typeof window.renderOptions==='function') window.renderOptions(bonusOptions, window.currentQuestions[4].options, 4);
    if (typeof window.updateScore==='function') window.updateScore();
    if (typeof window.updateLevelIndicator === 'function') window.updateLevelIndicator();
    if (typeof window.__selfTestGenerators === 'function') try{ window.__selfTestGenerators('tea-culture'); }catch(e){}
    };

    // Self-test helper: logs selectedCategory and number of currentQuestions after generator runs
    if (typeof window.__selfTestGenerators === 'undefined') {
        window.__selfTestGenerators = function(cat){
            try{ console.info('[self-test] category=', cat, 'selectedCategory=', window.selectedCategory, 'currentQuestionsLen=', Array.isArray(window.currentQuestions)? window.currentQuestions.length : 0); } catch(e){ console.warn('self-test error', e); }
        };
    }

    document.addEventListener('DOMContentLoaded', ()=>{
        const grids = Array.from(document.querySelectorAll('.category-grid'));
        if (!grids || grids.length===0) return;
        function attachTeaHandler(card){
            if (!card) return; if (card.__teaHandlerAttached) return; card.__teaHandlerAttached=true;
            card.addEventListener('click', (ev)=>{
                try{ ev&&ev.preventDefault&&ev.preventDefault(); }catch(e){}
                const intro=document.getElementById('introScreen'); const categoryScreen=document.getElementById('categoryScreen'); const mathScreen=document.getElementById('mathKingScreen'); const gameScreen=document.getElementById('gameScreen'); if(intro) intro.style.display='none'; if(categoryScreen) categoryScreen.style.display='none'; if(mathScreen) mathScreen.style.display='none'; if(gameScreen) gameScreen.style.display='block';
                window.selectedCategory='tea-culture'; const sel=document.getElementById('selectedCategoryName'); if(sel) sel.textContent='香港茶餐廳及大牌檔/飲茶文化'; const gameplayLabel=document.getElementById('selectedCategoryNameGameplay'); if(gameplayLabel) gameplayLabel.textContent='香港茶餐廳及大牌檔/飲茶文化';
                // if a category-specific generator exists, call it; otherwise fall back to general generator
                if (typeof window.generateTeaQuestions==='function') try{ window.generateTeaQuestions(); }catch(e){console.warn(e);} 
                else if (typeof window.generateQuestions==='function') try{ window.generateQuestions(); }catch(e){console.warn(e);} 
                if (typeof window.initGame==='function') try{ window.initGame(); }catch(e){}
            }, { passive:false });
        }
        // attach to existing cards or create one for each grid
        grids.forEach(grid=>{
            let card = grid.querySelector('[data-category="tea-culture"]');
            if (!card){
                card = document.createElement('div'); card.className='category-card'; card.setAttribute('data-category','tea-culture'); card.innerHTML=`<div class="category-icon">🍵</div><h3>香港茶餐廳及大牌檔/飲茶文化</h3><p>了解港式茶餐廳與飲茶文化、點心與街坊小吃</p>`;
                grid.appendChild(card);
            }
            attachTeaHandler(card);
        });
    });

    // 4) Cangjie training additions (non-destructive)
    const cangjieAdd = [
        { question: '倉頡：請拆解「明」字並輸入對應倉頡碼（速成示例）', type:'text', correctTextZh: '日月', correctTexts:['明'] },
        { question: '倉頡：部首「木」通常對應鍵位？(速   /倉頡)', options: ['木->木部鍵', '月->月部鍵','水->水部鍵','人->人部鍵'], correct: 0 },
        { question: '倉頡 (text): 簡述倉頡與速成的主要區別。', type:'text', correctTextEn: 'cangjie uses full component shapes while quick uses simplified stroke groups', correctTextZh: '倉頡以字形部件拆字，速成以筆畫或簡化部件' }
    ];
    // merge into global cangjieQuestions if possible
    try { window.cangjieQuestions = (Array.isArray(window.cangjieQuestions) ? window.cangjieQuestions.concat(cangjieAdd) : (window.cangjieQuestions||[]).concat(cangjieAdd)); } catch(e){ window.cangjieQuestions = cangjieAdd.slice(); }

    // When user selects cangjie category, ensure generateQuestions picks it up by merging into expected var
    // Also attach a defensive card handler in case original card lacks handler
    document.addEventListener('DOMContentLoaded', ()=>{
        const card = document.querySelector('[data-category="cangjie"]');
        if (card) {
            card.addEventListener('click', (ev)=>{
                try{ ev&&ev.preventDefault&&ev.preventDefault(); }catch(e){}
                // ensure global has cangjieQuestions
                window.cangjieQuestions = window.cangjieQuestions || [];
                const intro=document.getElementById('introScreen'); const categoryScreen=document.getElementById('categoryScreen'); const mathScreen=document.getElementById('mathKingScreen'); const gameScreen=document.getElementById('gameScreen'); if(intro) intro.style.display='none'; if(categoryScreen) categoryScreen.style.display='none'; if(mathScreen) mathScreen.style.display='none'; if(gameScreen) gameScreen.style.display='block';
                window.selectedCategory='cangjie'; const sel=document.getElementById('selectedCategoryName'); if(sel) sel.textContent='倉頡速成訓練及教學'; const gameplayLabel=document.getElementById('selectedCategoryNameGameplay'); if(gameplayLabel) gameplayLabel.textContent='倉頡速成訓練及教學';
                if (typeof window.generateQuestions==='function') try{ window.generateQuestions(); }catch(e){console.warn(e);} 
                if (typeof window.initGame==='function') try{ window.initGame(); }catch(e){}
            }, { passive:false });
        }
    });

    // 5) Expand mathKingQuestions (append non-destructively)
    const extraMath = [
        // 有向數
        { category: '中一', question: '有向數   -7 + 4 = ?', options: ['-3','3','11','-11'], correct: 0 },
        { category: '中一', question: '有向數：5 - (-2) = ?', options: ['7','3','-7','-3'], correct: 0 },
        // 代數式和方程式
        { category: '中二', question: '解方程：2x + 3 = 11，x = ?', options: ['4','3','2','5'], correct: 0 },
        { category: '中二', question: '化簡代數式：3a + 4a = ?', options: ['7a','12a','a','-a'], correct: 0 },
        // 指數及進制
        { category: '中三', question: '指數：2^5 = ?', options: ['32','10','25','16'], correct: 0 },
        { category: '中三', question: '二   制 1010 等於十進制多少？', options: ['10','8','12','5'], correct: 0 },
        // 多項式
        { category: '中二', question: '多項式相加： (x^2 + 2x) + (3x^2 - x) = ?', options: ['4x^2 + x','x^2 + x','2x^2 + x','4x^2 + x?'], correct: 0 },
        // 百分法
        { category: '中二', question: '百分法：20 的 15% 是多少？', options: ['3','2','30','0.3'], correct: 0 },
        // 近似值與估算
        { category: '中二', question: '   算：7.98 ≈ ?', options: ['8.0','7.9','7.0','8.5'], correct: 0 },
        // 幾何簡介
        { category: '中一', question: '三角形內角和是多少度？', options: ['180  ','90°','360°','270°'], correct: 0 },
        // 對稱及變換
        { category: '中一', question: '哪一種變換會將形狀左右翻轉？', options: ['Reflection | 鏡射','Translation | 平移','Rotation | 旋轉','Dilation | 放大縮小'], correct: 0 },
        // 全等及相似
        { category: '中二', question: '相似三角形主要是檢查什麼？', options: ['角相等與邊成比例','面積相同','邊長相同','沒有交集'], correct: 0 },
        // 量度方面的估計
        { category: '中一', question: '估計量度：一張 A4 紙大約是多少毫米寬？', options: ['210 mm','297 mm','148 mm','420 mm'], correct: 0 },
        // 面積及   積
        { category: '中二', question: '矩形面積公式是？', options: ['長 × 寬','長 + 寬','2 × (長 + 寬)','長 ÷ 寬'], correct: 0 },
        { category: '中三', question: '正方體體積公式是？', options: ['邊長^3','邊長^2','6 × 邊長^2','4 × 邊長'], correct: 0 },
        // 坐標簡介
        { category: '中一', question: '座標點 (3, -2) 在哪個象限？', options: ['四象限 (x>0,y<0) | Quadrant IV','一象限','二象限','三象限'], correct: 0 },
        // 統計簡介
        { category: '中二', question: '算術平均數 (mean) 的計算方法是？', options: ['總和除以數量','列出所有值','找中位數','取最大值'], correct: 0 }
    ];
    try { window.mathKingQuestions = Array.isArray(window.mathKingQuestions) ? window.mathKingQuestions.concat(extraMath) : extraMath.slice(); } catch(e){ window.mathKingQuestions = extraMath.slice(); }

    console.info('Injected Scratch, Cangjie, and Math expansions');
})();
</script>

<!-- Loader: fetch external data/*.json and merge non-destructively into in-page banks -->
<script>
(function(){
    const dataFiles = [
        { url: 'data/english-learning.json', varName: 'englishLearningQuestions' },
        { url: 'data/scratch.json', varName: 'scratchQuestions' },
        { url: 'data/cangjie.json', varName: 'cangjieQuestions' },
        { url: 'data/math-king.json', varName: 'mathKingQuestions' }
    ];

    async function loadAndMerge() {
        for (const f of dataFiles) {
            try {
                const resp = await fetch(f.url);
                if (!resp.ok) { console.info('No external file:', f.url); continue; }
                const arr = await resp.json();
                if (!Array.isArray(arr)) continue;
                window[f.varName] = Array.isArray(window[f.varName]) ? window[f.varName] : [];
                const seen = new Set(window[f.varName].map(q => (q.question||'').trim()));
                const toAdd = [];
                arr.forEach(q => { const key = (q.question||'').trim(); if (!seen.has(key)) { seen.add(key); toAdd.push(q); } });
                if (toAdd.length) {
                    window[f.varName] = window[f.varName].concat(toAdd);
                    console.info('Merged', toAdd.length, 'questions into', f.varName);
                }
            } catch (e) {
                console.warn('Failed to fetch/merge', f.url, e);
            }
        }
    }

    if (typeof window.addEventListener === 'function') {
        window.addEventListener('DOMContentLoaded', ()=>{ loadAndMerge().catch(e=>console.warn(e)); });
    } else {
        loadAndMerge().catch(e=>console.warn(e));
    }
})();
</script>

    </div></div></div></main>

<!-- Defensive init script: ensure game state for category clicks and robust text-input rendering -->
<script>
document.addEventListener('DOMContentLoaded', function(){
    function ensureGameState(category){
        try{
            if(!window.totalQuestions) window.totalQuestions = 5;
            if(!window.currentQuestions || !window.currentQuestions.length){
                var bank = [];
                if(window.bankMap && window.bankMap[category]) bank = window.bankMap[category];
                else if(window[category + 'Questions']) bank = window[category + 'Questions'];
                else if(window[category.replace(/-/g,'') + 'Questions']) bank = window[category.replace(/-/g,'') + 'Questions'];
                else if(window.scratchQuestions) bank = window.scratchQuestions;
                else if(window.teaQuestions) bank = window.teaQuestions;

                bank = Array.isArray(bank) ? bank.slice() : [];
                var picks = [];
                var maxQ = Math.min(5, bank.length);
                while(picks.length < maxQ && bank.length){
                    var idx = Math.floor(Math.random() * bank.length);
                    picks.push(bank.splice(idx,1)[0]);
                }
                window.currentQuestions = picks;
            }
            window.answeredQuestions = window.answeredQuestions || 0;
            window.correctAnswers = window.correctAnswers || 0;
            window.levelScore = window.levelScore || 0;
            window.totalQuestions = window.totalQuestions || 5;
            if(typeof window.updateScore === 'function') try{ window.updateScore(); }catch(e){}
            if(typeof window.updateLevelIndicator === 'function') try{ window.updateLevelIndicator(); }catch(e){}
        }catch(err){ console.error('ensureGameState error', err); }
    }

    // Patch renderTextInput to accept multiple correctText variants
    function patchRenderTextInput(){
        if(typeof window.renderTextInput === 'function'){
            try{
                var _orig = window.renderTextInput;
                window.renderTextInput = function(q, idx){
                    if(q && !q.correctText){
                        if(q.correctTextZh) q.correctText = q.correctTextZh;
                        else if(q.correctTextEn) q.correctText = q.correctTextEn;
                        else if(Array.isArray(q.correctTexts) && q.correctTexts.length) q.correctText = q.correctTexts[0];
                    }
                    return _orig.call(this, q, idx);
                };
                return true;
            }catch(e){ console.error('patchRenderTextInput error', e); }
        }
        return false;
    }

    // Try immediate patch, otherwise poll for the function to appear
    if(!patchRenderTextInput()){
        var tries = 0;
        var itv = setInterval(function(){
            tries++;
            if(patchRenderTextInput() || tries>12) clearInterval(itv);
        }, 300);
    }

    // Helper to show game screen with proper timing
    window.showGameScreen = function() {
        const intro = document.getElementById('introScreen');
        const categoryScreen = document.getElementById('categoryScreen');
        const mathScreen = document.getElementById('mathKingScreen');
        const gameScreen = document.getElementById('gameScreen');

        if (intro) intro.style.display = 'none';
        if (categoryScreen) categoryScreen.style.display = 'none';
        if (mathScreen) mathScreen.style.display = 'none';
        if (gameScreen) {
            gameScreen.style.display = 'block';
            // Force a reflow to ensure display change is applied
            gameScreen.offsetHeight;
            // Add a small delay to ensure rendering
            setTimeout(function() {
                gameScreen.style.opacity = '1';
            }, 10);
        }
    };

    // Capture-phase listener to ensure initialization before existing handlers
    document.addEventListener('click', function(e){
        var el = e.target && e.target.closest ? e.target.closest('.category-card') : null;
        if(el){
            var cat = el.getAttribute('data-category') || (el.dataset && el.dataset.category);
            if(cat) ensureGameState(cat);
        }
    }, true);

    // Small helper for quick self-tests
    window.__selfTestGenerators = function(cat){
        try{
            var c = cat || window.selectedCategory;
            console.info('[self-test] category=', c, 'selectedCategory=', window.selectedCategory, 'currentQuestionsLen=', (window.currentQuestions && window.currentQuestions.length) || 0);
        }catch(e){}
    };
});
</script>
<!-- ...existing code... -->

</body></html>

